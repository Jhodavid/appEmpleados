(self.webpackChunkempleados=self.webpackChunkempleados||[]).push([[179],{8255:Xe=>{function Ne(V){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+V+"'");throw f.code="MODULE_NOT_FOUND",f})}Ne.keys=()=>[],Ne.resolve=Ne,Ne.id=8255,Xe.exports=Ne},3018:(Xe,Ne,V)=>{"use strict";V.d(Ne,{deG:()=>ba,tb:()=>tD,AFp:()=>JT,ip1:()=>kb,CZH:()=>ic,hGG:()=>vR,z2F:()=>Hf,sBO:()=>an,Sil:()=>jf,_Vd:()=>Cd,EJc:()=>sv,SBq:()=>fs,qLn:()=>ve,vpe:()=>gs,gxx:()=>id,tBr:()=>Cl,XFs:()=>Me,OlP:()=>bn,zs3:()=>An,ZZ4:()=>mr,aQg:()=>D_,soG:()=>Uf,YKP:()=>Lw,v3s:()=>dR,h0i:()=>Go,PXZ:()=>mD,R0b:()=>Ls,FiY:()=>Hi,Lbi:()=>eD,g9A:()=>Lb,Qsj:()=>C_,FYo:()=>Un,JOm:()=>Ra,Tiy:()=>T_,q3G:()=>yn,tp0:()=>Sa,EAV:()=>LM,Rgc:()=>gf,dDg:()=>hD,DyG:()=>wl,q4F:()=>Ga,GfV:()=>pf,s_b:()=>xg,ifc:()=>pn,eFA:()=>_D,G48:()=>lv,Gpc:()=>fe,X6Q:()=>uv,_c5:()=>qu,VLi:()=>pD,c2e:()=>rD,zSh:()=>Sy,wAp:()=>Ee,vHH:()=>pe,EiD:()=>bp,mCW:()=>Cu,qzn:()=>wi,JVY:()=>Um,pB0:()=>jm,eBb:()=>vp,L6k:()=>Bm,LAX:()=>bu,cg1:()=>Mr,Tjo:()=>r0,kL8:()=>Pu,yhl:()=>Na,dqk:()=>$,sIi:()=>Pa,CqO:()=>Xh,QGY:()=>fd,F4k:()=>GE,RDi:()=>Qi,AaK:()=>Y,z3N:()=>Gi,qOj:()=>Py,TTD:()=>wc,_Bn:()=>KI,xp6:()=>J0,uIk:()=>OE,Tol:()=>i_,ekj:()=>ug,Suo:()=>pb,Xpm:()=>Jo,lG2:()=>tp,Yz7:()=>un,cJS:()=>Oi,oAB:()=>Xa,Yjl:()=>Ju,Y36:()=>hd,_UZ:()=>Jy,BQk:()=>e_,ynx:()=>Xy,qZA:()=>jE,TgZ:()=>Qy,EpF:()=>oI,n5z:()=>vl,Ikx:()=>cw,LFG:()=>Vn,$8M:()=>ns,NdJ:()=>pd,CRH:()=>RT,oxw:()=>n_,ALo:()=>z_,lcZ:()=>W_,Q6J:()=>Xp,VKq:()=>G_,iGM:()=>Z_,CHM:()=>Cc,oJD:()=>Ip,LSH:()=>as,kYT:()=>Bs,Udp:()=>ag,d8E:()=>dw,YNc:()=>$C,_uU:()=>tw,Oqu:()=>tf,hij:()=>hg});var f=V(9765),ee=V(5319),F=V(7574),de=V(6682),ne=V(2441);var he=V(1307);function K(){return new f.xQ}function L(i){for(let s in i)if(i[s]===L)return s;throw Error("Could not find renamed property on target object.")}function J(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ie(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ce=L({__forward_ref__:L});function fe(i){return i.__forward_ref__=fe,i.toString=function(){return Y(this())},i}function z(i){return _e(i)?i():i}function _e(i){return"function"==typeof i&&i.hasOwnProperty(Ce)&&i.__forward_ref__===fe}class pe extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function Be(i){return"string"==typeof i?i:null==i?"":String(i)}function Et(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Be(i)}function ue(i,s){const o=s?` in ${s}`:"";throw new pe("201",`No provider for ${Et(i)} found${o}`)}function hn(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function un(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Oi(i){return{providers:i.providers||[],imports:i.imports||[]}}function Lr(i){return fi(i,Tn)||fi(i,uo)}function fi(i,s){return i.hasOwnProperty(s)?i[s]:null}function pi(i){return i&&(i.hasOwnProperty(Cr)||i.hasOwnProperty(at))?i[Cr]:null}const Tn=L({\u0275prov:L}),Cr=L({\u0275inj:L}),uo=L({ngInjectableDef:L}),at=L({ngInjectorDef:L});var Me=(()=>((Me=Me||{})[Me.Default=0]="Default",Me[Me.Host=1]="Host",Me[Me.Self=2]="Self",Me[Me.SkipSelf=4]="SkipSelf",Me[Me.Optional=8]="Optional",Me))();let zt;function fn(i){const s=zt;return zt=i,s}function $t(i,s,o){const u=Lr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Me.Optional?null:void 0!==s?s:void ue(Y(i),"Injector")}function Qe(i){return{toString:i}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),pn=(()=>((pn=pn||{})[pn.Emulated=0]="Emulated",pn[pn.None=2]="None",pn[pn.ShadowDom=3]="ShadowDom",pn))();const Vr="undefined"!=typeof globalThis&&globalThis,lo="undefined"!=typeof window&&window,G="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$=Vr||"undefined"!=typeof global&&global||lo||G,ze={},Ge=[],Ht=L({\u0275cmp:L}),nn=L({\u0275dir:L}),Xt=L({\u0275pipe:L}),Yr=L({\u0275mod:L}),xt=L({\u0275loc:L}),rn=L({\u0275fac:L}),or=L({__NG_ELEMENT_ID__:L});let Yu=0;function Jo(i){return Qe(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ge,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||pn.Emulated,id:"c",styles:i.styles||Ge,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,d=i.features,m=i.pipes;return u.id+=Yu++,u.inputs=ki(i.inputs,o),u.outputs=ki(i.outputs),d&&d.forEach(_=>_(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ja):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(Qu):null,u})}function Ja(i){return ar(i)||function(i){return i[nn]||null}(i)}function Qu(i){return function(i){return i[Xt]||null}(i)}const Us={};function Xa(i){return Qe(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ge,declarations:i.declarations||Ge,imports:i.imports||Ge,exports:i.exports||Ge,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Us[i.id]=i.type),s})}function Bs(i,s){return Qe(()=>{const o=Wn(i,!0);o.declarations=s.declarations||Ge,o.imports=s.imports||Ge,o.exports=s.exports||Ge})}function ki(i,s){if(null==i)return ze;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,s&&(s[c]=d)}return o}const tp=Jo;function Ju(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function ar(i){return i[Ht]||null}function Wn(i,s){const o=i[Yr]||null;if(!o&&!0===s)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return o}function Jr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Kt(i){return Array.isArray(i)&&!0===i[1]}function nu(i){return 0!=(8&i.flags)}function el(i){return 2==(2&i.flags)}function Xr(i){return 1==(1&i.flags)}function Li(i){return null!==i.template}function yc(i){return 0!=(512&i[2])}function Ur(i,s){return i.hasOwnProperty(rn)?i[rn]:null}class Vi{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function wc(){return mo}function mo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Xd),Ui}function Ui(){const i=yo(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===ze)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Xd(i,s,o,u){const c=yo(i)||function(i,s){return i[np]=s}(i,{previous:ze,current:null}),d=c.current||(c.current={}),m=c.previous,_=this.declaredInputs[o],b=m[_];d[_]=new Vi(b&&b.currentValue,s,m===ze),i[u]=s}wc.ngInherit=!0;const np="__ngSimpleChanges__";function yo(i){return i[np]||null}let Gs;function Qi(i){Gs=i}function _o(){return void 0!==Gs?Gs:"undefined"!=typeof document?document:void 0}function ln(i){return!!i.listen}const ua={createRenderer:(i,s)=>_o()};function Dt(i){for(;Array.isArray(i);)i=i[0];return i}function iu(i,s){return Dt(s[i])}function Tr(i,s){return Dt(s[i.index])}function Ji(i,s){return i.data[s]}function Yn(i,s){const o=s[i];return Jr(o)?o:o[0]}function Eo(i){return 4==(4&i[2])}function la(i){return 128==(128&i[2])}function qs(i,s){return null==s?null:i[s]}function ca(i){i[18]=0}function al(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const lt={lFrame:dl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function bc(){return lt.bindingsEnabled}function xe(){return lt.lFrame.lView}function Mt(){return lt.lFrame.tView}function Cc(i){return lt.lFrame.contextLView=i,i[8]}function wn(){let i=rh();for(;null!==i&&64===i.type;)i=i.parent;return i}function rh(){return lt.lFrame.currentTNode}function mi(i,s){const o=lt.lFrame;o.currentTNode=i,o.isParent=s}function ou(){return lt.lFrame.isParent}function zs(){lt.lFrame.isParent=!1}function bo(){return lt.isInCheckNoChangesMode}function Xi(i){lt.isInCheckNoChangesMode=i}function Br(){const i=lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function es(){return lt.lFrame.bindingIndex++}function Is(i){const s=lt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Ic(i,s){const o=lt.lFrame;o.bindingIndex=o.bindingRootIndex=i,fa(s)}function fa(i){lt.lFrame.currentDirectiveIndex=i}function cl(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Co(){return lt.lFrame.currentQueryIndex}function Tc(i){lt.lFrame.currentQueryIndex=i}function ip(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function oh(i,s,o){if(o&Me.SkipSelf){let c=s,d=i;for(;!(c=c.parent,null!==c||o&Me.Host||(c=ip(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;s=c,i=d}const u=lt.lFrame=ah();return u.currentTNode=s,u.lView=i,!0}function Io(i){const s=ah(),o=i[1];lt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ah(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?dl(i):s}function dl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function uh(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Iv=uh;function sp(){const i=uh();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ei(){return lt.lFrame.selectedIndex}function ts(i){lt.lFrame.selectedIndex=i}function cn(){const i=lt.lFrame;return Ji(i.tView,i.selectedIndex)}function pa(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:I,ngOnDestroy:A}=d;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),_&&((i.contentHooks||(i.contentHooks=[])).push(o,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,_)),b&&(i.viewHooks||(i.viewHooks=[])).push(-o,b),I&&((i.viewHooks||(i.viewHooks=[])).push(o,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,I)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(o,A)}}function ga(i,s,o){Nc(i,s,3,o)}function Sc(i,s,o,u){(3&i[2])===o&&Nc(i,s,o,u)}function To(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Nc(i,s,o,u){const d=null!=u?u:-1,m=s.length-1;let _=0;for(let b=void 0!==u?65535&i[18]:0;b<m;b++)if("number"==typeof s[b+1]){if(_=s[b],null!=u&&_>=u)break}else s[b]<0&&(i[18]+=65536),(_<d||-1==d)&&(Rc(i,o,s,b),i[18]=(4294901760&i[18])+b+2),b++}function Rc(i,s,o,u){const c=o[u]<0,d=o[u+1],_=i[c?-o[u]:o[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{d.call(_)}finally{}}}else try{d.call(_)}finally{}}class Do{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function dn(i,s,o){const u=ln(i);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const m=o[c++],_=o[c++],b=o[c++];u?i.setAttribute(s,_,b,m):s.setAttributeNS(m,_,b)}else{const m=d,_=o[++c];fl(m)?u&&i.setProperty(s,m,_):u?i.setAttribute(s,m,_):s.setAttribute(m,_),c++}}return c}function cu(i){return 3===i||4===i||6===i}function fl(i){return 64===i.charCodeAt(0)}function du(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||pl(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function pl(i,s,o,u,c){let d=0,m=i.length;if(-1===s)m=-1;else for(;d<i.length;){const _=i[d++];if("number"==typeof _){if(_===s){m=-1;break}if(_>s){m=d-1;break}}}for(;d<i.length;){const _=i[d];if("number"==typeof _)break;if(_===o){if(null===u)return void(null!==c&&(i[d+1]=c));if(u===i[d+1])return void(i[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==m&&(i.splice(m,0,s),d=m+1),i.splice(d++,0,o),null!==u&&i.splice(d++,0,u),null!==c&&i.splice(d++,0,c)}function gl(i){return-1!==i}function hu(i){return 32767&i}function fu(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let pu=!0;function ma(i){const s=pu;return pu=i,s}let Je=0;function Ds(i,s){const o=Ao(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,cr(u.data,i),cr(s,null),cr(u.blueprint,null));const c=Zs(i,s),d=i.injectorIndex;if(gl(c)){const m=hu(c),_=fu(c,s),b=_[1].data;for(let I=0;I<8;I++)s[d+I]=_[m+I]|b[m+I]}return s[d+8]=c,d}function cr(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ao(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Zs(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){const d=c[1],m=d.type;if(u=2===m?d.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function $n(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(or)&&(u=o[or]),null==u&&(u=o[or]=Je++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,o)}function Rm(i,s,o){if(o&Me.Optional)return i;ue(s,"NodeInjector")}function _a(i,s,o,u){if(o&Me.Optional&&void 0===u&&(u=null),0==(o&(Me.Self|Me.Host))){const c=i[9],d=fn(void 0);try{return c?c.get(s,u,o&Me.Optional):$t(s,u,o&Me.Optional)}finally{fn(d)}}return Rm(u,s,o)}function yi(i,s,o,u=Me.Default,c){if(null!==i){const d=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(or)?i[or]:void 0;return"number"==typeof s?s>=0?255&s:Mc:s}(o);if("function"==typeof d){if(!oh(s,i,u))return u&Me.Host?Rm(c,o,u):_a(s,o,u,c);try{const m=d(u);if(null!=m||u&Me.Optional)return m;ue(o)}finally{Iv()}}else if("number"==typeof d){let m=null,_=Ao(i,s),b=-1,I=u&Me.Host?s[16][6]:null;for((-1===_||u&Me.SkipSelf)&&(b=-1===_?Zs(i,s):s[_+8],-1!==b&&So(u,!1)?(m=s[1],_=hu(b),s=fu(b,s)):_=-1);-1!==_;){const A=s[1];if(up(d,_,A.data)){const M=yl(_,s,o,m,u,I);if(M!==hh)return M}b=s[_+8],-1!==b&&So(u,s[1].data[_+8]===I)&&up(d,_,s)?(m=A,_=hu(b),s=fu(b,s)):_=-1}}}return _a(s,o,u,c)}const hh={};function Mc(){return new _i(wn(),xe())}function yl(i,s,o,u,c,d){const m=s[1],_=m.data[i+8],A=va(_,m,o,null==u?el(_)&&pu:u!=m&&0!=(3&_.type),c&Me.Host&&d===_);return null!==A?Ea(s,m,A,_):hh}function va(i,s,o,u,c){const d=i.providerIndexes,m=s.data,_=1048575&d,b=i.directiveStart,A=d>>20,P=c?_+A:i.directiveEnd;for(let B=u?_:_+A;B<P;B++){const W=m[B];if(B<b&&o===W||B>=b&&W.type===o)return B}if(c){const B=m[b];if(B&&Li(B)&&B.type===o)return b}return null}function Ea(i,s,o,u){let c=i[o];const d=s.data;if(function(i){return i instanceof Do}(c)){const m=c;m.resolving&&function(i,s){throw new pe("200",`Circular dependency in DI detected for ${i}`)}(Et(d[o]));const _=ma(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?fn(m.injectImpl):null;oh(i,u,Me.Default);try{c=i[o]=m.factory(void 0,d,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=s.type.prototype;if(u){const m=mo(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,d))}(o,d[o],s)}finally{null!==b&&fn(b),ma(_),m.resolving=!1,Iv()}}return c}function up(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function So(i,s){return!(i&Me.Self||i&Me.Host&&s)}class _i{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return yi(this._tNode,this._lView,s,void 0,o)}}function vl(i){return Qe(()=>{const s=i.prototype.constructor,o=s[rn]||El(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const d=c[rn]||El(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function El(i){return _e(i)?()=>{const s=El(z(i));return s&&s()}:Ur(i)}function ns(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(cu(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===s)return o[c+1];c+=2}}}return null}(wn(),i)}const Ys="__parameters__";function wa(i,s,o){return Qe(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...d){if(this instanceof c)return u.apply(this,d),this;const m=new c(...d);return _.annotation=m,_;function _(b,I,A){const M=b.hasOwnProperty(Ys)?b[Ys]:Object.defineProperty(b,Ys,{value:[]})[Ys];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(m),b}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class bn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=un({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ba=new bn("AnalyzeForEntryComponents"),wl=Function;function vi(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),vi(u,s)):s!==i&&s.push(u)}return s}function ti(i,s){i.forEach(o=>Array.isArray(o)?ti(o,s):s(o))}function is(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Ns(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function C(i,s,o){let u=R(i,s);return u>=0?i[1|u]=o:(u=~u,function(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function D(i,s){const o=R(i,s);if(o>=0)return i[1|o]}function R(i,s){return function(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const d=u+(c-u>>1),m=i[d<<o];if(s===m)return d<<o;m>s?c=d:u=d+1}return~(c<<o)}(i,s,1)}const ss={},mu="__NG_DI_FLAG__",Ei="ngTempTokenPath",Rs=/\n/gm,Uc="__source",jc=L({provide:String,useValue:L});let Da;function yu(i){const s=Da;return Da=i,s}function Dv(i,s=Me.Default){if(void 0===Da)throw new Error("inject() must be called from an injection context");return null===Da?$t(i,void 0,s):Da.get(i,s&Me.Optional?null:void 0,s)}function Vn(i,s=Me.Default){return(zt||Dv)(z(i),s)}function Aa(i){const s=[];for(let o=0;o<i.length;o++){const u=z(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Me.Default;for(let m=0;m<u.length;m++){const _=u[m],b=Om(_);"number"==typeof b?-1===b?c=_.token:d|=b:c=_}s.push(Vn(c,d))}else s.push(Vn(u))}return s}function bl(i,s){return i[mu]=s,i.prototype[mu]=s,i}function Om(i){return i[mu]}function hr(i,s,o,u){const c=i[Ei];throw s[Uc]&&c.unshift(s[Uc]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=Y(s);if(Array.isArray(s))c=s.map(Y).join(" -> ");else if("object"==typeof s){let d=[];for(let m in s)if(s.hasOwnProperty(m)){let _=s[m];d.push(m+":"+("string"==typeof _?JSON.stringify(_):Y(_)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(Rs,"\n  ")}`}("\n"+i.message,c,o,u),i.ngTokenPath=c,i[Ei]=null,i}const Cl=bl(wa("Inject",i=>({token:i})),-1),Hi=bl(wa("Optional"),8),Sa=bl(wa("SkipSelf"),4);let Ro,Il;function eo(i){var s;return(null===(s=function(){if(void 0===Ro&&(Ro=null,$.trustedTypes))try{Ro=$.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Ro}())||void 0===s?void 0:s.createHTML(i))||i}function yp(i){var s;return(null===(s=function(){if(void 0===Il&&(Il=null,$.trustedTypes))try{Il=$.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Il}())||void 0===s?void 0:s.createHTML(i))||i}class Eu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rv extends Eu{getTypeName(){return"HTML"}}class M0 extends Eu{getTypeName(){return"Style"}}class wu extends Eu{getTypeName(){return"Script"}}class Vm extends Eu{getTypeName(){return"URL"}}class _p extends Eu{getTypeName(){return"ResourceURL"}}function Gi(i){return i instanceof Eu?i.changingThisBreaksApplicationSecurity:i}function wi(i,s){const o=Na(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function Na(i){return i instanceof Eu&&i.getTypeName()||null}function Um(i){return new Rv(i)}function Bm(i){return new M0(i)}function vp(i){return new wu(i)}function bu(i){return new Vm(i)}function jm(i){return new _p(i)}class wh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(eo(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class $m{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=eo(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=eo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Hm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Cu(i){return(i=String(i)).match(Hm)||i.match(bh)?i:"unsafe:"+i}function Ms(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Iu(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const Ch=Ms("area,br,col,hr,img,wbr"),qm=Ms("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kc=Ms("rp,rt"),Ih=Iu(Ch,Iu(qm,Ms("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Iu(Kc,Ms("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Iu(Kc,qm)),Th=Ms("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zc=Ms("srcset"),Wm=Iu(Th,Zc,Ms("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ms("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yc=Ms("script,style,template");class Dh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Ih.hasOwnProperty(o))return this.sanitizedSomething=!0,!Yc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),m=d.name,_=m.toLowerCase();if(!Wm.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let b=d.value;Th[_]&&(b=Cu(b)),Zc[_]&&(i=b,b=(i=String(i)).split(",").map(s=>Cu(s.trim())).join(", ")),this.buf.push(" ",m,'="',Zm(b),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Ih.hasOwnProperty(o)&&!Ch.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Zm(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Km=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wp=/([^\#-~ |!])/g;function Zm(i){return i.replace(/&/g,"&amp;").replace(Km,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(wp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qc;function bp(i,s){let o=null;try{Qc=Qc||function(i){const s=new $m(i);return function(){try{return!!(new window.DOMParser).parseFromString(eo(""),"text/html")}catch(i){return!1}}()?new wh(s):s}(i);let u=s?String(s):"";o=Qc.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=Qc.getInertBodyElement(u)}while(u!==d);return eo((new Dh).sanitizeChildren(Ah(o)||o))}finally{if(o){const u=Ah(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ah(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var yn=(()=>((yn=yn||{})[yn.NONE=0]="NONE",yn[yn.HTML=1]="HTML",yn[yn.STYLE=2]="STYLE",yn[yn.SCRIPT=3]="SCRIPT",yn[yn.URL=4]="URL",yn[yn.RESOURCE_URL=5]="RESOURCE_URL",yn))();function Ip(i){const s=Dl();return s?yp(s.sanitize(yn.HTML,i)||""):wi(i,"HTML")?yp(Gi(i)):bp(_o(),Be(i))}function as(i){const s=Dl();return s?s.sanitize(yn.URL,i)||"":wi(i,"URL")?Gi(i):Cu(Be(i))}function Dl(){const i=xe();return i&&i[12]}const Rh="__ngContext__";function on(i,s){i[Rh]=s}function Sr(i){const s=function(i){return i[Rh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function S(i){return i.ngOriginalError}function Z(i,...s){i.error(...s)}class ve{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),c=(i=s)&&i.ngErrorLogger||Z;var i;c(this._console,"ERROR",s),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(S(s)):null}_findOriginalError(s){let o=s&&S(s);for(;o&&S(o);)o=S(o);return o||null}}const Mp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($))();function us(i){return i instanceof Function?i():i}var Ra=(()=>((Ra=Ra||{})[Ra.Important=1]="Important",Ra[Ra.DashCase=2]="DashCase",Ra))();function Pv(i,s){return undefined(i,s)}function Mh(i){const s=i[3];return Kt(s)?s[3]:s}function iy(i){return V0(i[13])}function Lv(i){return V0(i[4])}function V0(i){for(;null!==i&&!Kt(i);)i=i[4];return i}function Oh(i,s,o,u,c){if(null!=u){let d,m=!1;Kt(u)?d=u:Jr(u)&&(m=!0,u=u[0]);const _=Dt(u);0===i&&null!==o?null==c?kh(s,o,_):xa(s,o,_,c||null,!0):1===i&&null!==o?xa(s,o,_,c||null,!0):2===i?function(i,s,o){const u=uy(i,s);u&&function(i,s,o,u){ln(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,_,m):3===i&&s.destroyNode(_),null!=d&&function(i,s,o,u,c){const d=o[7];d!==Dt(o)&&Oh(s,i,u,d,c);for(let _=10;_<o.length;_++){const b=o[_];kp(b[1],b,i,s,u,d)}}(s,i,d,o,c)}}function Uv(i,s,o){return ln(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function B0(i,s){const o=i[9],u=o.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,al(c,-1)),o.splice(u,1)}function jv(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const c=u[17];null!==c&&c!==i&&B0(c,u),s>0&&(i[o-1][4]=u[4]);const d=Ns(i,10+s);!function(i,s){kp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function j0(i,s){if(!(256&s[2])){const o=s[11];ln(o)&&o.destroyNode&&kp(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return oy(i[1],i);for(;s;){let o=null;if(Jr(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)Jr(s)&&oy(s[1],s),s=s[3];null===s&&(s=i),Jr(s)&&oy(s[1],s),o=s&&s[4]}s=o}}(s)}}function oy(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof Do)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const _=c[d[m]],b=d[m+1];try{b.call(_)}finally{}}else try{d.call(c)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],_="function"==typeof m?m(s):Dt(s[m]),b=u[c=o[d+2]],I=o[d+3];"boolean"==typeof I?_.removeEventListener(o[d],b,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),d+=2}else{const m=u[c=o[d+1]];o[d].call(m)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();s[7]=null}}(i,s),1===s[1].type&&ln(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Kt(s[3])){o!==s[3]&&B0(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function Ii(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===pn.None||c===pn.Emulated)return null}return Tr(u,o)}(i,s.parent,o)}function xa(i,s,o,u,c){ln(i)?i.insertBefore(s,o,u,c):s.insertBefore(o,u,c)}function kh(i,s,o){ln(i)?i.appendChild(s,o):s.appendChild(o)}function ay(i,s,o,u,c){null!==u?xa(i,s,o,u,c):kh(i,s,o)}function uy(i,s){return ln(i)?i.parentNode(s):s.parentNode}let $v=function(i,s,o){return 40&i.type?Tr(i,o):null};function Pp(i,s,o,u){const c=Ii(i,u,s),d=s[11],_=function(i,s,o){return $v(i,s,o)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let b=0;b<o.length;b++)ay(d,c,o[b],_,!1);else ay(d,c,o,_,!1)}function Lh(i,s){if(null!==s){const o=s.type;if(3&o)return Tr(s,i);if(4&o)return Au(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return Lh(i,u);{const c=i[s.index];return Kt(c)?Au(-1,c):Dt(c)}}if(32&o)return Pv(s,i)()||Dt(i[s.index]);{const u=NA(i,s);return null!==u?Array.isArray(u)?u[0]:Lh(Mh(i[16]),u):Lh(i,s.next)}}return null}function NA(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Au(i,s){const o=10+i+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return Lh(u,c)}return s[7]}function zv(i,s,o,u,c,d,m){for(;null!=o;){const _=u[o.index],b=o.type;if(m&&0===s&&(_&&on(Dt(_),u),o.flags|=4),64!=(64&o.flags))if(8&b)zv(i,s,o.child,u,c,d,!1),Oh(s,i,c,_,d);else if(32&b){const I=Pv(o,u);let A;for(;A=I();)Oh(s,i,c,A,d);Oh(s,i,c,_,d)}else 16&b?Wv(i,s,u,o,c,d):Oh(s,i,c,_,d);o=m?o.projectionNext:o.next}}function kp(i,s,o,u,c,d){zv(o,u,i.firstChild,s,c,d,!1)}function Wv(i,s,o,u,c,d){const m=o[16],b=m[6].projection[u.projection];if(Array.isArray(b))for(let I=0;I<b.length;I++)Oh(s,i,c,b[I],d);else zv(i,s,b,m[3],c,d,!0)}function G0(i,s,o){ln(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function cy(i,s,o){ln(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function q0(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const d=s.length;if(c+d===u||i.charCodeAt(c+d)<=32)return c}o=c+1}}const z0="ng-template";function Kv(i,s,o){let u=0;for(;u<i.length;){let c=i[u++];if(o&&"class"===c){if(c=i[u],-1!==q0(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function W0(i){return 4===i.type&&i.value!==z0}function OA(i,s,o){return s===(4!==i.type||o?i.value:z0)}function K0(i,s,o){let u=4;const c=i.attrs||[],d=function(i){for(let s=0;s<i.length;s++)if(cu(i[s]))return s;return i.length}(c);let m=!1;for(let _=0;_<s.length;_++){const b=s[_];if("number"!=typeof b){if(!m)if(4&u){if(u=2|1&u,""!==b&&!OA(i,b,o)||""===b&&1===s.length){if(Mo(u))return!1;m=!0}}else{const I=8&u?b:s[++_];if(8&u&&null!==i.attrs){if(!Kv(i.attrs,I,o)){if(Mo(u))return!1;m=!0}continue}const M=Bx(8&u?"class":b,c,W0(i),o);if(-1===M){if(Mo(u))return!1;m=!0;continue}if(""!==I){let P;P=M>d?"":c[M+1].toLowerCase();const B=8&u?P:null;if(B&&-1!==q0(B,I,0)||2&u&&I!==P){if(Mo(u))return!1;m=!0}}}}else{if(!m&&!Mo(u)&&!Mo(b))return!1;if(m&&Mo(b))continue;m=!1,u=b|1&u}}return Mo(u)||m}function Mo(i){return 0==(1&i)}function Bx(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let d=!1;for(;c<s.length;){const m=s[c];if(m===i)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let _=s[++c];for(;"string"==typeof _;)_=s[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Z0(i,s,o=!1){for(let u=0;u<s.length;u++)if(K0(i,s[u],o))return!0;return!1}function Oo(i,s){return i?":not("+s.trim()+")":s}function kA(i){let s=i[0],o=1,u=2,c="",d=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&u){const _=i[++o];c+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!Mo(m)&&(s+=Oo(d,c),c=""),u=m,d=d||!Mo(u);o++}return""!==c&&(s+=Oo(d,c)),s}const bt={};function J0(i){Fp(Mt(),xe(),ei()+i,bo())}function Fp(i,s,o,u){if(!u)if(3==(3&s[2])){const d=i.preOrderCheckHooks;null!==d&&ga(s,d,o)}else{const d=i.preOrderHooks;null!==d&&Sc(s,d,0,o)}ts(o)}function Po(i,s){return i<<17|s<<2}function to(i){return i>>17&32767}function Zv(i){return 2|i}function no(i){return(131068&i)>>2}function hy(i,s){return-131069&i|s<<2}function fy(i){return 1|i}function sC(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const m=i.data[d];Tc(c),m.contentQueries(2,s[d],d)}}}function kl(i,s,o,u,c,d,m,_,b,I){const A=s.blueprint.slice();return A[0]=c,A[2]=140|u,ca(A),A[3]=A[15]=i,A[8]=o,A[10]=m||i&&i[10],A[11]=_||i&&i[11],A[12]=b||i&&i[12]||null,A[9]=I||i&&i[9]||null,A[6]=d,A[16]=2==s.type?i[16]:A,A}function Su(i,s,o,u,c){let d=i.data[s];if(null===d)d=function(i,s,o,u,c){const d=rh(),m=ou(),b=i.data[s]=function(i,s,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(i,s,o,u,c),lt.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const m=function(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return mi(d,!0),d}function Fl(i,s,o,u){if(0===o)return-1;const c=s.length;for(let d=0;d<o;d++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Ll(i,s,o){Io(s);try{const u=i.viewQuery;null!==u&&_E(1,u,o);const c=i.template;null!==c&&rE(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&sC(i,s),i.staticViewQueries&&_E(2,i.viewQuery,o);const d=i.components;null!==d&&function(i,s){for(let o=0;o<s.length;o++)hC(i,s[o])}(s,d)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,sp()}}function Uh(i,s,o,u){const c=s[2];if(256==(256&c))return;Io(s);const d=bo();try{ca(s),function(i){lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&rE(i,s,o,2,u);const m=3==(3&c);if(!d)if(m){const I=i.preOrderCheckHooks;null!==I&&ga(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Sc(s,I,0,null),To(s,0)}if(function(i){for(let s=iy(i);null!==s;s=Lv(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&al(d,1),c[2]|=1024}}}(s),function(i){for(let s=iy(i);null!==s;s=Lv(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];la(u)&&Uh(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&sC(i,s),!d)if(m){const I=i.contentCheckHooks;null!==I&&ga(s,I)}else{const I=i.contentHooks;null!==I&&Sc(s,I,1),To(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)ts(~c);else{const d=c,m=o[++u],_=o[++u];Ic(m,d),_(2,s[d])}}}finally{ts(-1)}}(i,s);const _=i.components;null!==_&&function(i,s){for(let o=0;o<s.length;o++)oS(i,s[o])}(s,_);const b=i.viewQuery;if(null!==b&&_E(2,b,u),!d)if(m){const I=i.viewCheckHooks;null!==I&&ga(s,I)}else{const I=i.viewHooks;null!==I&&Sc(s,I,2),To(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),d||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,al(s[3],-1))}finally{sp()}}function ZA(i,s,o,u){const c=s[10],d=!bo(),m=Eo(s);try{d&&!m&&c.begin&&c.begin(),m&&Ll(i,s,u),Uh(i,s,o,u)}finally{d&&!m&&c.end&&c.end()}}function rE(i,s,o,u,c){const d=ei(),m=2&u;try{ts(-1),m&&s.length>20&&Fp(i,s,20,bo()),o(u,c)}finally{ts(d)}}function oC(i,s,o){if(nu(s)){const c=s.directiveEnd;for(let d=s.directiveStart;d<c;d++){const m=i.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}function Ey(i,s,o){!bc()||(function(i,s,o,u){const c=o.directiveStart,d=o.directiveEnd;i.firstCreatePass||Ds(o,s),on(u,s);const m=o.initialInputs;for(let _=c;_<d;_++){const b=i.data[_],I=Li(b);I&&rS(s,o,b);const A=Ea(s,i,_,o);on(A,s),null!==m&&Kx(0,_-c,A,b,0,m),I&&(Yn(o.index,s)[8]=A)}}(i,s,o,Tr(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,_=lt.lFrame.currentDirectiveIndex;try{ts(m);for(let b=u;b<c;b++){const I=i.data[b],A=s[b];fa(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Hh(I,A)}}finally{ts(-1),fa(_)}}(i,s,o))}function iE(i,s,o=Tr){const u=s.localNames;if(null!==u){let c=s.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],_=-1===m?o(s,i):i[m];i[c++]=_}}}function YA(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=wy(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function wy(i,s,o,u,c,d,m,_,b,I){const A=20+u,M=A+c,P=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:bt);return o}(A,M),B="function"==typeof I?I():I;return P[1]={type:i,blueprint:P,template:o,queries:null,viewQuery:_,declTNode:s,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:B,incompleteFirstPass:!1}}function Bp(i,s,o,u){const c=Ty(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&vE(i).push(u,c.length-1))}function Bh(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,c):o[u]=[s,c]}return o}function ri(i,s,o,u,c,d,m,_){const b=Tr(s,o);let A,I=s.inputs;!_&&null!=I&&(A=I[u])?(mC(i,o,A,u,c),el(s)&&function(i,s){const o=Yn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=m?m(c,s.value||"",u):c,ln(d)?d.setProperty(b,u,c):fl(u)||(b.setProperty?b.setProperty(u,c):b[u]=c))}function Vl(i,s,o,u){let c=!1;if(bc()){const d=function(i,s,o){const u=i.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];Z0(o,m.selectors,!1)&&(c||(c=[]),$n(Ds(o,s),i,m.type),Li(m)?(dE(i,o),c.unshift(m)):c.push(m))}return c}(i,s,o),m=null===u?null:{"":-1};if(null!==d){c=!0,tS(o,i.data.length,d.length);for(let A=0;A<d.length;A++){const M=d[A];M.providersResolver&&M.providersResolver(M)}let _=!1,b=!1,I=Fl(i,s,d.length,null);for(let A=0;A<d.length;A++){const M=d[A];o.mergedAttrs=du(o.mergedAttrs,M.hostAttrs),nS(i,o,s,I,M),Wx(I,M,m),null!==M.contentQueries&&(o.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=128);const P=M.type.prototype;!_&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),_=!0),!b&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),b=!0),I++}!function(i,s){const u=s.directiveEnd,c=i.data,d=s.attrs,m=[];let _=null,b=null;for(let I=s.directiveStart;I<u;I++){const A=c[I],M=A.inputs,P=null===d||W0(s)?null:cC(M,d);m.push(P),_=Bh(M,I,_),b=Bh(A.outputs,I,b)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=_,s.outputs=b}(i,o)}m&&function(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const d=o[s[c+1]];if(null==d)throw new pe("301",`Export of name '${s[c+1]}' not found!`);u.push(s[c],d)}}}(o,u,m)}return o.mergedAttrs=du(o.mergedAttrs,o.attrs),c}function $h(i,s,o,u,c,d){const m=d.hostBindings;if(m){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const b=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=b&&_.push(b),_.push(u,c,m)}}function Hh(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function dE(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Wx(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;Li(s)&&(o[""]=i)}}function tS(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function nS(i,s,o,u,c){i.data[u]=c;const d=c.factory||(c.factory=Ur(c.type)),m=new Do(d,Li(c),null);i.blueprint[u]=m,o[u]=m,$h(i,s,0,u,Fl(i,o,c.hostVars,bt),c)}function rS(i,s,o){const u=Tr(s,i),c=YA(o),d=i[10],m=jp(i,kl(i,c,null,o.onPush?64:16,u,s,d,d.createRenderer(u,o),null,null));i[s.index]=m}function Fo(i,s,o,u,c,d){const m=Tr(i,s);!function(i,s,o,u,c,d,m){if(null==d)ln(i)?i.removeAttribute(s,c,o):s.removeAttribute(c);else{const _=null==m?Be(d):m(d,u||"",c);ln(i)?i.setAttribute(s,c,_,o):o?s.setAttributeNS(o,c,_):s.setAttribute(c,_)}}(s[11],m,d,i.value,o,u,c)}function Kx(i,s,o,u,c,d){const m=d[s];if(null!==m){const _=u.setInput;for(let b=0;b<m.length;){const I=m[b++],A=m[b++],M=m[b++];null!==_?u.setInput(o,M,I,A):o[A]=M}}}function cC(i,s){let o=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return o}function fE(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function oS(i,s){const o=Yn(s,i);if(la(o)){const u=o[1];80&o[2]?Uh(u,o,u.template,o[8]):o[5]>0&&dC(o)}}function dC(i){for(let u=iy(i);null!==u;u=Lv(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const m=d[1];Uh(m,d,m.template,d[8])}else d[5]>0&&dC(d)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Yn(o[u],i);la(c)&&c[5]>0&&dC(c)}}function hC(i,s){const o=Yn(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Ll(u,o,o[8])}function jp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function gE(i){for(;i;){i[2]|=64;const s=Mh(i);if(yc(i)&&!s)return i;i=s}return null}function mE(i,s,o){const u=s[10];u.begin&&u.begin();try{Uh(i,s,i.template,o)}catch(c){throw Dy(s,c),c}finally{u.end&&u.end()}}function yE(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=Sr(o),c=u[1];ZA(c,u,c.template,o)}}(i[8])}function _E(i,s,o){Tc(0),s(i,o)}const lS=(()=>Promise.resolve(null))();function Ty(i){return i[7]||(i[7]=[])}function vE(i){return i.cleanup||(i.cleanup=[])}function Dy(i,s){const o=i[9],u=o?o.get(ve,null):null;u&&u.handleError(s)}function mC(i,s,o,u,c){for(let d=0;d<o.length;){const m=o[d++],_=o[d++],b=s[m],I=i.data[m];null!==I.setInput?I.setInput(b,c,u,_):b[_]=c}}function Oa(i,s,o){const u=iu(s,i);!function(i,s,o){ln(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function Ay(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,d=0;if(null!==s)for(let m=0;m<s.length;m++){const _=s[m];"number"==typeof _?d=_:1==d?c=ie(c,_):2==d&&(u=ie(u,_+": "+s[++m]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}const id=new bn("INJECTOR",-1);class yC{get(s,o=ss){if(o===ss){const u=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw u.name="NullInjectorError",u}return o}}const Sy=new bn("Set Injector scope."),sd={},dS={};let Ny;function wE(){return void 0===Ny&&(Ny=new yC),Ny}function bE(i,s=null,o=null,u){return new fS(i,o,s||wE(),u)}class fS{constructor(s,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&ti(o,_=>this.processProvider(_,s,o)),ti([s],_=>this.processInjectorType(_,[],d)),this.records.set(id,od(void 0,this));const m=this.records.get(Sy);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof s?null:Y(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=ss,u=Me.Default){this.assertNotDestroyed();const c=yu(this),d=fn(void 0);try{if(!(u&Me.SkipSelf)){let _=this.records.get(s);if(void 0===_){const b=("function"==typeof(i=s)||"object"==typeof i&&i instanceof bn)&&Lr(s);_=b&&this.injectableDefInScope(b)?od(Ry(s),sd):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(u&Me.Self?wE():this.parent).get(s,o=u&Me.Optional&&o===ss?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ei]=m[Ei]||[]).unshift(Y(s)),c)throw m;return hr(m,s,"R3InjectorError",this.source)}throw m}finally{fn(d),yu(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(Y(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=z(s)))return!1;let c=pi(s);const d=null==c&&s.ngModule||void 0,m=void 0===d?s:d,_=-1!==u.indexOf(m);if(void 0!==d&&(c=pi(d)),null==c)return!1;if(null!=c.imports&&!_){let A;u.push(m);try{ti(c.imports,M=>{this.processInjectorType(M,o,u)&&(void 0===A&&(A=[]),A.push(M))})}finally{}if(void 0!==A)for(let M=0;M<A.length;M++){const{ngModule:P,providers:B}=A[M];ti(B,W=>this.processProvider(W,P,B||Ge))}}this.injectorDefTypes.add(m);const b=Ur(m)||(()=>new m);this.records.set(m,od(b,sd));const I=c.providers;if(null!=I&&!_){const A=s;ti(I,M=>this.processProvider(M,A,I))}return void 0!==d&&void 0!==s.providers}processProvider(s,o,u){let c=ad(s=z(s))?s:z(s&&s.provide);const d=_C(i=s)?od(void 0,i.useValue):od(xy(i),sd);var i;if(ad(s)||!0!==s.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=od(void 0,sd,!0),m.factory=()=>Aa(m.multi),this.records.set(c,m)),c=s,m.multi.push(s)}this.records.set(c,d)}hydrate(s,o){return o.value===sd&&(o.value=dS,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=z(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Ry(i){const s=Lr(i),o=null!==s?s.factory:Ur(i);if(null!==o)return o;if(i instanceof bn)throw new Error(`Token ${Y(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${Y(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[Tn]||i[uo]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function xy(i,s,o){let u;if(ad(i)){const c=z(i);return Ur(c)||Ry(c)}if(_C(i))u=()=>z(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Aa(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>Vn(z(i.useExisting));else{const c=z(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ur(c)||Ry(c);u=()=>new c(...Aa(i.deps))}return u}function od(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function _C(i){return null!==i&&"object"==typeof i&&jc in i}function ad(i){return"function"==typeof i}const vS=function(i,s,o){return function(i,s=null,o=null,u){const c=bE(i,s,o,u);return c._resolveInjectorDefTypes(),c}({name:o},s,i,o)};let An=(()=>{class i{static create(o,u){return Array.isArray(o)?vS(o,u,""):vS(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=ss,i.NULL=new yC,i.\u0275prov=un({token:i,providedIn:"any",factory:()=>Vn(id)}),i.__NG_ELEMENT_ID__=-1,i})();function xC(i,s){pa(Sr(i)[1],wn())}function Py(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let c;if(Li(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");c=s.\u0275dir}if(c){if(o){u.push(c);const m=i;m.inputs=Wp(i.inputs),m.declaredInputs=Wp(i.declaredInputs),m.outputs=Wp(i.outputs);const _=c.hostBindings;_&&PC(i,_);const b=c.viewQuery,I=c.contentQueries;if(b&&zi(i,b),I&&OC(i,I),J(i.inputs,c.inputs),J(i.declaredInputs,c.declaredInputs),J(i.outputs,c.outputs),Li(c)&&c.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const _=d[m];_&&_.ngInherit&&_(i),_===Py&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=du(c.hostAttrs,o=du(o,c.hostAttrs))}}(u)}function Wp(i){return i===ze?{}:i===Ge?[]:i}function zi(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function OC(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,d)=>{s(u,c,d),o(u,c,d)}:s}function PC(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}let Kp=null;function Bl(){if(!Kp){const i=$.Symbol;if(i&&i.iterator)Kp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Kp=u)}}}return Kp}class Vo{constructor(s){this.wrapped=s}static wrap(s){return new Vo(s)}static unwrap(s){return Vo.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Vo}}function Pa(i){return!!ky(i)&&(Array.isArray(i)||!(i instanceof Map)&&Bl()in i)}function ky(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Nr(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function OE(i,s,o,u){const c=xe();return Nr(c,es(),s)&&(Mt(),Fo(cn(),c,i,s,o,u)),OE}function $C(i,s,o,u,c,d,m,_){const b=xe(),I=Mt(),A=i+20,M=I.firstCreatePass?function(i,s,o,u,c,d,m,_,b){const I=s.consts,A=Su(s,i,4,m||null,qs(I,_));Vl(s,o,A,qs(I,b)),pa(s,A);const M=A.tViews=wy(2,A,u,c,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,A),M.queries=s.queries.embeddedTView(A)),A}(A,I,b,s,o,u,c,d,m):I.data[A];mi(M,!1);const P=b[11].createComment("");Pp(I,b,P,M),on(P,b),jp(b,b[A]=fE(P,b,P,M)),Xr(M)&&Ey(I,b,M),null!=m&&iE(b,M,_)}function hd(i,s=Me.Default){const o=xe();return null===o?Vn(i,s):yi(wn(),o,z(i),s)}function Xp(i,s,o){const u=xe();return Nr(u,es(),s)&&ri(Mt(),cn(),u,i,s,u[11],o,!1),Xp}function Jh(i,s,o,u,c){const m=c?"class":"style";mC(i,o,s.inputs[m],m,u)}function Qy(i,s,o,u){const c=xe(),d=Mt(),m=20+i,_=c[11],b=c[m]=Uv(_,s,lt.lFrame.currentNamespace),I=d.firstCreatePass?function(i,s,o,u,c,d,m){const _=s.consts,I=Su(s,i,2,c,qs(_,d));return Vl(s,o,I,qs(_,m)),null!==I.attrs&&Ay(I,I.attrs,!1),null!==I.mergedAttrs&&Ay(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(m,d,c,0,s,o,u):d.data[m];mi(I,!0);const A=I.mergedAttrs;null!==A&&dn(_,b,A);const M=I.classes;null!==M&&cy(_,b,M);const P=I.styles;null!==P&&G0(_,b,P),64!=(64&I.flags)&&Pp(d,c,b,I),0===lt.lFrame.elementDepthCount&&on(b,c),lt.lFrame.elementDepthCount++,Xr(I)&&(Ey(d,c,I),oC(d,I,c)),null!==u&&iE(c,I)}function jE(){let i=wn();ou()?zs():(i=i.parent,mi(i,!1));const s=i;lt.lFrame.elementDepthCount--;const o=Mt();o.firstCreatePass&&(pa(o,i),nu(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Jh(o,s,xe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Jh(o,s,xe(),s.stylesWithoutHost,!1)}function Jy(i,s,o,u){Qy(i,s,o,u),jE()}function Xy(i,s,o){const u=xe(),c=Mt(),d=i+20,m=c.firstCreatePass?function(i,s,o,u,c){const d=s.consts,m=qs(d,u),_=Su(s,i,8,"ng-container",m);return null!==m&&Ay(_,m,!0),Vl(s,o,_,qs(d,c)),null!==s.queries&&s.queries.elementStart(s,_),_}(d,c,u,s,o):c.data[d];mi(m,!0);const _=u[d]=u[11].createComment("");Pp(c,u,_,m),on(_,u),Xr(m)&&(Ey(c,u,m),oC(c,m,u)),null!=o&&iE(u,m)}function e_(){let i=wn();const s=Mt();ou()?zs():(i=i.parent,mi(i,!1)),s.firstCreatePass&&(pa(s,i),nu(i)&&s.queries.elementEnd(i))}function oI(){return xe()}function fd(i){return!!i&&"function"==typeof i.then}function GE(i){return!!i&&"function"==typeof i.subscribe}const Xh=GE;function pd(i,s,o,u){const c=xe(),d=Mt(),m=wn();return function(i,s,o,u,c,d,m,_){const b=Xr(u),A=i.firstCreatePass&&vE(i),M=s[8],P=Ty(s);let B=!0;if(3&u.type||_){const X=Tr(u,s),Ve=_?_(X):X,De=P.length,rt=_?dt=>_(Dt(dt[u.index])):u.index;if(ln(o)){let dt=null;if(!_&&b&&(dt=function(i,s,o,u){const c=i.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===o&&c[d+1]===u){const _=s[7],b=c[d+2];return _.length>b?_[b]:null}"string"==typeof m&&(d+=2)}return null}(i,s,c,u.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=d,dt.__ngLastListenerFn__=d,B=!1;else{d=Gl(u,s,M,d,!1);const Ft=o.listen(Ve,c,d);P.push(d,Ft),A&&A.push(c,rt,De,De+1)}}else d=Gl(u,s,M,d,!0),Ve.addEventListener(c,d,m),P.push(d),A&&A.push(c,rt,De,m)}else d=Gl(u,s,M,d,!1);const W=u.outputs;let le;if(B&&null!==W&&(le=W[c])){const X=le.length;if(X)for(let Ve=0;Ve<X;Ve+=2){const qn=s[le[Ve]][le[Ve+1]].subscribe(d),oo=P.length;P.push(d,qn),A&&A.push(c,u.index,oo,-(oo+1))}}}(d,c,c[11],m,i,s,!!o,u),pd}function t_(i,s,o,u){try{return!1!==o(u)}catch(c){return Dy(i,c),!1}}function Gl(i,s,o,u,c){return function d(m){if(m===Function)return u;const _=2&i.flags?Yn(i.index,s):s;0==(32&s[2])&&gE(_);let b=t_(s,0,u,m),I=d.__ngNextListenerFn__;for(;I;)b=t_(s,0,I,m)&&b,I=I.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function n_(i=1){return function(i){return(lt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function WE(i,s,o,u,c){const d=i[o+1],m=null===s;let _=u?to(d):no(d),b=!1;for(;0!==_&&(!1===b||m);){const A=i[_+1];PS(i[_],s)&&(b=!0,i[_+1]=u?fy(A):Zv(A)),_=u?to(A):no(A)}b&&(i[o+1]=u?Zv(d):fy(d))}function PS(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&R(i,s)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dI(i){return i.substring(xr.key,xr.keyEnd)}function Ou(i,s){const o=xr.textEnd;return o===s?-1:(s=xr.keyEnd=function(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,xr.key=s,o),Bo(i,s,o))}function Bo(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function ag(i,s,o){return $o(i,s,o,!1),ag}function ug(i,s){return $o(i,s,null,!0),ug}function i_(i){!function(i,s,o,u){const c=Mt(),d=Is(2);c.firstUpdatePass&&ef(c,null,d,u);const m=xe();if(o!==bt&&Nr(m,d,o)){const _=c.data[ei()];if(ew(_,u)&&!lg(c,d)){let b=u?_.classesWithoutHost:_.stylesWithoutHost;null!==b&&(o=ie(b,o||"")),Jh(c,_,m,o,u)}else!function(i,s,o,u,c,d,m,_){c===bt&&(c=Ge);let b=0,I=0,A=0<c.length?c[0]:null,M=0<d.length?d[0]:null;for(;null!==A||null!==M;){const P=b<c.length?c[b+1]:void 0,B=I<d.length?d[I+1]:void 0;let le,W=null;A===M?(b+=2,I+=2,P!==B&&(W=M,le=B)):null===M||null!==A&&A<M?(b+=2,W=A):(I+=2,W=M,le=B),null!==W&&gI(i,s,o,u,W,le,m,_),A=b<c.length?c[b]:null,M=I<d.length?d[I]:null}}(c,_,m,m[11],m[d+1],m[d+1]=function(i,s,o){if(null==o||""===o)return Ge;const u=[],c=Gi(o);if(Array.isArray(c))for(let d=0;d<c.length;d++)i(u,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&i(u,d,c[d]);else"string"==typeof c&&s(u,c);return u}(i,s,o),u,d)}}(C,Va,i,!0)}function Va(i,s){for(let o=function(i){return function(i){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=i.length}(i),Ou(i,Bo(i,0,xr.textEnd))}(s);o>=0;o=Ou(s,o))C(i,dI(s),!0)}function $o(i,s,o,u){const c=xe(),d=Mt(),m=Is(2);d.firstUpdatePass&&ef(d,i,m,u),s!==bt&&Nr(c,m,s)&&gI(d,d.data[ei()],c,c[11],i,c[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Y(Gi(i)))),i}(s,o),u,m)}function lg(i,s){return s>=i.expandoStartIndex}function ef(i,s,o,u){const c=i.data;if(null===c[o+1]){const d=c[ei()],m=lg(i,o);ew(d,u)&&null===s&&!m&&(s=!1),s=function(i,s,o,u){const c=cl(i);let d=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=dg(o=md(null,i,s,o,u),s.attrs,u),d=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==c)if(o=md(c,i,s,o,u),null===d){let b=function(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==no(u))return i[to(u)]}(i,s,u);void 0!==b&&Array.isArray(b)&&(b=md(null,i,s,b[1],u),b=dg(b,s.attrs,u),function(i,s,o,u){i[to(o?s.classBindings:s.styleBindings)]=u}(i,s,u,b))}else d=function(i,s,o){let u;const c=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<c;d++)u=dg(u,i[d].hostAttrs,o);return dg(u,s.attrs,o)}(i,s,u)}return void 0!==d&&(u?s.residualClasses=d:s.residualStyles=d),o}(c,d,s,u),function(i,s,o,u,c,d){let m=d?s.classBindings:s.styleBindings,_=to(m),b=no(m);i[u]=o;let A,I=!1;if(Array.isArray(o)){const M=o;A=M[1],(null===A||R(M,A)>0)&&(I=!0)}else A=o;if(c)if(0!==b){const P=to(i[_+1]);i[u+1]=Po(P,_),0!==P&&(i[P+1]=hy(i[P+1],u)),i[_+1]=function(i,s){return 131071&i|s<<17}(i[_+1],u)}else i[u+1]=Po(_,0),0!==_&&(i[_+1]=hy(i[_+1],u)),_=u;else i[u+1]=Po(b,0),0===_?_=u:i[b+1]=hy(i[b+1],u),b=u;I&&(i[u+1]=Zv(i[u+1])),WE(i,A,u,!0),WE(i,A,u,!1),function(i,s,o,u,c){const d=c?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&R(d,s)>=0&&(o[u+1]=fy(o[u+1]))}(s,A,i,u,d),m=Po(_,b),d?s.classBindings=m:s.styleBindings=m}(c,d,s,o,m,u)}}function md(i,s,o,u,c){let d=null;const m=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<m&&(d=s[_],u=dg(u,d.hostAttrs,c),d!==i);)_++;return null!==i&&(o.directiveStylingLast=_),u}function dg(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let d=0;d<s.length;d++){const m=s[d];"number"==typeof m?c=m:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),C(i,m,!!o||s[++d]))}return void 0===i?null:i}function gI(i,s,o,u,c,d,m,_){if(!(3&s.type))return;const b=i.data,I=b[_+1];o_(function(i){return 1==(1&i)}(I)?mI(b,s,o,c,no(I),m):void 0)||(o_(d)||function(i){return 2==(2&i)}(I)&&(d=mI(b,null,o,c,_,m)),function(i,s,o,u,c){const d=ln(i);if(s)c?d?i.addClass(o,u):o.classList.add(u):d?i.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:Ra.DashCase;if(null==c)d?i.removeStyle(o,u,m):o.style.removeProperty(u);else{const _="string"==typeof c&&c.endsWith("!important");_&&(c=c.slice(0,-10),m|=Ra.Important),d?i.setStyle(o,u,c,m):o.style.setProperty(u,c,_?"important":"")}}}(u,m,iu(ei(),o),c,d))}function mI(i,s,o,u,c,d){const m=null===s;let _;for(;c>0;){const b=i[c],I=Array.isArray(b),A=I?b[1]:b,M=null===A;let P=o[c+1];P===bt&&(P=M?Ge:void 0);let B=M?D(P,u):A===u?P:void 0;if(I&&!o_(B)&&(B=D(b,u)),o_(B)&&(_=B,m))return _;const W=i[c+1];c=m?to(W):no(W)}if(null!==s){let b=d?s.residualClasses:s.residualStyles;null!=b&&(_=D(b,u))}return _}function o_(i){return void 0!==i}function ew(i,s){return 0!=(i.flags&(s?16:32))}function tw(i,s=""){const o=xe(),u=Mt(),c=i+20,d=u.firstCreatePass?Su(u,c,1,s,null):u.data[c],m=o[c]=function(i,s){return ln(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Pp(u,o,m,d),mi(d,!1)}function tf(i){return hg("",i,""),tf}function hg(i,s,o){const u=xe(),c=function(i,s,o,u){return Nr(i,es(),o)?s+Be(o)+u:bt}(u,i,s,o);return c!==bt&&Oa(u,ei(),c),hg}function cw(i,s,o){const u=xe();return Nr(u,es(),s)&&ri(Mt(),cn(),u,i,s,u[11],o,!0),cw}function dw(i,s,o){const u=xe();if(Nr(u,es(),s)){const d=Mt(),m=cn();ri(d,m,u,i,s,function(i,s,o){return(null===i||Li(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}(cl(d.data),m,u),o,!0)}return dw}const zl=void 0;var h_=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let rf={};function Mr(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=f_(s);if(o)return o;const u=s.split("-")[0];if(o=f_(u),o)return o;if("en"===u)return h_;throw new Error(`Missing locale data for the locale "${i}".`)}function Pu(i){return Mr(i)[Ee.PluralCase]}function f_(i){return i in rf||(rf[i]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[i]),rf[i]}var Ee=(()=>((Ee=Ee||{})[Ee.LocaleId=0]="LocaleId",Ee[Ee.DayPeriodsFormat=1]="DayPeriodsFormat",Ee[Ee.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ee[Ee.DaysFormat=3]="DaysFormat",Ee[Ee.DaysStandalone=4]="DaysStandalone",Ee[Ee.MonthsFormat=5]="MonthsFormat",Ee[Ee.MonthsStandalone=6]="MonthsStandalone",Ee[Ee.Eras=7]="Eras",Ee[Ee.FirstDayOfWeek=8]="FirstDayOfWeek",Ee[Ee.WeekendRange=9]="WeekendRange",Ee[Ee.DateFormat=10]="DateFormat",Ee[Ee.TimeFormat=11]="TimeFormat",Ee[Ee.DateTimeFormat=12]="DateTimeFormat",Ee[Ee.NumberSymbols=13]="NumberSymbols",Ee[Ee.NumberFormats=14]="NumberFormats",Ee[Ee.CurrencyCode=15]="CurrencyCode",Ee[Ee.CurrencySymbol=16]="CurrencySymbol",Ee[Ee.CurrencyName=17]="CurrencyName",Ee[Ee.Currencies=18]="Currencies",Ee[Ee.Directionality=19]="Directionality",Ee[Ee.PluralCase=20]="PluralCase",Ee[Ee.ExtraData=21]="ExtraData",Ee))();const et="en-US";let Or=et;function g_(i){hn(i,"Expected localeId to be defined"),"string"==typeof i&&(Or=i.toLowerCase().replace(/_/g,"-"))}function Kl(i,s,o,u,c){if(i=z(i),Array.isArray(i))for(let d=0;d<i.length;d++)Kl(i[d],s,o,u,c);else{const d=Mt(),m=xe();let _=ad(i)?i:z(i.provide),b=xy(i);const I=wn(),A=1048575&I.providerIndexes,M=I.directiveStart,P=I.providerIndexes>>20;if(ad(i)||!i.multi){const B=new Do(b,c,hd),W=wd(_,s,c?A:A+P,M);-1===W?($n(Ds(I,m),d,_),hs(d,i,s.length),s.push(_),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(B),m.push(B)):(o[W]=B,m[W]=B)}else{const B=wd(_,s,A+P,M),W=wd(_,s,A,A+P),le=B>=0&&o[B],X=W>=0&&o[W];if(c&&!X||!c&&!le){$n(Ds(I,m),d,_);const Ve=function(i,s,o,u,c){const d=new Do(i,o,hd);return d.multi=[],d.index=s,d.componentProviders=0,Aw(d,c,u&&!o),d}(c?Sw:zI,o.length,c,u,b);!c&&X&&(o[W].providerFactory=Ve),hs(d,i,s.length,0),s.push(_),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(Ve),m.push(Ve)}else hs(d,i,B>-1?B:W,Aw(o[c?W:B],b,!c&&u));!c&&u&&X&&o[W].componentProviders++}}}function hs(i,s,o,u){const c=ad(s);if(c||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const _=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const b=_.indexOf(o);-1===b?_.push(o,[u,m]):_[b+1].push(u,m)}else _.push(o,m)}}}function Aw(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function wd(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function zI(i,s,o,u){return bd(this.multi,[])}function Sw(i,s,o,u){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=Ea(o,o[1],this.providerFactory.index,u);d=_.slice(0,m),bd(c,d);for(let b=m;b<_.length;b++)d.push(_[b])}else d=[],bd(c,d);return d}function bd(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function KI(i,s=[]){return o=>{o.providersResolver=(u,c)=>function(i,s,o){const u=Mt();if(u.firstCreatePass){const c=Li(i);Kl(o,u.data,u.blueprint,c,!0),Kl(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class Nw{}const Cg="ngComponent";class nN{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Y(i)}. Did you add it to @NgModule.entryComponents?`);return s[Cg]=i,s}(s)}}let Cd=(()=>{class i{}return i.NULL=new nN,i})();function Tg(...i){}function Td(i,s){return new fs(Tr(i,s))}const YI=function(){return Td(wn(),xe())};let fs=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=YI,i})();function QI(i){return i instanceof fs?i.nativeElement:i}class Un{}let C_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>xw(),i})();const xw=function(){const i=xe(),o=Yn(wn().index,i);return function(i){return i[11]}(Jr(o)?o:i)};let T_=(()=>{class i{}return i.\u0275prov=un({token:i,providedIn:"root",factory:()=>null}),i})();class pf{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ga=new pf("12.2.12");class Mw{constructor(){}supports(s){return Pa(s)}create(s){return new Dg(s)}}const XI=(i,s)=>s;class Dg{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||XI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<jt(u,c,d)?o:u,_=jt(m,c,d),b=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{d||(d=[]);const I=_-c,A=b-c;if(I!=A){for(let P=0;P<I;P++){const B=P<d.length?d[P]:d[P]=0,W=B+P;A<=W&&W<I&&(d[P]=B+1)}d[m.previousIndex]=A-I}}_!==b&&s(m,_,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Pa(s))throw new Error(`Error trying to diff '${Y(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,d,m,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)d=s[_],m=this._trackByFn(_,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,_)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,_),u=!0),o=o._next}else c=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Bl()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,_=>{m=this._trackByFn(c,_),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,_,m,c)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,c)):s=this._addAfter(new Ow(o,u),d,c),s}_verifyReinsertion(s,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?s=this._reinsertAfter(d,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,d=s._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new ir),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ir),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Ow{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oN{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class ir{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new oN,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jt(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class Pw{constructor(){}supports(s){return s instanceof Map||ky(s)}create(){return new eT}}class eT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||ky(s)))throw new Error(`Error trying to diff '${Y(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const u=new kr(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class kr{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ag(){return new mr([new Mw])}let mr=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Ag()),deps:[[i,new Sa,new Hi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:Ag}),i})();function kw(){return new D_([new Pw])}let D_=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||kw()),deps:[[i,new Sa,new Hi]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:kw}),i})();function Wi(i,s,o,u,c=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&u.push(Dt(d)),Kt(d))for(let _=10;_<d.length;_++){const b=d[_],I=b[1].firstChild;null!==I&&Wi(b[1],b,I,u)}const m=o.type;if(8&m)Wi(i,s,o.child,u);else if(32&m){const _=Pv(o,s);let b;for(;b=_();)u.push(b)}else if(16&m){const _=NA(s,o);if(Array.isArray(_))u.push(..._);else{const b=Mh(s[16]);Wi(b[1],b,_,u,!0)}}o=c?o.projectionNext:o.next}return u}class Sg{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Wi(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Kt(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(jv(s,u),Ns(o,u))}this._attachedToViewContainer=!1}j0(this._lView[1],this._lView)}onDestroy(s){Bp(this._lView[1],this._lView,null,s)}markForCheck(){gE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){Xi(!0);try{mE(i,s,o)}finally{Xi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,kp(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Fw extends Sg{constructor(s){super(s),this._view=s}detectChanges(){yE(this._view)}checkNoChanges(){!function(i){Xi(!0);try{yE(i)}finally{Xi(!1)}}(this._view)}get context(){return null}}const lN=function(i){return function(i,s,o){if(el(i)&&!o){const u=Yn(i.index,s);return new Sg(u,u)}return 47&i.type?new Sg(s[16],s):null}(wn(),xe(),16==(16&i))};let an=(()=>{class i{}return i.__NG_ELEMENT_ID__=lN,i})();const Ng=[new Pw],S_=new mr([new Mw]),tT=new D_(Ng),hN=function(){return N_(wn(),xe())};let gf=(()=>{class i{}return i.__NG_ELEMENT_ID__=hN,i})();const rT=gf,fN=class extends rT{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=kl(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),Ll(o,u,s),new Sg(u)}};function N_(i,s){return 4&i.type?new fN(s,i,Td(i,s)):null}class Go{}class Lw{}const Vw=function(){return Bw(wn(),xe())};let xg=(()=>{class i{}return i.__NG_ELEMENT_ID__=Vw,i})();const qa=xg,R_=class extends qa{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Td(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const s=Zs(this._hostTNode,this._hostLView);if(gl(s)){const o=fu(s,this._hostLView),u=hu(s);return new _i(o[1].data[u+8],o)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Uw(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const c=s.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(s,o,u,c,d){const m=u||this.parentInjector;if(!d&&null==s.ngModule&&m){const b=m.get(Go,null);b&&(d=b)}const _=s.create(m,c,void 0,d);return this.insert(_.hostView,o),_}insert(s,o){const u=s._lView,c=u[1];if(Kt(u[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const M=u[3],P=new R_(M,M[6],M[3]);P.detach(P.indexOf(s))}}const d=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=s),u<d-10?(s[4]=o[c],is(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=128}(c,u,m,d);const _=Au(d,m),b=u[11],I=uy(b,m[7]);return null!==I&&function(i,s,o,u,c,d){u[0]=c,u[6]=s,kp(i,u,o,1,c,d)}(c,m[6],b,u,I,_),s.attachToViewContainerRef(),is(Dd(m),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Uw(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=jv(this._lContainer,o);u&&(Ns(Dd(this._lContainer),o),j0(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=jv(this._lContainer,o);return u&&null!=Ns(Dd(this._lContainer),o)?new Sg(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Uw(i){return i[8]}function Dd(i){return i[8]||(i[8]=[])}function Bw(i,s){let o;const u=s[i.index];if(Kt(u))o=u;else{let c;if(8&i.type)c=Dt(u);else{const d=s[11];c=d.createComment("");const m=Tr(i,s);xa(d,uy(d,m),c,function(i,s){return ln(i)?i.nextSibling(s):s.nextSibling}(d,m),!1)}s[i.index]=o=fE(u,s,c,i),jp(s,o)}return new R_(o,i,s)}const Nf={};class j_ extends Cd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=ar(s);return new TT(o,this.ngModule)}}function bT(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const RN=new bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Mp});class TT extends Nw{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(kA).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return bT(this.componentDef.inputs)}get outputs(){return bT(this.componentDef.outputs)}create(s,o,u,c){const d=(c=c||this.ngModule)?function(i,s){return{get:(o,u,c)=>{const d=i.get(o,Nf,c);return d!==Nf||u===Nf?d:s.get(o,u,c)}}}(s,c.injector):s,m=d.get(Un,ua),_=d.get(T_,null),b=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=u?function(i,s,o){if(ln(i))return i.selectRootElement(s,o===pn.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(b,u,this.componentDef.encapsulation):Uv(m.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),M=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||Mp,clean:lS,playerHandler:s||null,flags:0}}(),B=wy(0,null,null,1,0,null,null,null,null,null),W=kl(null,B,P,M,null,null,m,b,_,d);let le,X;Io(W);try{const Ve=function(i,s,o,u,c,d){const m=o[1];o[20]=i;const b=Su(m,20,2,"#host",null),I=b.mergedAttrs=s.hostAttrs;null!==I&&(Ay(b,I,!0),null!==i&&(dn(c,i,I),null!==b.classes&&cy(c,i,b.classes),null!==b.styles&&G0(c,i,b.styles)));const A=u.createRenderer(i,s),M=kl(o,YA(s),null,s.onPush?64:16,o[20],b,u,A,d||null,null);return m.firstCreatePass&&($n(Ds(b,o),m,s.type),dE(m,b),tS(b,o.length,1)),jp(o,M),o[20]=M}(A,this.componentDef,W,m,b);if(A)if(u)dn(b,A,["ng-version",Ga.full]);else{const{attrs:De,classes:rt}=function(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let d=i[u];if("string"==typeof d)2===c?""!==d&&s.push(d,i[++u]):8===c&&o.push(d);else{if(!Mo(c))break;c=d}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);De&&dn(b,A,De),rt&&rt.length>0&&cy(b,A,rt.join(" "))}if(X=Ji(B,20),void 0!==o){const De=X.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const dt=o[rt];De.push(null!=dt?Array.from(dt):null)}}le=function(i,s,o,u,c){const d=o[1],m=function(i,s,o){const u=wn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),nS(i,u,s,Fl(i,s,1,null),o));const c=Ea(s,i,u.directiveStart,u);on(c,s);const d=Tr(u,s);return d&&on(d,s),c}(d,o,s);if(u.components.push(m),i[8]=m,c&&c.forEach(b=>b(m,s)),s.contentQueries){const b=wn();s.contentQueries(1,m,b.directiveStart)}const _=wn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ts(_.index),$h(o[1],_,0,_.directiveStart,_.directiveEnd,s),Hh(s,m)),m}(Ve,this.componentDef,W,P,[xC]),Ll(B,W,null)}finally{sp()}return new rb(this.componentType,le,Td(X,W),W,X)}}class rb extends class{}{constructor(s,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new Fw(c),this.componentType=s}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Od=new Map;class MN extends Go{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new j_(this);const u=Wn(s),c=s[xt]||null;c&&g_(c),this._bootstrapComponents=us(u.bootstrap),this._r3Injector=bE(s,o,[{provide:Go,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],Y(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=An.THROW_IF_NOT_FOUND,u=Me.Default){return s===An||s===Go||s===id?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Ug extends Lw{constructor(s){super(),this.moduleType=s,null!==Wn(s)&&function(i){const s=new Set;!function o(u){const c=Wn(u,!0),d=c.id;null!==d&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Y(s)} vs ${Y(s.name)}`)}(d,Od.get(d),u),Od.set(d,u));const m=us(c.imports);for(const _ of m)s.has(_)||(s.add(_),o(_))}(i)}(s)}create(s){return new MN(this.moduleType,s)}}function G_(i,s,o,u){return ob(xe(),Br(),i,s,o,u)}function ob(i,s,o,u,c,d){const m=s+o;return Nr(i,m,c)?function(i,s,o){return i[s]=o}(i,m+1,d?u.call(d,c):u(c)):function(i,s){const o=i[s];return o===bt?void 0:o}(i,m+1)}function z_(i,s){const o=Mt();let u;const c=i+20;o.firstCreatePass?(u=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(i===u.name)return u}throw new pe("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const d=u.factory||(u.factory=Ur(u.type)),m=fn(hd);try{const _=ma(!1),b=d();return ma(_),function(i,s,o,u){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=u}(o,xe(),c,b),b}finally{fn(m)}}function W_(i,s,o){const u=i+20,c=xe(),d=function(i,s){return i[s]}(c,u);return function(i,s){Vo.isWrapped(s)&&(s=Vo.unwrap(s),i[lt.lFrame.bindingIndex]=bt);return s}(c,function(i,s){return i[1].data[s].pure}(c,u)?ob(c,Br(),s,d.transform,o,d):d.transform(o))}function Of(i){return s=>{setTimeout(i,void 0,s)}}const gs=class extends f.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var c,d,m;let _=s,b=o||(()=>null),I=u;if(s&&"object"==typeof s){const M=s;_=null===(c=M.next)||void 0===c?void 0:c.bind(M),b=null===(d=M.error)||void 0===d?void 0:d.bind(M),I=null===(m=M.complete)||void 0===m?void 0:m.bind(M)}this.__isAsync&&(b=Of(b),_&&(_=Of(_)),I&&(I=Of(I)));const A=super.subscribe({next:_,error:b,complete:I});return s instanceof ee.w&&s.add(A),A}};function ub(){return this._results[Bl()]()}class Gg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Bl(),u=Gg.prototype;u[o]||(u[o]=ub)}get changes(){return this._changes||(this._changes=new gs)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=vi(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],d=s[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class lb{constructor(s){this.queryList=s,this.matches=null}clone(){return new lb(this.queryList)}setDirty(){this.queryList.setDirty()}}class cb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new cb(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Q_(s,o).matches&&this.queries[o].setDirty()}}class Pf{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class qg{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(s,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new qg(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class nc{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new nc(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(s,o,db(o,d)),this.matchTNodeWithReadOption(s,o,va(o,s,d,!1,!1))}else u===gf?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,va(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===fs||c===xg||c===gf&&4&o.type)this.addMatch(o.index,-2);else{const d=va(o,s,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function db(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function zg(i,s,o,u){return-1===o?function(i,s){return 11&i.type?Td(i,s):4&i.type?N_(i,s):null}(s,i):-2===o?function(i,s,o){return o===fs?Td(s,i):o===gf?N_(s,i):o===xg?Bw(s,i):void 0}(i,s,u):Ea(i,i[1],o,s)}function fb(i,s,o,u){const c=s[19].queries[u];if(null===c.matches){const d=i.data,m=o.matches,_=[];for(let b=0;b<m.length;b+=2){const I=m[b];_.push(I<0?null:zg(s,d[I],m[b+1],o.metadata.read))}c.matches=_}return c.matches}function Wg(i,s,o,u){const c=i.queries.getByIndex(o),d=c.matches;if(null!==d){const m=fb(i,s,c,o);for(let _=0;_<d.length;_+=2){const b=d[_];if(b>0)u.push(m[_/2]);else{const I=d[_+1],A=s[-b];for(let M=10;M<A.length;M++){const P=A[M];P[17]===P[3]&&Wg(P[1],P,I,u)}if(null!==A[9]){const M=A[9];for(let P=0;P<M.length;P++){const B=M[P];Wg(B[1],B,I,u)}}}}}return u}function Z_(i){const s=xe(),o=Mt(),u=Co();Tc(u+1);const c=Q_(o,u);if(i.dirty&&Eo(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const d=c.crossesNgTemplate?Wg(o,s,u,[]):fb(o,s,c,u);i.reset(d,QI),i.notifyOnChanges()}return!0}return!1}function pb(i,s,o,u){const c=Mt();if(c.firstCreatePass){const d=wn();(function(i,s,o){null===i.queries&&(i.queries=new qg),i.queries.track(new nc(s,o))})(c,new Pf(s,o,u),d.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}!function(i,s,o){const u=new Gg(4==(4&o));Bp(i,s,u,u.destroy),null===s[19]&&(s[19]=new cb),s[19].queries.push(new lb(u))}(c,xe(),o)}function RT(){return i=xe(),s=Co(),i[19].queries[s].queryList;var i,s}function Q_(i,s){return i.queries.getByIndex(s)}const kb=new bn("Application Initializer");let ic=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Tg,this.reject=Tg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(fd(d))o.push(d);else if(Xh(d)){const m=new Promise((_,b)=>{d.subscribe({complete:_,error:b})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Vn(kb,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const JT=new bn("AppId"),XT={provide:JT,useFactory:function(){return`${Qg()}${Qg()}${Qg()}`},deps:[]};function Qg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lb=new bn("Platform Initializer"),eD=new bn("Platform ID"),tD=new bn("appBootstrapListener");let rD=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const Uf=new bn("LocaleId"),sv=new bn("DefaultCurrencyCode");class oD{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const Ub=function(i){return new Ug(i)},nR=Ub,Bb=function(i){return Promise.resolve(Ub(i))},ov=function(i){const s=Ub(i),u=us(Wn(i).declarations).reduce((c,d)=>{const m=ar(d);return m&&c.push(new TT(m)),c},[]);return new oD(s,u)},jb=ov,Hb=function(i){return Promise.resolve(ov(i))};let jf=(()=>{class i{constructor(){this.compileModuleSync=nR,this.compileModuleAsync=Bb,this.compileModuleAndAllComponentsSync=jb,this.compileModuleAndAllComponentsAsync=Hb}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();const qb=(()=>Promise.resolve(0))();function sc(i){"undefined"==typeof Zone?qb.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ls{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gs(!1),this.onMicrotaskEmpty=new gs(!1),this.onStable=new gs(!1),this.onError=new gs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=$.requestAnimationFrame,s=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call($,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,av(i),i.isCheckStableRunning=!0,Wb(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),av(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,m,_)=>{try{return cD(i),o.invokeTask(c,d,m,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),dD(i)}},onInvoke:(o,u,c,d,m,_,b)=>{try{return cD(i),o.invoke(c,d,m,_,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),dD(i)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,av(i),Wb(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ls.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ls.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,s,sR,Tg,Tg);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const sR={};function Wb(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function av(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function cD(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function dD(i){i._nesting--,Wb(i)}class aR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gs,this.onMicrotaskEmpty=new gs,this.onStable=new gs,this.onError=new gs}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}let hD=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ls.assertNotInAngularZone(),sc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sc(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(Vn(Ls))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})(),fD=(()=>{class i{constructor(){this._applications=new Map,Jg.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Jg.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();class $f{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function pD(i){Jg=i}let Jg=new $f,Kb=!0,Zb=!1;function uv(){return Zb=!0,Kb}function lv(){if(Zb)throw new Error("Cannot enable prod mode after platform setup.");Kb=!1}let Nt;const em=new bn("AllowMultipleToken");class mD{constructor(s,o){this.name=s,this.token=o}}function _D(i,s,o=[]){const u=`Platform: ${s}`,c=new bn(u);return(d=[])=>{let m=vD();if(!m||m.injector.get(em,!1))if(i)i(o.concat(d).concat({provide:c,useValue:!0}));else{const _=o.concat(d).concat({provide:c,useValue:!0},{provide:Sy,useValue:"platform"});!function(i){if(Nt&&!Nt.destroyed&&!Nt.injector.get(em,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Nt=i.get(kn);const s=i.get(Lb,null);s&&s.forEach(o=>o())}(An.create({providers:_,name:u}))}return function(i){const s=vD();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(c)}}function vD(){return Nt&&!Nt.destroyed?Nt:null}let kn=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const _=function(i,s){let o;return o="noop"===i?new aR:("zone.js"===i?void 0:i)||new Ls({enableLongStackTrace:uv(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:Ls,useValue:_}];return _.run(()=>{const I=An.create({providers:b,parent:this.injector,name:o.moduleType.name}),A=o.create(I),M=A.injector.get(ve,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const P=_.onError.subscribe({next:B=>{M.handleError(B)}});A.onDestroy(()=>{Qb(this._modules,A),P.unsubscribe()})}),function(i,s,o){try{const u=o();return fd(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(M,_,()=>{const P=A.injector.get(ic);return P.runInitializers(),P.donePromise.then(()=>(g_(A.injector.get(Uf,et)||et),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const c=vr({},u);return function(i,s,o){const u=new Ug(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(Hf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Vn(An))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function vr(i,s){return Array.isArray(s)?s.reduce(vr,i):Object.assign(Object.assign({},i),s)}let Hf=(()=>{class i{constructor(o,u,c,d,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new F.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ls.assertNotInAngularZone(),sc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),M.unsubscribe()}});this.isStable=(0,de.T)(_,b.pipe(i=>(0,he.x)()(function(i,s){return function(u){let c;c="function"==typeof i?i:function(){return i};const d=Object.create(u,ne.N);return d.source=u,d.subjectFactory=c,d}}(K)(i))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof Nw?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Go),_=c.create(An.NULL,[],u||c.selector,d),b=_.location.nativeElement,I=_.injector.get(hD,null),A=I&&_.injector.get(fD);return I&&A&&A.registerApplication(b,I),_.onDestroy(()=>{this.detachView(_.hostView),Qb(this.components,_),A&&A.unregisterApplication(b)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Qb(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(tD,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Vn(Ls),Vn(An),Vn(ve),Vn(Cd),Vn(ic))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function Qb(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class dR{}class CD{}const Gu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let LM=(()=>{class i{constructor(o,u){this._compiler=o,this._config=u||Gu}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),V(8255)(u).then(d=>d[c]).then(d=>zo(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),V(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[c+d]).then(m=>zo(m,u,c))}}return i.\u0275fac=function(o){return new(o||i)(Vn(jf),Vn(CD,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})();function zo(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const r0=function(i){return null},qu=_D(null,"core",[{provide:eD,useValue:"unknown"},{provide:kn,deps:[An]},{provide:fD,deps:[]},{provide:rD,deps:[]}]),um=[{provide:Hf,useClass:Hf,deps:[Ls,An,ve,Cd,ic]},{provide:RN,deps:[Ls],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:ic,useClass:ic,deps:[[new Hi,kb]]},{provide:jf,useClass:jf,deps:[]},XT,{provide:mr,useFactory:function(){return S_},deps:[]},{provide:D_,useFactory:function(){return tT},deps:[]},{provide:Uf,useFactory:function(i){return g_(i=i||"undefined"!=typeof $localize&&$localize.locale||et),i},deps:[[new Cl(Uf),new Hi,new Sa]]},{provide:sv,useValue:"USD"}];let vR=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Vn(Hf))},i.\u0275mod=Xa({type:i}),i.\u0275inj=Oi({providers:um}),i})()},8939:(Xe,Ne,V)=>{"use strict";V.d(Ne,{hO:()=>Y,xv:()=>K,Dh:()=>he,GT:()=>se,cc:()=>ie,on:()=>k,pX:()=>ne});var f=V(3018),ee=V(7841),F=V(6643);Xe=V.hmd(Xe);const de=["ngOnDestroy"],ne=(_e,we,pe,Ae={})=>new Proxy(_e,{get:(Ue,Be)=>pe.runOutsideAngular(()=>{var Et;if(_e[Be])return(null===(Et=null==Ae?void 0:Ae.spy)||void 0===Et?void 0:Et.get)&&Ae.spy.get(Be,_e[Be]),_e[Be];if(de.indexOf(Be)>-1)return()=>{};const gt=we.toPromise().then(Se=>{const re=Se&&Se[Be];return"function"==typeof re?re.bind(Se):re&&re.then?re.then(ue=>pe.run(()=>ue)):pe.run(()=>re)});return new Proxy(()=>{},{get:(Se,re)=>gt[re],apply:(Se,re,ue)=>gt.then(ge=>{var ce;const Le=ge&&ge(...ue);return(null===(ce=null==Ae?void 0:Ae.spy)||void 0===ce?void 0:ce.apply)&&Ae.spy.apply(Be,ue,Le),Le})})})}),se=(_e,we)=>{we.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(Ae=>{Object.defineProperty(_e.prototype,Ae,Object.getOwnPropertyDescriptor(pe.prototype||pe,Ae))})})};class be{constructor(we){return we}}const he=new f.OlP("angularfire2.app.options"),K=new f.OlP("angularfire2.app.name");function k(_e,we,pe){const Ue="object"==typeof pe&&pe||{};Ue.name=Ue.name||"string"==typeof pe&&pe||"[DEFAULT]";const Et=ee.Z.apps.filter(gt=>gt&&gt.name===Ue.name)[0]||we.runOutsideAngular(()=>ee.Z.initializeApp(_e,Ue));try{JSON.stringify(_e)!==JSON.stringify(Et.options)&&L("error",`${Et.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(gt){}return new be(Et)}const L=(_e,...we)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[_e](...we)},J={provide:be,useFactory:k,deps:[he,f.R0b,[new f.FiY,K]]};let Y=(()=>{class _e{constructor(pe){ee.Z.registerVersion("angularfire",F.q4.full,"core"),ee.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ee.Z.registerVersion("angular",f.q4F.full,pe.toString())}static initializeApp(pe,Ae){return{ngModule:_e,providers:[{provide:he,useValue:pe},{provide:K,useValue:Ae}]}}}return _e.\u0275fac=function(pe){return new(pe||_e)(f.LFG(f.Lbi))},_e.\u0275mod=f.oAB({type:_e}),_e.\u0275inj=f.cJS({providers:[J]}),_e})();function ie(_e,we,pe,Ae,Ue){const[,Be,Et]=globalThis.\u0275AngularfireInstanceCache.find(gt=>gt[0]===_e)||[];if(Be)return function(_e,we){try{return _e.toString()===we.toString()}catch(pe){return _e===we}}(Ue,Et)||(z("error",`${we} was already initialized on the ${pe} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:Ue,was:Et})),Be;{const gt=Ae();return globalThis.\u0275AngularfireInstanceCache.push([_e,gt,Ue]),gt}}const fe=!!Xe.hot,z=(_e,...we)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[_e](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Xe,Ne,V)=>{"use strict";V.d(Ne,{q4:()=>Mm,iC:()=>$r,HU:()=>ti,vb:()=>No,JM:()=>wl});var f=V(3018),ee=V(2329),F=V(8239),de=V(5452),ne=V(3854),se=V(6034),be=V(5601),he=V(6676);const K="@firebase/installations",k="0.5.2",J=`w:${k}`,Y="FIS_v2",we=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pe(C){return C instanceof ne.ZR&&C.code.includes("request-failed")}function Ae({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ue(C){return{token:C.token,requestStatus:2,expiresIn:ge(C.expiresIn),creationTime:Date.now()}}function Be(C,D){return Et.apply(this,arguments)}function Et(){return(Et=(0,F.Z)(function*(C,D){const U=(yield D.json()).error;return we.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function gt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Se(C,{refreshToken:D}){const R=gt(C);return R.append("Authorization",function(C){return`${Y} ${C}`}(D)),R}function re(C){return ue.apply(this,arguments)}function ue(){return(ue=(0,F.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function ge(C){return Number(C.replace("s","000"))}function Le(C,D){return ye.apply(this,arguments)}function ye(){return(ye=(0,F.Z)(function*(C,{fid:D}){const R=Ae(C),me={method:"POST",headers:gt(C),body:JSON.stringify({fid:D,authVersion:Y,appId:C.appId,sdkVersion:J})},Pe=yield re(()=>fetch(R,me));if(Pe.ok){const We=yield Pe.json();return{fid:We.fid||D,registrationStatus:2,refreshToken:We.refreshToken,authToken:Ue(We.authToken)}}throw yield Be("Create Installation",Pe)})).apply(this,arguments)}function st(C){return new Promise(D=>{setTimeout(D,C)})}const Fn=/^[cdef][\w-]{21}$/;function Zt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Fn.test(R)?R:""}catch(C){return""}}function Yt(C){return`${C.appName}!${C.appId}`}const zn=new Map;function Zr(C,D){const R=Yt(C);Lt(R,D),function(C,D){const R=(!br&&"BroadcastChannel"in self&&(br=new BroadcastChannel("[Firebase] FID Change"),br.onmessage=C=>{Lt(C.data.key,C.data.fid)}),br);R&&R.postMessage({key:C,fid:D}),0===zn.size&&br&&(br.close(),br=null)}(R,D)}function Lt(C,D){const R=zn.get(C);if(R)for(const U of R)U(D)}let br=null;const fi="firebase-installations-store";let Yi=null;function ys(){return Yi||(Yi=(0,he.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(fi)}})),Yi}function pi(C,D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,F.Z)(function*(C,D){const R=Yt(C),Q=(yield ys()).transaction(fi,"readwrite"),me=Q.objectStore(fi),Pe=yield me.get(R);return yield me.put(D,R),yield Q.complete,(!Pe||Pe.fid!==D.fid)&&Zr(C,D.fid),D})).apply(this,arguments)}function Cr(C){return uo.apply(this,arguments)}function uo(){return(uo=(0,F.Z)(function*(C){const D=Yt(C),U=(yield ys()).transaction(fi,"readwrite");yield U.objectStore(fi).delete(D),yield U.complete})).apply(this,arguments)}function at(C,D){return Me.apply(this,arguments)}function Me(){return(Me=(0,F.Z)(function*(C,D){const R=Yt(C),Q=(yield ys()).transaction(fi,"readwrite"),me=Q.objectStore(fi),Pe=yield me.get(R),We=D(Pe);return void 0===We?yield me.delete(R):yield me.put(We,R),yield Q.complete,We&&(!Pe||Pe.fid!==We.fid)&&Zr(C,We.fid),We})).apply(this,arguments)}function zt(C){return tn.apply(this,arguments)}function tn(){return(tn=(0,F.Z)(function*(C){let D;const R=yield at(C,U=>{const Q=fn(U),me=$t(C,Q);return D=me.registrationPromise,me.installationEntry});return""===R.fid?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}})).apply(this,arguments)}function fn(C){return pn(C||{fid:Zt(),registrationStatus:0})}function $t(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(we.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:R,registrationPromise:function(C,D){return Qe.apply(this,arguments)}(C,R)}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:En(C)}:{installationEntry:D}}function Qe(){return(Qe=(0,F.Z)(function*(C,D){try{return pi(C,yield Le(C,D))}catch(R){throw pe(R)&&409===R.customData.serverCode?yield Cr(C):yield pi(C,{fid:D.fid,registrationStatus:0}),R}})).apply(this,arguments)}function En(C){return _s.apply(this,arguments)}function _s(){return(_s=(0,F.Z)(function*(C){let D=yield Pi(C);for(;1===D.registrationStatus;)yield st(100),D=yield Pi(C);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield zt(C);return U||R}return D})).apply(this,arguments)}function Pi(C){return at(C,D=>{if(!D)throw we.create("installation-not-found");return pn(D)})}function pn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function lo(C,D){return G.apply(this,arguments)}function G(){return(G=(0,F.Z)(function*({appConfig:C,platformLoggerProvider:D},R){const U=q(C,R),Q=Se(C,R),me=D.getImmediate({optional:!0});me&&Q.append("x-firebase-client",me.getPlatformInfoString());const We={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:J}})},qe=yield re(()=>fetch(U,We));if(qe.ok)return Ue(yield qe.json());throw yield Be("Generate Auth Token",qe)})).apply(this,arguments)}function q(C,{fid:D}){return`${Ae(C)}/${D}/authTokens:generate`}function $(C){return Re.apply(this,arguments)}function Re(){return(Re=(0,F.Z)(function*(C,D=!1){let R;const U=yield at(C.appConfig,me=>{if(!Xt(me))throw we.create("not-registered");const Pe=me.authToken;if(!D&&Yr(Pe))return me;if(1===Pe.requestStatus)return R=ae(C,D),me;{if(!navigator.onLine)throw we.create("app-offline");const We=rn(me);return R=Ht(C,We),We}});return R?yield R:U.authToken})).apply(this,arguments)}function ae(C,D){return ze.apply(this,arguments)}function ze(){return(ze=(0,F.Z)(function*(C,D){let R=yield Ge(C.appConfig);for(;1===R.authToken.requestStatus;)yield st(100),R=yield Ge(C.appConfig);const U=R.authToken;return 0===U.requestStatus?$(C,D):U})).apply(this,arguments)}function Ge(C){return at(C,D=>{if(!Xt(D))throw we.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ht(C,D){return nn.apply(this,arguments)}function nn(){return(nn=(0,F.Z)(function*(C,D){try{const R=yield lo(C,D),U=Object.assign(Object.assign({},D),{authToken:R});return yield pi(C.appConfig,U),R}catch(R){if(!pe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield pi(C.appConfig,U)}else yield Cr(C.appConfig);throw R}})).apply(this,arguments)}function Xt(C){return void 0!==C&&2===C.registrationStatus}function Yr(C){return 2===C.requestStatus&&!function(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function rn(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function Jo(){return(Jo=(0,F.Z)(function*(C){const D=C,{installationEntry:R,registrationPromise:U}=yield zt(D.appConfig);return U?U.catch(console.error):$(D).catch(console.error),R.fid})).apply(this,arguments)}function Ja(){return(Ja=(0,F.Z)(function*(C,D=!1){const R=C;return yield Qu(R.appConfig),(yield $(R,D)).token})).apply(this,arguments)}function Qu(C){return Us.apply(this,arguments)}function Us(){return(Us=(0,F.Z)(function*(C){const{registrationPromise:D}=yield zt(C);D&&(yield D)})).apply(this,arguments)}function Wn(C){return we.create("missing-app-config-values",{valueName:C})}const Kd="installations";(0,de._registerComponent)(new se.wA(Kd,C=>{const D=C.getProvider("app").getImmediate();return{app:D,appConfig:function(C){if(!C||!C.options)throw Wn("App Configuration");if(!C.name)throw Wn("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!C.options[R])throw Wn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D),platformLoggerProvider:(0,de._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,de._registerComponent)(new se.wA("installations-internal",C=>{const D=C.getProvider("app").getImmediate(),R=(0,de._getProvider)(D,Kd).getImmediate();return{getId:()=>function(C){return Jo.apply(this,arguments)}(R),getToken:Q=>function(C){return Ja.apply(this,arguments)}(R,Q)}},"PRIVATE")),(0,de.registerVersion)(K,k),(0,de.registerVersion)(K,k,"esm2017");const Ir="@firebase/remote-config",Mn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mc{constructor(D,R,U,Q){this.client=D,this.storage=R,this.storageCache=U,this.logger=Q}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,Q=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Q}.`),Q}fetch(D){var R=this;return(0,F.Z)(function*(){const[U,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(D.cacheMaxAgeMillis,U))return Q;D.eTag=Q&&Q.eTag;const me=yield R.client.fetch(D),Pe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Pe.push(R.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Pe),me})()}}function Jr(C=navigator){return C.languages&&C.languages[0]||C.language}class Kt{constructor(D,R,U,Q,me,Pe){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=U,this.projectId=Q,this.apiKey=me,this.appId=Pe}fetch(D){var R=this;return(0,F.Z)(function*(){const[U,Q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},qe={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:R.appId,language_code:Jr()},Ut={method:"POST",headers:We,body:JSON.stringify(qe)},Gt=fetch(Pe,Ut),er=new Promise((os,Rs)=>{D.signal.addEventListener(()=>{const At=new Error("The operation was aborted.");At.name="AbortError",Rs(At)})});let dr;try{yield Promise.race([Gt,er]),dr=yield Gt}catch(os){let Rs="fetch-client-network";throw"AbortError"===os.name&&(Rs="fetch-timeout"),Mn.create(Rs,{originalErrorMessage:os.message})}let tr=dr.status;const ss=dr.headers.get("ETag")||void 0;let mu,Ei;if(200===dr.status){let os;try{os=yield dr.json()}catch(Rs){throw Mn.create("fetch-client-parse",{originalErrorMessage:Rs.message})}mu=os.entries,Ei=os.state}if("INSTANCE_STATE_UNSPECIFIED"===Ei?tr=500:"NO_CHANGE"===Ei?tr=304:("NO_TEMPLATE"===Ei||"EMPTY_CONFIG"===Ei)&&(mu={}),304!==tr&&200!==tr)throw Mn.create("fetch-status",{httpStatus:tr});return{status:tr,eTag:ss,config:mu}})()}}class Xr{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,F.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:U}){var Q=this;return(0,F.Z)(function*(){yield function(C,D){return new Promise((R,U)=>{const Q=Math.max(D-Date.now(),0),me=setTimeout(R,Q);C.addEventListener(()=>{clearTimeout(me),U(Mn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const me=yield Q.client.fetch(D);return yield Q.storage.deleteThrottleMetadata(),me}catch(me){if(!function(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(me))throw me;const Pe={throttleEndTimeMillis:Date.now()+(0,ne.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(Pe),Q.attemptFetch(D,Pe)}})()}}class Cm{constructor(D,R,U,Q,me){this.app=D,this._client=R,this._storageCache=U,this._storage=Q,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ea(C,D){const R=C.target.error||void 0;return Mn.create(D,{originalErrorMessage:R&&R.message})}const po="app_namespace_store";class Jd{constructor(D,R,U,Q=function(){return new Promise((C,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{D(ea(U,"storage-open"))},R.onsuccess=U=>{C(U.target.result)},R.onupgradeneeded=U=>{const Q=U.target.result;switch(U.oldVersion){case 0:Q.createObjectStore(po,{keyPath:"compositeKey"})}}}catch(R){D(Mn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=D,this.appName=R,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,F.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,me)=>{const We=U.transaction([po],"readonly").objectStore(po),qe=R.createCompositeKey(D);try{const Ut=We.get(qe);Ut.onerror=Gt=>{me(ea(Gt,"storage-get"))},Ut.onsuccess=Gt=>{const er=Gt.target.result;Q(er?er.value:void 0)}}catch(Ut){me(Mn.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(D,R){var U=this;return(0,F.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((me,Pe)=>{const qe=Q.transaction([po],"readwrite").objectStore(po),Ut=U.createCompositeKey(D);try{const Gt=qe.put({compositeKey:Ut,value:R});Gt.onerror=er=>{Pe(ea(er,"storage-set"))},Gt.onsuccess=()=>{me()}}catch(Gt){Pe(Mn.create("storage-set",{originalErrorMessage:Gt&&Gt.message}))}})})()}delete(D){var R=this;return(0,F.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,me)=>{const We=U.transaction([po],"readwrite").objectStore(po),qe=R.createCompositeKey(D);try{const Ut=We.delete(qe);Ut.onerror=Gt=>{me(ea(Gt,"storage-delete"))},Ut.onsuccess=()=>{Q()}}catch(Ut){me(Mn.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ta{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,F.Z)(function*(){const R=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),Q=D.storage.getActiveConfig(),me=yield R;me&&(D.lastFetchStatus=me);const Pe=yield U;Pe&&(D.lastSuccessfulFetchTimestampMillis=Pe);const We=yield Q;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Am(){return tl.apply(this,arguments)}function tl(){return(tl=(0,F.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,de._registerComponent)(new se.wA("remote-config",function(D,{instanceIdentifier:R}){const U=D.getProvider("app").getImmediate(),Q=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Mn.create("registration-window");if(!(0,ne.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:me,apiKey:Pe,appId:We}=U.options;if(!me)throw Mn.create("registration-project-id");if(!Pe)throw Mn.create("registration-api-key");if(!We)throw Mn.create("registration-app-id");const qe=new Jd(We,U.name,R=R||"firebase"),Ut=new ta(qe),Gt=new be.Yd(Ir);Gt.logLevel=be.in.ERROR;const er=new Kt(Q,de.SDK_VERSION,R,me,Pe,We),dr=new Xr(er,qe),tr=new mc(dr,qe,Ut,Gt),ss=new Cm(U,tr,Ut,qe,Gt);return function(C){const D=(0,ne.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ss),ss},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Ir,"0.3.1"),(0,de.registerVersion)(Ir,"0.3.1","esm2017");const go="/firebase-messaging-sw.js",ra="/firebase-cloud-messaging-push-scope",Hs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nl="google.c.a.c_id",vc="google.c.a.c_l",Ec="google.c.a.ts",ia="google.c.a.e";var Ur=(()=>{return(C=Ur||(Ur={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ur;var C})();function Vi(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wc(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),Q=new Uint8Array(U.length);for(let me=0;me<U.length;++me)Q[me]=U.charCodeAt(me);return Q}const mo="fcm_token_details_db",Xd="fcm_token_object_Store";function np(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,F.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(mo))return null;let D=null;return(yield(0,he.openDb)(mo,5,function(){var U=(0,F.Z)(function*(Q){var me;if(Q.oldVersion<2||!Q.objectStoreNames.contains(Xd))return;const Pe=Q.transaction.objectStore(Xd),We=yield Pe.index("fcmSenderId").get(C);if(yield Pe.clear(),We)if(2===Q.oldVersion){const qe=We;if(!qe.auth||!qe.p256dh||!qe.endpoint)return;D={token:qe.fcmToken,createTime:null!==(me=qe.createTime)&&void 0!==me?me:Date.now(),subscriptionOptions:{auth:qe.auth,p256dh:qe.p256dh,endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:"string"==typeof qe.vapidKey?qe.vapidKey:Vi(qe.vapidKey)}}}else if(3===Q.oldVersion){const qe=We;D={token:qe.fcmToken,createTime:qe.createTime,subscriptionOptions:{auth:Vi(qe.auth),p256dh:Vi(qe.p256dh),endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:Vi(qe.vapidKey)}}}else if(4===Q.oldVersion){const qe=We;D={token:qe.fcmToken,createTime:qe.createTime,subscriptionOptions:{auth:Vi(qe.auth),p256dh:Vi(qe.p256dh),endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:Vi(qe.vapidKey)}}}});return function(Q){return U.apply(this,arguments)}}())).close(),yield(0,he.deleteDb)(mo),yield(0,he.deleteDb)("fcm_vapid_details_db"),yield(0,he.deleteDb)("undefined"),rl(D)?D:null})).apply(this,arguments)}function rl(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Zn="firebase-messaging-store";let sa=null;function oa(){return sa||(sa=(0,he.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Zn)}})),sa}function Gs(C){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,F.Z)(function*(C){const D=ua(C),U=yield(yield oa()).transaction(Zn).objectStore(Zn).get(D);if(U)return U;{const Q=yield np(C.appConfig.senderId);if(Q)return yield _o(C,Q),Q}})).apply(this,arguments)}function _o(C,D){return aa.apply(this,arguments)}function aa(){return(aa=(0,F.Z)(function*(C,D){const R=ua(C),Q=(yield oa()).transaction(Zn,"readwrite");return yield Q.objectStore(Zn).put(D,R),yield Q.complete,D})).apply(this,arguments)}function ln(C){return il.apply(this,arguments)}function il(){return(il=(0,F.Z)(function*(C){const D=ua(C),U=(yield oa()).transaction(Zn,"readwrite");yield U.objectStore(Zn).delete(D),yield U.complete})).apply(this,arguments)}function ua({appConfig:C}){return C.appId}const Dt=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function th(C,D){return ol.apply(this,arguments)}function ol(){return(ol=(0,F.Z)(function*(C,D){const R=yield Yn(C),U=la(D),Q={method:"POST",headers:R,body:JSON.stringify(U)};let me;try{me=yield(yield fetch(vo(C.appConfig),Q)).json()}catch(Pe){throw Dt.create("token-subscribe-failed",{errorInfo:Pe})}if(me.error)throw Dt.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw Dt.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function iu(C,D){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,F.Z)(function*(C,D){const R=yield Yn(C),U=la(D.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(U)};let me;try{me=yield(yield fetch(`${vo(C.appConfig)}/${D.token}`,Q)).json()}catch(Pe){throw Dt.create("token-update-failed",{errorInfo:Pe})}if(me.error)throw Dt.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw Dt.create("token-update-no-token");return me.token})).apply(this,arguments)}function rp(C,D){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,F.Z)(function*(C,D){const U={method:"DELETE",headers:yield Yn(C)};try{const me=yield(yield fetch(`${vo(C.appConfig)}/${D}`,U)).json();if(me.error)throw Dt.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(Q){throw Dt.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function vo({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Yn(C){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,F.Z)(function*({appConfig:C,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function la({p256dh:C,auth:D,endpoint:R,vapidKey:U}){const Q={web:{endpoint:R,auth:D,p256dh:C}};return U!==Hs&&(Q.web.applicationPubKey=U),Q}const su=6048e5;function qs(C){return ca.apply(this,arguments)}function ca(){return(ca=(0,F.Z)(function*(C){const D=yield bc(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Vi(D.getKey("auth")),p256dh:Vi(D.getKey("p256dh"))},U=yield Gs(C.firebaseDependencies);if(U){if(nh(U.subscriptionOptions,R))return Date.now()>=U.createTime+su?Sm(C,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield rp(C.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return da(C.firebaseDependencies,R)}return da(C.firebaseDependencies,R)})).apply(this,arguments)}function al(C){return lt.apply(this,arguments)}function lt(){return(lt=(0,F.Z)(function*(C){const D=yield Gs(C.firebaseDependencies);D&&(yield rp(C.firebaseDependencies,D.token),yield ln(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Sm(C,D){return bs.apply(this,arguments)}function bs(){return(bs=(0,F.Z)(function*(C,D){try{const R=yield iu(C.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield _o(C.firebaseDependencies,U),R}catch(R){throw yield al(C),R}})).apply(this,arguments)}function da(C,D){return wo.apply(this,arguments)}function wo(){return(wo=(0,F.Z)(function*(C,D){const U={token:yield th(C,D),createTime:Date.now(),subscriptionOptions:D};return yield _o(C,U),U.token})).apply(this,arguments)}function bc(C,D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,F.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wc(D)})})).apply(this,arguments)}function nh(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function xe(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,D){if(!D.notification)return;C.notification={};const R=D.notification.title;R&&(C.notification.title=R);const U=D.notification.body;U&&(C.notification.body=U);const Q=D.notification.image;Q&&(C.notification.image=Q)}(D,C),function(C,D){!D.data||(C.data=D.data)}(D,C),function(C,D){if(!D.fcmOptions)return;C.fcmOptions={};const R=D.fcmOptions.link;R&&(C.fcmOptions.link=R);const U=D.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(D,C),D}function rh(C){return"object"==typeof C&&!!C&&nl in C}function ha(C,D){const R=[];for(let U=0;U<C.length;U++)R.push(C.charAt(U)),U<D.length&&R.push(D.charAt(U));return R.join("")}function ou(C){return Dt.create("missing-app-config-values",{valueName:C})}ha("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ha("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zs{constructor(D,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function(C){if(!C||!C.options)throw ou("App Configuration Object");if(!C.name)throw ou("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const U of D)if(!R[U])throw ou(U);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Q,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function ih(C){return ul.apply(this,arguments)}function ul(){return(ul=(0,F.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(go,{scope:ra}),C.swRegistration.update().catch(()=>{})}catch(D){throw Dt.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function bo(C,D){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,F.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield ih(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Dt.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Br(C,D){return jr.apply(this,arguments)}function jr(){return(jr=(0,F.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Hs)})).apply(this,arguments)}function es(){return(es=(0,F.Z)(function*(C,D){if(!navigator)throw Dt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dt.create("permission-blocked");return yield Br(C,null==D?void 0:D.vapidKey),yield bo(C,null==D?void 0:D.serviceWorkerRegistration),qs(C)})).apply(this,arguments)}function Is(C,D,R){return au.apply(this,arguments)}function au(){return(au=(0,F.Z)(function*(C,D,R){const U=sh(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[nl],message_name:R[vc],message_time:R[Ec],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sh(C){switch(C){case Ur.NOTIFICATION_CLICKED:return"notification_open";case Ur.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function uu(){return(uu=(0,F.Z)(function*(C,D){const R=D.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Ur.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(xe(R)):C.onMessageHandler.next(xe(R)));const U=R.data;rh(U)&&"1"===U[ia]&&(yield Is(C,R.messageType,U))})).apply(this,arguments)}const fa="@firebase/messaging";function oh(){return Io.apply(this,arguments)}function Io(){return(Io=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,ne.hl)()&&(yield(0,ne.eu)())&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,de._registerComponent)(new se.wA("messaging",C=>{const D=new zs(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(C,D){return uu.apply(this,arguments)}(D,R)),D},"PUBLIC")),(0,de._registerComponent)(new se.wA("messaging-internal",C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,D){return es.apply(this,arguments)}(D,U)}},"PRIVATE")),(0,de.registerVersion)(fa,"0.9.2"),(0,de.registerVersion)(fa,"0.9.2","esm2017");const ts="analytics",cn="firebase_id",Ac="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lh="https://www.googletagmanager.com/gtag/js",Qn=new be.Yd("@firebase/analytics");function ch(C){return Promise.all(C.map(D=>D.catch(R=>R)))}function pa(C,D){const R=document.createElement("script");R.src=`${lh}?l=${C}&id=${D}`,R.async=!0,document.head.appendChild(R)}function Sc(C,D,R,U,Q,me){return To.apply(this,arguments)}function To(){return(To=(0,F.Z)(function*(C,D,R,U,Q,me){const Pe=U[Q];try{if(Pe)yield D[Pe];else{const qe=(yield ch(R)).find(Ut=>Ut.measurementId===Q);qe&&(yield D[qe.appId])}}catch(We){Qn.error(We)}C("config",Q,me)})).apply(this,arguments)}function Nc(C,D,R,U,Q){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,F.Z)(function*(C,D,R,U,Q){try{let me=[];if(Q&&Q.send_to){let Pe=Q.send_to;Array.isArray(Pe)||(Pe=[Pe]);const We=yield ch(R);for(const qe of Pe){const Ut=We.find(er=>er.measurementId===qe),Gt=Ut&&D[Ut.appId];if(!Gt){me=[];break}me.push(Gt)}}0===me.length&&(me=Object.values(D)),yield Promise.all(me),C("event",U,Q||{})}catch(me){Qn.error(me)}})).apply(this,arguments)}function Tv(){const C=window.document.getElementsByTagName("script");for(const D of Object.values(C))if(D.src&&D.src.includes(lh))return D;return null}const Dr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),lu=new class{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Nm(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function dn(C){return cu.apply(this,arguments)}function cu(){return(cu=(0,F.Z)(function*(C){var D;const{appId:R,apiKey:U}=C,Q={method:"GET",headers:Nm(U)},me=Ac.replace("{app-id}",R),Pe=yield fetch(me,Q);if(200!==Pe.status&&304!==Pe.status){let We="";try{const qe=yield Pe.json();(null===(D=qe.error)||void 0===D?void 0:D.message)&&(We=qe.error.message)}catch(qe){}throw Dr.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:We})}return Pe.json()})).apply(this,arguments)}function fl(C){return du.apply(this,arguments)}function du(){return(du=(0,F.Z)(function*(C,D=lu,R){const{appId:U,apiKey:Q,measurementId:me}=C.options;if(!U)throw Dr.create("no-app-id");if(!Q){if(me)return{measurementId:me,appId:U};throw Dr.create("no-api-key")}const Pe=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new fu;return setTimeout((0,F.Z)(function*(){We.abort()}),void 0!==R?R:6e4),pl({appId:U,apiKey:Q,measurementId:me},Pe,We,D)})).apply(this,arguments)}function pl(C,D,R){return gl.apply(this,arguments)}function gl(){return(gl=(0,F.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:R},U,Q=lu){const{appId:me,measurementId:Pe}=C;try{yield hu(U,D)}catch(We){if(Pe)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:me,measurementId:Pe};throw We}try{const We=yield dn(C);return Q.deleteThrottleMetadata(me),We}catch(We){if(!dh(We)){if(Q.deleteThrottleMetadata(me),Pe)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:me,measurementId:Pe};throw We}const qe=503===Number(We.customData.httpStatus)?(0,ne.$s)(R,Q.intervalMillis,30):(0,ne.$s)(R,Q.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+qe,backoffCount:R+1};return Q.setThrottleMetadata(me,Ut),Qn.debug(`Calling attemptFetch again in ${qe} millis`),pl(C,Ut,U,Q)}})).apply(this,arguments)}function hu(C,D){return new Promise((R,U)=>{const Q=Math.max(D-Date.now(),0),me=setTimeout(R,Q);C.addEventListener(()=>{clearTimeout(me),U(Dr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function dh(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class fu{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function pu(){return ma.apply(this,arguments)}function ma(){return(ma=(0,F.Z)(function*(){if(!(0,ne.hl)())return Qn.warn(Dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(C){return Qn.warn(Dr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function ya(){return(ya=(0,F.Z)(function*(C,D,R,U,Q,me,Pe){var We;const qe=fl(C);qe.then(tr=>{R[tr.measurementId]=tr.appId,C.options.measurementId&&tr.measurementId!==C.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tr=>Qn.error(tr)),D.push(qe);const Ut=pu().then(tr=>{if(tr)return U.getId()}),[Gt,er]=yield Promise.all([qe,Ut]);Tv()||pa(me,Gt.measurementId),Q("js",new Date);const dr=null!==(We=null==Pe?void 0:Pe.config)&&void 0!==We?We:{};return dr.origin="firebase",dr.update=!0,null!=er&&(dr[cn]=er),Q("config",Gt.measurementId,dr),Gt.measurementId})).apply(this,arguments)}class mn{constructor(D){this.app=D}_delete(){return delete Je[this.app.options.appId],Promise.resolve()}}let Je={},Jn=[];const Ds={};let Zs,$n,cr="dataLayer",xc=!1;function yi(C,D,R){!function(){const C=[];if((0,ne.ru)()&&C.push("This is a browser extension environment."),(0,ne.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),R=Dr.create("invalid-analytics-context",{errorInfo:D});Qn.warn(R.message)}}();const U=C.options.appId;if(!U)throw Dr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Dr.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Je[U])throw Dr.create("already-exists",{id:U});if(!xc){!function(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(cr);const{wrappedGtag:me,gtagCore:Pe}=function(C,D,R,U,Q){let me=function(...Pe){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(me=window[Q]),window[Q]=function(C,D,R,U){function me(){return(me=(0,F.Z)(function*(Pe,We,qe){try{"event"===Pe?yield Nc(C,D,R,We,qe):"config"===Pe?yield Sc(C,D,R,U,We,qe):C("set",We)}catch(Ut){Qn.error(Ut)}})).apply(this,arguments)}return function(Pe,We,qe){return me.apply(this,arguments)}}(me,C,D,R),{gtagCore:me,wrappedGtag:window[Q]}}(Je,Jn,Ds,cr,"gtag");$n=me,Zs=Pe,xc=!0}return Je[U]=function(C,D,R,U,Q,me,Pe){return ya.apply(this,arguments)}(C,Jn,Ds,D,Zs,cr,R),new mn(C)}function Mc(){return(Mc=(0,F.Z)(function*(C,D,R,U,Q){if(Q&&Q.global)C("event",R,U);else{const me=yield D;C("event",R,Object.assign(Object.assign({},U),{send_to:me}))}})).apply(this,arguments)}function As(){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,F.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(C){return!1}})).apply(this,arguments)}const xm="@firebase/analytics";(0,de._registerComponent)(new se.wA(ts,(D,{options:R})=>yi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,de._registerComponent)(new se.wA("analytics-internal",function(D){try{const R=D.getProvider(ts).getImmediate();return{logEvent:(U,Q,me)=>function(C,D,R,U){C=(0,ne.m9)(C),function(C,D,R,U,Q){return Mc.apply(this,arguments)}($n,Je[C.app.options.appId],D,R,U).catch(Q=>Qn.error(Q))}(R,U,Q,me)}}catch(R){throw Dr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,de.registerVersion)(xm,"0.7.2"),(0,de.registerVersion)(xm,"0.7.2","esm2017");var Pc=V(7771),bn=V(3637),ba=V(3342),Ca=V(3101),ph=V(309);const Mm=new f.GfV("7.1.1"),gu="__angularfire_symbol__analyticsIsSupported",Qs="__angularfire_symbol__remoteConfigIsSupported",Ia="__angularfire_symbol__messagingIsSupported";function wl(C,D,R){if(D){if(1===D.length)return D[0];const me=D.filter(Pe=>Pe.app===R);if(1===me.length)return me[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[gu]||(globalThis[gu]=As().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[Ia]||(globalThis[Ia]=oh().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Qs]||(globalThis[Qs]=Am().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const No=(C,D)=>{const R=D?[D]:(0,ee.C6)(),U=[];return R.forEach(Q=>{Q.container.getProvider(C).instances.forEach(Pe=>{U.includes(Pe)||U.push(Pe)})}),U};function Ta(){}class gh{constructor(D,R=Pc.N){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,U){const Q=this.zone;return this.delegate.schedule(function(Pe){Q.runGuarded(()=>{D.apply(this,[Pe])})},R,U)}}class vi{constructor(D){this.zone=D,this.task=null}call(D,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ta,{},Ta,Ta)),R.pipe((0,ba.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ti=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new gh(Zone.current)),this.insideAngular=R.run(()=>new gh(Zone.current,bn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(f.LFG(f.R0b))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function is(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function $r(C){return is(),function(C){return function(R){return(R=R.lift(new vi(C.ngZone))).pipe((0,Ca.R)(C.outsideAngular),(0,ph.QV)(C.insideAngular))}}(is())(C)}},4486:(Xe,Ne,V)=>{"use strict";V.d(Ne,{Z:()=>Ce});var f=V(3854),ee=V(6034),F=V(5452),de=V(5601);class ne{constructor(z,_e){this._delegate=z,this.firebase=_e,(0,F._addComponent)(z,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(z,_e=F._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const pe=this._delegate.container.getProvider(z);return!pe.isInitialized()&&"EXPLICIT"===(null===(we=pe.getComponent())||void 0===we?void 0:we.instantiationMode)&&pe.initialize(),pe.getImmediate({identifier:_e})}_removeServiceInstance(z,_e=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(_e)}_addComponent(z){(0,F._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,F._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function K(){const fe=function(fe){const z={},_e={__esModule:!0,initializeApp:function(gt,Se={}){const re=F.initializeApp(gt,Se);if((0,f.r3)(z,re.name))return z[re.name];const ue=new fe(re,_e);return z[re.name]=ue,ue},app:pe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(gt){const Se=gt.name,re=Se.replace("-compat","");if(F._registerComponent(gt)&&"PUBLIC"===gt.type){const ue=(ge=pe())=>{if("function"!=typeof ge[re])throw be.create("invalid-app-argument",{appName:Se});return ge[re]()};void 0!==gt.serviceProps&&(0,f.ZB)(ue,gt.serviceProps),_e[re]=ue,fe.prototype[re]=function(...ge){return this._getService.bind(this,Se).apply(this,gt.multipleInstances?ge:[])}}return"PUBLIC"===gt.type?_e[re]:null},removeApp:function(gt){delete z[gt]},useAsService:function(gt,Se){return"serverAuth"===Se?null:Se},modularAPIs:F}};function pe(gt){if(!(0,f.r3)(z,gt=gt||F._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:gt});return z[gt]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(z).map(gt=>z[gt])}}),pe.App=fe,_e}(ne);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function(_e){(0,f.ZB)(fe,_e)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),fe}(),L=new de.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=k;(0,F.registerVersion)("@firebase/app-compat","0.1.6",undefined)},5452:(Xe,Ne,V)=>{"use strict";V.r(Ne),V.d(Ne,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>hi,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>zn,_apps:()=>Zt,_clearComponents:()=>Lt,_components:()=>Ln,_getProvider:()=>hn,_registerComponent:()=>Zr,_removeServiceInstance:()=>ut,deleteApp:()=>Yi,getApp:()=>Lr,getApps:()=>fi,initializeApp:()=>Oi,onLog:()=>Tn,registerVersion:()=>pi,setLogLevel:()=>Cr});var f=V(8239),ee=V(6034),F=V(5601),de=V(3854);class ne{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function(at){const Me=at.getComponent();return"VERSION"===(null==Me?void 0:Me.type)}(zt)){const tn=zt.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(zt=>zt).join(" ")}}const be="@firebase/app",K=new F.Yd("@firebase/app"),Fn="[DEFAULT]",wt={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zt=new Map,Ln=new Map;function Yt(at,Me){try{at.container.addComponent(Me)}catch(zt){K.debug(`Component ${Me.name} failed to register with FirebaseApp ${at.name}`,zt)}}function zn(at,Me){at.container.addOrOverwriteComponent(Me)}function Zr(at){const Me=at.name;if(Ln.has(Me))return K.debug(`There were multiple attempts to register component ${Me}.`),!1;Ln.set(Me,at);for(const zt of Zt.values())Yt(zt,at);return!0}function hn(at,Me){return at.container.getProvider(Me)}function ut(at,Me,zt=Fn){hn(at,Me).clearInstance(zt)}function Lt(){Ln.clear()}const br=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class un{constructor(Me,zt,tn){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const hi="9.2.0";function Oi(at,Me={}){"object"!=typeof Me&&(Me={name:Me});const zt=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},Me),tn=zt.name;if("string"!=typeof tn||!tn)throw br.create("bad-app-name",{appName:String(tn)});const fn=Zt.get(tn);if(fn){if((0,de.vZ)(at,fn.options)&&(0,de.vZ)(zt,fn.config))return fn;throw br.create("duplicate-app",{appName:tn})}const $t=new ee.H0(tn);for(const Qe of Ln.values())$t.addComponent(Qe);const Ye=new un(at,zt,$t);return Zt.set(tn,Ye),Ye}function Lr(at=Fn){const Me=Zt.get(at);if(!Me)throw br.create("no-app",{appName:at});return Me}function fi(){return Array.from(Zt.values())}function Yi(at){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(at){const Me=at.name;Zt.has(Me)&&(Zt.delete(Me),yield Promise.all(at.container.getProviders().map(zt=>zt.delete())),at.isDeleted=!0)})).apply(this,arguments)}function pi(at,Me,zt){var tn;let fn=null!==(tn=wt[at])&&void 0!==tn?tn:at;zt&&(fn+=`-${zt}`);const $t=fn.match(/\s|\//),Ye=Me.match(/\s|\//);if($t||Ye){const Qe=[`Unable to register library "${fn}" with version "${Me}":`];return $t&&Qe.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),$t&&Ye&&Qe.push("and"),Ye&&Qe.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void K.warn(Qe.join(" "))}Zr(new ee.wA(`${fn}-version`,()=>({library:fn,version:Me}),"VERSION"))}function Tn(at,Me){if(null!==at&&"function"!=typeof at)throw br.create("invalid-log-argument");(0,F.Am)(at,Me)}function Cr(at){(0,F.Ub)(at)}Zr(new ee.wA("platform-logger",Me=>new ne(Me),"PRIVATE")),pi(be,"0.7.5",""),pi(be,"0.7.5","esm2017"),pi("fire-js","")},6034:(Xe,Ne,V)=>{"use strict";V.d(Ne,{wA:()=>F,H0:()=>he});var f=V(4762),ee=V(3854),F=function(){function K(k,L,J){this.name=k,this.instanceFactory=L,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return K.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},K.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},K.prototype.setServiceProps=function(k){return this.serviceProps=k,this},K.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},K}(),de="[DEFAULT]",ne=function(){function K(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return K.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var J=new ee.BH;if(this.instancesDeferred.set(L,J),this.isInitialized(L)||this.shouldAutoInitialize())try{var Y=this.getOrInitializeService({instanceIdentifier:L});Y&&J.resolve(Y)}catch(ie){}}return this.instancesDeferred.get(L).promise},K.prototype.getImmediate=function(k){var L,J=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),Y=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(ie){if(Y)return null;throw ie}},K.prototype.getComponent=function(){return this.component},K.prototype.setComponent=function(k){var L,J;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:de})}catch(pe){}try{for(var Y=(0,f.XA)(this.instancesDeferred.entries()),ie=Y.next();!ie.done;ie=Y.next()){var Ce=(0,f.CR)(ie.value,2),z=Ce[1],_e=this.normalizeInstanceIdentifier(Ce[0]);try{var we=this.getOrInitializeService({instanceIdentifier:_e});z.resolve(we)}catch(pe){}}}catch(pe){L={error:pe}}finally{try{ie&&!ie.done&&(J=Y.return)&&J.call(Y)}finally{if(L)throw L.error}}}},K.prototype.clearInstance=function(k){void 0===k&&(k=de),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},K.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var k;return(0,f.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(k.filter(function(J){return"INTERNAL"in J}).map(function(J){return J.INTERNAL.delete()}))),(0,f.CR)(k.filter(function(J){return"_delete"in J}).map(function(J){return J._delete()}))))];case 1:return L.sent(),[2]}})})},K.prototype.isComponentSet=function(){return null!=this.component},K.prototype.isInitialized=function(k){return void 0===k&&(k=de),this.instances.has(k)},K.prototype.getOptions=function(k){return void 0===k&&(k=de),this.instancesOptions.get(k)||{}},K.prototype.initialize=function(k){var L,J;void 0===k&&(k={});var Y=k.options,ie=void 0===Y?{}:Y,Ce=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(Ce))throw Error(this.name+"("+Ce+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var fe=this.getOrInitializeService({instanceIdentifier:Ce,options:ie});try{for(var z=(0,f.XA)(this.instancesDeferred.entries()),_e=z.next();!_e.done;_e=z.next()){var we=(0,f.CR)(_e.value,2),Ae=we[1];Ce===this.normalizeInstanceIdentifier(we[0])&&Ae.resolve(fe)}}catch(Be){L={error:Be}}finally{try{_e&&!_e.done&&(J=z.return)&&J.call(z)}finally{if(L)throw L.error}}return fe},K.prototype.onInit=function(k,L){var J,Y=this.normalizeInstanceIdentifier(L),ie=null!==(J=this.onInitCallbacks.get(Y))&&void 0!==J?J:new Set;ie.add(k),this.onInitCallbacks.set(Y,ie);var Ce=this.instances.get(Y);return Ce&&k(Ce,Y),function(){ie.delete(k)}},K.prototype.invokeOnInitCallbacks=function(k,L){var J,Y,ie=this.onInitCallbacks.get(L);if(ie)try{for(var Ce=(0,f.XA)(ie),fe=Ce.next();!fe.done;fe=Ce.next()){var z=fe.value;try{z(k,L)}catch(_e){}}}catch(_e){J={error:_e}}finally{try{fe&&!fe.done&&(Y=Ce.return)&&Y.call(Ce)}finally{if(J)throw J.error}}},K.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,J=k.options,Y=void 0===J?{}:J,ie=this.instances.get(L);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:se(L),options:Y}),this.instances.set(L,ie),this.instancesOptions.set(L,Y),this.invokeOnInitCallbacks(ie,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,ie)}catch(Ce){}return ie||null},K.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=de),this.component?this.component.multipleInstances?k:de:k},K.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},K}();function se(K){return K===de?void 0:K}var he=function(){function K(k){this.name=k,this.providers=new Map}return K.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},K.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},K.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new ne(k,this);return this.providers.set(k,L),L},K.prototype.getProviders=function(){return Array.from(this.providers.values())},K}()},5601:(Xe,Ne,V)=>{"use strict";V.d(Ne,{in:()=>ee,Yd:()=>be,Ub:()=>he,Am:()=>K});const f=[];var ee=(()=>{return(k=ee||(ee={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",ee;var k})();const F={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},de=ee.INFO,ne={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},se=(k,L,...J)=>{if(L<k.logLevel)return;const Y=(new Date).toISOString(),ie=ne[L];if(!ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[ie](`[${Y}]  ${k.name}:`,...J)};class be{constructor(L){this.name=L,this._logLevel=de,this._logHandler=se,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in ee))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?F[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...L),this._logHandler(this,ee.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...L),this._logHandler(this,ee.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...L),this._logHandler(this,ee.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...L),this._logHandler(this,ee.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...L),this._logHandler(this,ee.ERROR,...L)}}function he(k){f.forEach(L=>{L.setLogLevel(k)})}function K(k,L){for(const J of f){let Y=null;L&&L.level&&(Y=F[L.level]),J.userLogHandler=null===k?null:(ie,Ce,...fe)=>{const z=fe.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(we){return null}}).filter(_e=>_e).join(" ");Ce>=(null!=Y?Y:ie.logLevel)&&k({level:ee[Ce].toLowerCase(),message:z,args:fe,type:ie.name})}}}},3854:(Xe,Ne,V)=>{"use strict";V.d(Ne,{BH:()=>Y,LL:()=>ye,ZR:()=>Le,zI:()=>ue,US:()=>se,tV:()=>K,$s:()=>Pi,r3:()=>hn,Sg:()=>ie,ne:()=>Yi,vZ:()=>br,ZB:()=>L,pd:()=>Lr,m9:()=>lo,z$:()=>Ce,jU:()=>_e,ru:()=>we,d:()=>Ae,xb:()=>Lt,w1:()=>Ue,hl:()=>Se,uI:()=>fe,UG:()=>z,b$:()=>pe,G6:()=>gt,Mn:()=>Be,xO:()=>hi,zd:()=>Oi,eu:()=>re});const de=function(G){const q=[];let $=0;for(let Re=0;Re<G.length;Re++){let ae=G.charCodeAt(Re);ae<128?q[$++]=ae:ae<2048?(q[$++]=ae>>6|192,q[$++]=63&ae|128):55296==(64512&ae)&&Re+1<G.length&&56320==(64512&G.charCodeAt(Re+1))?(ae=65536+((1023&ae)<<10)+(1023&G.charCodeAt(++Re)),q[$++]=ae>>18|240,q[$++]=ae>>12&63|128,q[$++]=ae>>6&63|128,q[$++]=63&ae|128):(q[$++]=ae>>12|224,q[$++]=ae>>6&63|128,q[$++]=63&ae|128)}return q},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,q){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[];for(let ae=0;ae<G.length;ae+=3){const ze=G[ae],Ge=ae+1<G.length,Ht=Ge?G[ae+1]:0,nn=ae+2<G.length,Xt=nn?G[ae+2]:0;let rn=(15&Ht)<<2|Xt>>6,or=63&Xt;nn||(or=64,Ge||(rn=64)),Re.push($[ze>>2],$[(3&ze)<<4|Ht>>4],$[rn],$[or])}return Re.join("")},encodeString(G,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(G):this.encodeByteArray(de(G),q)},decodeString(G,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(G):function(G){const q=[];let $=0,Re=0;for(;$<G.length;){const ae=G[$++];if(ae<128)q[Re++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const ze=G[$++];q[Re++]=String.fromCharCode((31&ae)<<6|63&ze)}else if(ae>239&&ae<365){const nn=((7&ae)<<18|(63&G[$++])<<12|(63&G[$++])<<6|63&G[$++])-65536;q[Re++]=String.fromCharCode(55296+(nn>>10)),q[Re++]=String.fromCharCode(56320+(1023&nn))}else{const ze=G[$++],Ge=G[$++];q[Re++]=String.fromCharCode((15&ae)<<12|(63&ze)<<6|63&Ge)}}return q.join("")}(this.decodeStringToByteArray(G,q))},decodeStringToByteArray(G,q){this.init_();const $=q?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[];for(let ae=0;ae<G.length;){const ze=$[G.charAt(ae++)],Ht=ae<G.length?$[G.charAt(ae)]:0;++ae;const Xt=ae<G.length?$[G.charAt(ae)]:64;++ae;const xt=ae<G.length?$[G.charAt(ae)]:64;if(++ae,null==ze||null==Ht||null==Xt||null==xt)throw Error();Re.push(ze<<2|Ht>>4),64!==Xt&&(Re.push(Ht<<4&240|Xt>>2),64!==xt&&Re.push(Xt<<6&192|xt))}return Re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},he=function(G){return function(G){const q=de(G);return se.encodeByteArray(q,!0)}(G).replace(/\./g,"")},K=function(G){try{return se.decodeString(G,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function L(G,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return q}for(const $ in q)!q.hasOwnProperty($)||!J($)||(G[$]=L(G[$],q[$]));return G}function J(G){return"__proto__"!==G}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,$)=>{this.resolve=q,this.reject=$})}wrapCallback(q){return($,Re)=>{$?this.reject($):this.resolve(Re),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q($):q($,Re))}}}function ie(G,q){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Re=q||"demo-project",ae=G.iat||0,ze=G.sub||G.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${Re}`,aud:Re,iat:ae,exp:ae+3600,auth_time:ae,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ge)),""].join(".")}function Ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function _e(){return"object"==typeof self&&self.self===self}function we(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Ce().indexOf("Electron/")>=0}function Ue(){const G=Ce();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Be(){return Ce().indexOf("MSAppHost/")>=0}function gt(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){return"object"==typeof indexedDB}function re(){return new Promise((G,q)=>{try{let $=!0;const Re="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Re);ae.onsuccess=()=>{ae.result.close(),$||self.indexedDB.deleteDatabase(Re),G(!0)},ae.onupgradeneeded=()=>{$=!1},ae.onerror=()=>{var ze;q((null===(ze=ae.error)||void 0===ze?void 0:ze.message)||"")}}catch($){q($)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Le extends Error{constructor(q,$,Re){super($),this.code=q,this.customData=Re,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(q,$,Re){this.service=q,this.serviceName=$,this.errors=Re}create(q,...$){const Re=$[0]||{},ae=`${this.service}/${q}`,ze=this.errors[q],Ge=ze?function(G,q){return G.replace(qt,($,Re)=>{const ae=q[Re];return null!=ae?String(ae):`<${Re}?>`})}(ze,Re):"Error";return new Le(ae,`${this.serviceName}: ${Ge} (${ae}).`,Re)}}const qt=/\{\$([^}]+)}/g;function hn(G,q){return Object.prototype.hasOwnProperty.call(G,q)}function Lt(G){for(const q in G)if(Object.prototype.hasOwnProperty.call(G,q))return!1;return!0}function br(G,q){if(G===q)return!0;const $=Object.keys(G),Re=Object.keys(q);for(const ae of $){if(!Re.includes(ae))return!1;const ze=G[ae],Ge=q[ae];if(un(ze)&&un(Ge)){if(!br(ze,Ge))return!1}else if(ze!==Ge)return!1}for(const ae of Re)if(!$.includes(ae))return!1;return!0}function un(G){return null!==G&&"object"==typeof G}function hi(G){const q=[];for(const[$,Re]of Object.entries(G))Array.isArray(Re)?Re.forEach(ae=>{q.push(encodeURIComponent($)+"="+encodeURIComponent(ae))}):q.push(encodeURIComponent($)+"="+encodeURIComponent(Re));return q.length?"&"+q.join("&"):""}function Oi(G){const q={};return G.replace(/^\?/,"").split("&").forEach(Re=>{if(Re){const[ae,ze]=Re.split("=");q[decodeURIComponent(ae)]=decodeURIComponent(ze)}}),q}function Lr(G){const q=G.indexOf("?");if(!q)return"";const $=G.indexOf("#",q);return G.substring(q,$>0?$:void 0)}function Yi(G,q){const $=new ys(G,q);return $.subscribe.bind($)}class ys{constructor(q,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{q(this)}).catch(Re=>{this.error(Re)})}next(q){this.forEachObserver($=>{$.next(q)})}error(q){this.forEachObserver($=>{$.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,$,Re){let ae;if(void 0===q&&void 0===$&&void 0===Re)throw new Error("Missing Observer.");ae=function(G,q){if("object"!=typeof G||null===G)return!1;for(const $ of["next","error","complete"])if($ in G&&"function"==typeof G[$])return!0;return!1}(q)?q:{next:q,error:$,complete:Re},void 0===ae.next&&(ae.next=Cr),void 0===ae.error&&(ae.error=Cr),void 0===ae.complete&&(ae.complete=Cr);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(Ge){}}),this.observers.push(ae),ze}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,q)}sendOne(q,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{$(this.observers[q])}catch(Re){"undefined"!=typeof console&&console.error&&console.error(Re)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cr(){}function Pi(G,q=1e3,$=2){const Re=q*Math.pow($,G),ae=Math.round(.5*Re*(Math.random()-.5)*2);return Math.min(144e5,Re+ae)}function lo(G){return G&&G._delegate?G._delegate:G}},2329:(Xe,Ne,V)=>{"use strict";V.d(Ne,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=V(5452);(0,f.registerVersion)("firebase","9.2.0","app")},7841:(Xe,Ne,V)=>{"use strict";V.d(Ne,{Z:()=>f.Z});var f=V(4486);f.Z.registerVersion("firebase","9.2.0","app-compat")},6096:(Xe,Ne,V)=>{"use strict";V.r(Ne);var f=V(8239),ee=V(4486),F=V(3854),de=V(5452),ne=V(4762),se=V(5601),be=V(6034);const Ce=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new se.Yd("@firebase/auth");function pe(v,...p){we.logLevel<=se.in.ERROR&&we.error(`Auth (${de.SDK_VERSION}): ${v}`,...p)}function Ae(v,...p){throw gt(v,...p)}function Ue(v,...p){return gt(v,...p)}function Be(v,p,g){const w=Object.assign(Object.assign({},fe()),{[p]:g});return new F.LL("auth","Firebase",w).create(p,{appName:v.name})}function Et(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ae(v,"argument-error"),Be(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(v,...p){if("string"!=typeof v){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return z.create(v,...p)}function Se(v,p,...g){if(!v)throw gt(p,...g)}function re(v){const p="INTERNAL ASSERTION FAILED: "+v;throw pe(p),new Error(p)}function ue(v,p){v||re(p)}const ge=new Map;function ce(v){ue(v instanceof Function,"Expected a class definition");let p=ge.get(v);return p?(ue(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,ge.set(v,p),p)}function st(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function qt(){return"http:"===Fn()||"https:"===Fn()}function Fn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ln{constructor(p,g){this.shortDelay=p,this.longDelay=g,ue(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Yt(v,p){ue(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class zn{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hn=new Ln(3e4,6e4);function ut(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Lt(v,p,g,w){return ao.apply(this,arguments)}function ao(){return(ao=(0,f.Z)(function*(v,p,g,w,S={}){return br(v,S,()=>{let O={},Z={};w&&("GET"===p?Z=w:O={body:JSON.stringify(w)});const ve=(0,F.xO)(Object.assign({key:v.config.apiKey},Z)).slice(1),je=new(zn.headers());return je.set("Content-Type","application/json"),je.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&je.set("X-Firebase-Locale",v.languageCode),zn.fetch()(Lr(v,v.config.apiHost,g,ve),Object.assign({method:p,headers:je,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function br(v,p,g){return un.apply(this,arguments)}function un(){return(un=(0,f.Z)(function*(v,p,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Zr),p);try{const S=new fi(v),O=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw Yi(v,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const ve=O.ok?Z.errorMessage:Z.error.message,[je,Ke]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw Yi(v,"credential-already-in-use",Z);if("EMAIL_EXISTS"===je)throw Yi(v,"email-already-in-use",Z);const pt=w[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Be(v,pt,Ke);Ae(v,pt)}}catch(S){if(S instanceof F.ZR)throw S;Ae(v,"network-request-failed")}})).apply(this,arguments)}function hi(v,p,g,w){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(v,p,g,w,S={}){const O=yield Lt(v,p,g,w,S);return"mfaPendingCredential"in O&&Ae(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Lr(v,p,g,w){const S=`${p}${g}?${w}`;return v.config.emulator?Yt(v.config,S):`${v.config.apiScheme}://${S}`}class fi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ue(this.auth,"timeout")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yi(v,p,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=Ue(v,p,w);return S.customData._tokenResponse=g,S}function pi(){return(pi=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Tn(v,p){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function uo(v,p){return at.apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Me(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function fn(){return(fn=(0,f.Z)(function*(v,p=!1){const g=(0,F.m9)(v),w=yield g.getIdToken(p),S=Ye(w);Se(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,Z=null==O?void 0:O.sign_in_provider;return{claims:S,token:w,authTime:Me($t(S.auth_time)),issuedAtTime:Me($t(S.iat)),expirationTime:Me($t(S.exp)),signInProvider:Z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(v){return 1e3*Number(v)}function Ye(v){const[p,g,w]=v.split(".");if(void 0===p||void 0===g||void 0===w)return pe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,F.tV)(g);return S?JSON.parse(S):(pe("Failed to decode base64 JWT payload"),null)}catch(S){return pe("Caught error parsing JWT payload as JSON",S),null}}function En(v,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof F.ZR&&Pi(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Pi({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class pn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,f.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Vr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Me(this.lastLoginAt),this.creationTime=Me(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lo(v){return G.apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(v){var p;const g=v.auth,w=yield v.getIdToken(),S=yield En(v,uo(g,{idToken:w}));Se(null==S?void 0:S.users.length,g,"internal-error");const O=S.users[0];v._notifyReloadListener(O);const Z=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?ae(O.providerUserInfo):[],ve=Re(v.providerData,Z),pt=!!v.isAnonymous&&!(v.email&&O.passwordHash||(null==ve?void 0:ve.length)),ot={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ve,metadata:new Vr(O.createdAt,O.lastLoginAt),isAnonymous:pt};Object.assign(v,ot)})).apply(this,arguments)}function $(){return($=(0,f.Z)(function*(v){const p=(0,F.m9)(v);yield lo(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Re(v,p){return[...v.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function ae(v){return v.map(p=>{var{providerId:g}=p,w=(0,ne._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ge(){return(Ge=(0,f.Z)(function*(v,p){const g=yield br(v,{},()=>{const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:O}=v.config,Z=Lr(v,S,"/v1/token",`key=${O}`);return zn.fetch()(Z,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Se(p.idToken,"internal-error"),Se(void 0!==p.idToken,"internal-error"),Se(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Ye(v);return Se(p,"internal-error"),Se(void 0!==p.exp,"internal-error"),Se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,f.Z)(function*(){return Se(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,f.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:Z}=yield function(v,p){return Ge.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(S,O,Number(Z))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:S,expirationTime:O}=g,Z=new Ht;return w&&(Se("string"==typeof w,"internal-error",{appName:p}),Z.refreshToken=w),S&&(Se("string"==typeof S,"internal-error",{appName:p}),Z.accessToken=S),O&&(Se("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ht,this.toJSON())}_performRefresh(){return re("not implemented")}}function nn(v,p){Se("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Xt{constructor(p){var{uid:g,auth:w,stsTokenManager:S}=p,O=(0,ne._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.metadata=new Vr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,f.Z)(function*(){const w=yield En(g,g.stsTokenManager.getToken(g.auth,p));return Se(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function(v){return fn.apply(this,arguments)}(this,p)}reload(){return function(v){return $.apply(this,arguments)}(this)}_assign(p){this!==p&&(Se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Xt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,f.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield lo(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,f.Z)(function*(){const g=yield p.getIdToken();return yield En(p,function(v,p){return pi.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,S,O,Z,ve,je,Ke,pt;const ot=null!==(w=g.displayName)&&void 0!==w?w:void 0,On=null!==(S=g.email)&&void 0!==S?S:void 0,Ci=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,nr=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,Np=null!==(ve=g.tenantId)&&void 0!==ve?ve:void 0,Rp=null!==(je=g._redirectEventId)&&void 0!==je?je:void 0,Ml=null!==(Ke=g.createdAt)&&void 0!==Ke?Ke:void 0,xp=null!==(pt=g.lastLoginAt)&&void 0!==pt?pt:void 0,{uid:ty,emailVerified:Mp,isAnonymous:ny,providerData:Op,stsTokenManager:ry}=g;Se(ty&&ry,p,"internal-error");const Ol=Ht.fromJSON(this.name,ry);Se("string"==typeof ty,p,"internal-error"),nn(ot,p.name),nn(On,p.name),Se("boolean"==typeof Mp,p,"internal-error"),Se("boolean"==typeof ny,p,"internal-error"),nn(Ci,p.name),nn(nr,p.name),nn(Np,p.name),nn(Rp,p.name),nn(Ml,p.name),nn(xp,p.name);const us=new Xt({uid:ty,auth:p,email:On,emailVerified:Mp,displayName:ot,isAnonymous:ny,photoURL:nr,phoneNumber:Ci,tenantId:Np,stsTokenManager:Ol,createdAt:Ml,lastLoginAt:xp});return Op&&Array.isArray(Op)&&(us.providerData=Op.map(k0=>Object.assign({},k0))),Rp&&(us._redirectEventId=Rp),us}static _fromIdTokenResponse(p,g,w=!1){return(0,f.Z)(function*(){const S=new Ht;S.updateFromServerResponse(g);const O=new Xt({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield lo(O),O})()}}const xt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,f.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,f.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,f.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function rn(v,p,g){return`firebase:${v}:${p}:${g}`}class or{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:S,name:O}=this.auth;this.fullUserKey=rn(this.userKey,S.apiKey,O),this.fullPersistenceKey=rn("persistence",S.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,f.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Xt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,f.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,f.Z)(function*(){if(!g.length)return new or(ce(xt),p,w);const S=(yield Promise.all(g.map(function(){var Ke=(0,f.Z)(function*(pt){if(yield pt._isAvailable())return pt});return function(pt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let O=S[0]||ce(xt);const Z=rn(w,p.config.apiKey,p.name);let ve=null;for(const Ke of g)try{const pt=yield Ke._get(Z);if(pt){const ot=Xt._fromJSON(p,pt);Ke!==O&&(ve=ot),O=Ke;break}}catch(pt){}const je=S.filter(Ke=>Ke._shouldAllowMigration);return O._shouldAllowMigration&&je.length?(O=je[0],ve&&(yield O._set(Z,ve.toJSON())),yield Promise.all(g.map(function(){var Ke=(0,f.Z)(function*(pt){if(pt!==O)try{yield pt._remove(Z)}catch(ot){}});return function(pt){return Ke.apply(this,arguments)}}())),new or(O,p,w)):new or(O,p,w)})()}}function Yu(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Qu(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Jo(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Xa(p))return"Blackberry";if(Bs(p))return"Webos";if(pc(p))return"Safari";if((p.includes("chrome/")||Ja(p))&&!p.includes("edge/"))return"Chrome";if(Us(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Jo(v=(0,F.z$)()){return/firefox\//i.test(v)}function pc(v=(0,F.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ja(v=(0,F.z$)()){return/crios\//i.test(v)}function Qu(v=(0,F.z$)()){return/iemobile/i.test(v)}function Us(v=(0,F.z$)()){return/android/i.test(v)}function Xa(v=(0,F.z$)()){return/blackberry/i.test(v)}function Bs(v=(0,F.z$)()){return/webos/i.test(v)}function ki(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)}function vs(v=(0,F.z$)()){return ki(v)||Us(v)||Bs(v)||Xa(v)||/windows phone/i.test(v)||Qu(v)}function Wn(v,p=[]){let g;switch(v){case"Browser":g=Yu((0,F.z$)());break;case"Worker":g=`${Yu((0,F.z$)())}-${v}`;break;default:g=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${de.SDK_VERSION}/${w}`}class Kd{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new He(this),this.idTokenSubscription=new He(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=ce(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var S;w._deleted||(w.persistenceManager=yield or.create(w,p),!w._deleted&&((null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(g),!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,f.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,f.Z)(function*(){var w;let S=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Z=null==S?void 0:S._redirectEventId,ve=yield g.tryRedirectSignIn(p);(!O||O===Z)&&(null==ve?void 0:ve.user)&&(S=ve.user)}return S?S._redirectEventId?(Se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,f.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,f.Z)(function*(){try{yield lo(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,f.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,f.Z)(function*(){const w=p?(0,F.m9)(p):null;return w&&Se(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,f.Z)(function*(){if(!g._deleted)return p&&Se(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,f.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,f.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(ce(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,f.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&ce(p)||g._popupRedirectResolver;Se(w,g,"argument-error"),g.redirectPersistenceManager=yield or.create(g,[ce(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,f.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,f.Z)(function*(){if(p===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,S){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,w,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Wt(v){return(0,F.m9)(v)}class He{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sn(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Es(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class ur{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return re("not implemented")}_getIdTokenResponse(p){return re("not implemented")}_linkToIdToken(p,g){return re("not implemented")}_getReauthenticationResolver(p){return re("not implemented")}}function gn(v,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:resetPassword",ut(v,p))})).apply(this,arguments)}function Xo(v,p){return _t.apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xu(v,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:update",ut(v,p))})).apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(v,p){return hi(v,"POST","/v1/accounts:signInWithPassword",ut(v,p))})).apply(this,arguments)}function Kn(v,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:sendOobCode",ut(v,p))})).apply(this,arguments)}function gi(v,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,f.Z)(function*(v,p){return Kn(v,p)})).apply(this,arguments)}function Qt(v,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(v,p){return Kn(v,p)})).apply(this,arguments)}function Zd(v,p){return eu.apply(this,arguments)}function eu(){return(eu=(0,f.Z)(function*(v,p){return Kn(v,p)})).apply(this,arguments)}function Yd(v,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,f.Z)(function*(v,p){return Kn(v,p)})).apply(this,arguments)}function $s(){return($s=(0,f.Z)(function*(v,p){return hi(v,"POST","/v1/accounts:signInWithEmailLink",ut(v,p))})).apply(this,arguments)}function mc(){return(mc=(0,f.Z)(function*(v,p){return hi(v,"POST","/v1/accounts:signInWithEmailLink",ut(v,p))})).apply(this,arguments)}class Jr extends ur{constructor(p,g,w,S=null){super("password",w),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new Jr(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Jr(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return Fi.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return $s.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return Xo(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(v,p){return mc.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Kt(v,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,f.Z)(function*(v,p){return hi(v,"POST","/v1/accounts:signInWithIdp",ut(v,p))})).apply(this,arguments)}class Xr extends ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Xr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=g,O=(0,ne._T)(g,["providerId","signInMethod"]);if(!w||!S)return null;const Z=new Xr(w,S);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return Kt(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Kt(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Kt(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,F.xO)(g)}return p}}function Li(v,p){return yc.apply(this,arguments)}function yc(){return(yc=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:sendVerificationCode",ut(v,p))})).apply(this,arguments)}function ea(){return(ea=(0,f.Z)(function*(v,p){return hi(v,"POST","/v1/accounts:signInWithPhoneNumber",ut(v,p))})).apply(this,arguments)}function Qd(){return(Qd=(0,f.Z)(function*(v,p){const g=yield hi(v,"POST","/v1/accounts:signInWithPhoneNumber",ut(v,p));if(g.temporaryProof)throw Yi(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Im={USER_NOT_FOUND:"user-not-found"};function Jd(){return(Jd=(0,f.Z)(function*(v,p){return hi(v,"POST","/v1/accounts:signInWithPhoneNumber",ut(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Im)})).apply(this,arguments)}class ta extends ur{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ta({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ta({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return ea.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return Qd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Jd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:O}=p;return w||g||S||O?new ta({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:O}):null}}class na{constructor(p){var g,w,S,O,Z,ve;const je=(0,F.zd)((0,F.pd)(p)),Ke=null!==(g=je.apiKey)&&void 0!==g?g:null,pt=null!==(w=je.oobCode)&&void 0!==w?w:null,ot=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=je.mode)&&void 0!==S?S:null);Se(Ke&&pt&&ot,"argument-error"),this.apiKey=Ke,this.operation=ot,this.code=pt,this.continueUrl=null!==(O=je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=je.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ve=je.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const g=function(v){const p=(0,F.zd)((0,F.pd)(v)).link,g=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||g||p||v}(p);try{return new na(g)}catch(w){return null}}}let tl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return Jr._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=na.parseLink(w);return Se(S,"argument-error"),Jr._fromEmailAndCode(g,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class go{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ra extends go{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Hs extends ra{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Se("providerId"in g&&"signInMethod"in g,"argument-error"),Xr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Se(p.idToken||p.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Hs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Hs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:O,nonce:Z,providerId:ve}=p;if(!w&&!S&&!g&&!O||!ve)return null;try{return new Hs(ve)._credential({idToken:g,accessToken:w,nonce:Z,pendingToken:O})}catch(je){return null}}}let _c=(()=>{class v extends ra{constructor(){super("facebook.com")}static credential(g){return Xr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),nl=(()=>{class v extends ra{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Xr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return v.credential(w,S)}catch(O){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),vc=(()=>{class v extends ra{constructor(){super("github.com")}static credential(g){return Xr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ia extends ur{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Kt(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Kt(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Kt(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:O}=g;return w&&S&&O&&w===S?new ia(w,O):null}static _create(p,g){return new ia(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Vi=(()=>{class v extends ra{constructor(){super("twitter.com")}static credential(g,w){return Xr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return v.credential(w,S)}catch(O){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function wc(v,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,f.Z)(function*(v,p){return hi(v,"POST","/v1/accounts:signUp",ut(v,p))})).apply(this,arguments)}class Ui{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,S=!1){return(0,f.Z)(function*(){const O=yield Xt._fromIdTokenResponse(p,w,S),Z=Xd(w);return new Ui({user:O,providerId:Z,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,f.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=Xd(w);return new Ui({user:p,providerId:S,_tokenResponse:w,operationType:g})})()}}function Xd(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function yo(){return(yo=(0,f.Z)(function*(v){var p;const g=Wt(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Ui({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield wc(g,{returnSecureToken:!0}),S=yield Ui._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class rl extends F.ZR{constructor(p,g,w,S){var O;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,rl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,S){return new rl(p,g,w,S)}}function ru(v,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?rl._fromErrorAndOperation(v,O,p,w):O})}function eh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function sa(){return(sa=(0,f.Z)(function*(v,p){const g=(0,F.m9)(v);yield Qi(!0,g,p);const{providerUserInfo:w}=yield Tn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=eh(w||[]);return g.providerData=g.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function oa(v,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,f.Z)(function*(v,p,g=!1){const w=yield En(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Ui._forOperation(v,"link",w)})).apply(this,arguments)}function Qi(v,p,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(v,p,g){yield lo(p);const S=!1===v?"provider-already-linked":"no-such-provider";Se(eh(p.providerData).has(g)===v,p.auth,S)})).apply(this,arguments)}function aa(v,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(v,p,g=!1){const{auth:w}=v,S="reauthenticate";try{const O=yield En(v,ru(w,S,p,v),g);Se(O.idToken,w,"internal-error");const Z=Ye(O.idToken);Se(Z,w,"internal-error");const{sub:ve}=Z;return Se(v.uid===ve,w,"user-mismatch"),Ui._forOperation(v,S,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ae(w,"user-mismatch"),O}})).apply(this,arguments)}function il(v,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,f.Z)(function*(v,p,g=!1){const w="signIn",S=yield ru(v,w,p),O=yield Ui._fromIdTokenResponse(v,w,S);return g||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function sl(v,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,f.Z)(function*(v,p){return il(Wt(v),p)})).apply(this,arguments)}function th(v,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,f.Z)(function*(v,p){const g=(0,F.m9)(v);return yield Qi(!1,g,p.providerId),oa(g,p)})).apply(this,arguments)}function iu(v,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(v,p){return aa((0,F.m9)(v),p)})).apply(this,arguments)}function rp(v,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,f.Z)(function*(v,p){return hi(v,"POST","/v1/accounts:signInWithCustomToken",ut(v,p))})).apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(v,p){const g=Wt(v),w=yield rp(g,{token:p,returnSecureToken:!0}),S=yield Ui._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Eo{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?la._fromServerResponse(p,g):Ae(p,"internal-error")}}class la extends Eo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new la(g)}}function su(v,p,g){var w;Se((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Se(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Se(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Se(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function ca(){return(ca=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v),S={requestType:"PASSWORD_RESET",email:p};g&&su(w,S,g),yield Qt(w,S)})).apply(this,arguments)}function lt(){return(lt=(0,f.Z)(function*(v,p,g){yield gn((0,F.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(v,p){yield Xu((0,F.m9)(v),{oobCode:p})})).apply(this,arguments)}function da(v,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,f.Z)(function*(v,p){const g=(0,F.m9)(v),w=yield gn(g,{oobCode:p}),S=w.requestType;switch(Se(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(w.mfaInfo,g,"internal-error");default:Se(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=Eo._fromServerResponse(Wt(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(v,p){const{data:g}=yield da((0,F.m9)(v),p);return g.email})).apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(v,p,g){const w=Wt(v),S=yield wc(w,{returnSecureToken:!0,email:p,password:g}),O=yield Ui._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function wn(){return(wn=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};Se(g.handleCodeInApp,w,"argument-error"),g&&su(w,S,g),yield Zd(w,S)})).apply(this,arguments)}function mi(){return(mi=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v),S=tl.credentialWithLink(p,g||st());return Se(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),sl(w,S)})).apply(this,arguments)}function ou(v,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:createAuthUri",ut(v,p))})).apply(this,arguments)}function ul(){return(ul=(0,f.Z)(function*(v,p){const w={identifier:p,continueUri:qt()?st():"http://localhost"},{signinMethods:S}=yield ou((0,F.m9)(v),w);return S||[]})).apply(this,arguments)}function Xi(){return(Xi=(0,f.Z)(function*(v,p){const g=(0,F.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&su(g.auth,S,p);const{email:O}=yield gi(g.auth,S);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&su(w.auth,O,g);const{email:Z}=yield Yd(w.auth,O);Z!==v.email&&(yield v.reload())})).apply(this,arguments)}function ll(v,p){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(v,p){return Lt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function au(){return(au=(0,f.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,F.m9)(v),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Z=yield En(w,ll(w.auth,O));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const ve=w.providerData.find(({providerId:je})=>"password"===je);ve&&(ve.displayName=w.displayName,ve.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)})).apply(this,arguments)}function uu(v,p,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,f.Z)(function*(v,p,g){const{auth:w}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const Z=yield En(v,Xo(w,O));yield v._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Co{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class Tc extends Co{constructor(p,g,w,S){super(p,g,w),this.username=S}}class ip extends Co{constructor(p,g){super(p,"facebook.com",g)}}class oh extends Tc{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Io extends Co{constructor(p,g){super(p,"google.com",g)}}class ah extends Tc{constructor(p,g,w){super(p,"twitter.com",g,w)}}function dl(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:w}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const Z=null===(g=null===(p=Ye(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new Co(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new ip(O,S);case"github.com":return new oh(O,S);case"google.com":return new Io(O,S);case"twitter.com":return new ah(O,S,v.screenName||null);case"custom":case"anonymous":return new Co(O,null);default:return new Co(O,w,S)}}(g)}class Bi{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Bi("enroll",p)}static _fromMfaPendingCredential(p){return new Bi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Bi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Bi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Dc{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Wt(p),S=g.customData._serverResponse,O=(S.mfaInfo||[]).map(ve=>Eo._fromServerResponse(w,ve));Se(S.mfaPendingCredential,w,"internal-error");const Z=Bi._fromMfaPendingCredential(S.mfaPendingCredential);return new Dc(Z,O,function(){var ve=(0,f.Z)(function*(je){const Ke=yield je._process(w,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const pt=Object.assign(Object.assign({},S),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(g.operationType){case"signIn":const ot=yield Ui._fromIdTokenResponse(w,g.operationType,pt);return yield w._updateCurrentUser(ot.user),ot;case"reauthenticate":return Se(g.user,w,"internal-error"),Ui._forOperation(g.user,g.operationType,pt);default:Ae(w,"internal-error")}});return function(je){return ve.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,f.Z)(function*(){return g.signInResolver(p)})()}}function lh(v,p){return Lt(v,"POST","/v2/accounts/mfaEnrollment:start",ut(v,p))}class pa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Eo._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new pa(p)}getSession(){var p=this;return(0,f.Z)(function*(){return Bi._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,f.Z)(function*(){const S=p,O=yield w.getSession(),Z=yield En(w.user,S._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(p){var g=this;return(0,f.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield g.user.getIdToken(),O=yield En(g.user,function(v,p){return Lt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(v,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Z})=>Z!==w),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const ga=new WeakMap,To="__sak";class Nc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(To,"1"),this.storage.removeItem(To),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const hl=(()=>{class v extends Nc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,F.z$)();return pc(v)||ki(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=vs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),O=this.localCache[w];S!==O&&g(w,O,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ve,je,Ke)=>{this.notifyListeners(ve,Ke)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(S);if(g.newValue!==ve)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const O=()=>{const ve=this.storage.getItem(S);!w&&this.localCache[S]===ve||this.notifyListeners(S,ve)},Z=this.storage.getItem(S);(0,F.w1)()&&10===document.documentMode&&Z!==g.newValue&&g.newValue!==g.oldValue?setTimeout(O,10):O()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const O of Array.from(S))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,O=this;return(0,f.Z)(function*(){yield S().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,f.Z)(function*(){const O=yield w().call(S,g);return S.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,S=this;return(0,f.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return v.type="LOCAL",v})(),Ts=(()=>{class v extends Nc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let Ks=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const S=new v(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,f.Z)(function*(){const S=g,{eventId:O,eventType:Z,data:ve}=S.data,je=w.handlersMap[Z];if(!(null==je?void 0:je.size))return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const Ke=Array.from(je).map(function(){var ot=(0,f.Z)(function*(On){return On(S.origin,ve)});return function(On){return ot.apply(this,arguments)}}()),pt=yield function(v){return Promise.all(v.map(function(){var p=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Ke);S.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:pt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function lu(v="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return v+g}class Nm{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var S=this;return(0,f.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,ve;return new Promise((je,Ke)=>{const pt=lu("",20);O.port1.start();const ot=setTimeout(()=>{Ke(new Error("unsupported_event"))},w);ve={messageChannel:O,onMessage(On){const Ci=On;if(Ci.data.eventId===pt)switch(Ci.data.status){case"ack":clearTimeout(ot),Z=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),je(Ci.data.response);break;default:clearTimeout(ot),clearTimeout(Z),Ke(new Error("invalid_response"))}}},S.handlers.add(ve),O.port1.addEventListener("message",ve.onMessage),S.target.postMessage({eventType:p,eventId:pt,data:g},[O.port2])}).finally(()=>{ve&&S.removeMessageHandler(ve)})})()}}function dn(){return window}function fl(){return void 0!==dn().WorkerGlobalScope&&"function"==typeof dn().importScripts}function pl(){return(pl=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const dh="firebaseLocalStorageDb",pu="firebaseLocalStorage",ma="fbase_key";class ml{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ya(v,p){return v.transaction([pu],p?"readwrite":"readonly").objectStore(pu)}function Je(){const v=indexedDB.open(dh,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(pu,{keyPath:ma})}catch(S){g(S)}}),v.addEventListener("success",(0,f.Z)(function*(){const w=v.result;w.objectStoreNames.contains(pu)?p(w):(w.close(),yield function(){const v=indexedDB.deleteDatabase(dh);return new ml(v).toPromise()}(),p(yield Je()))}))})}function Jn(v,p,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(v,p,g){const w=ya(v,!0).put({[ma]:p,value:g});return new ml(w).toPromise()})).apply(this,arguments)}function Ao(){return(Ao=(0,f.Z)(function*(v,p){const g=ya(v,!1).get(p),w=yield new ml(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Zs(v,p){const g=ya(v,!0).delete(p);return new ml(g).toPromise()}const _a=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield Je()),g.db})()}_withRetries(g){var w=this;return(0,f.Z)(function*(){let S=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(S++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return fl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=Ks._getInstance(fl()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(S,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(S,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function(){return pl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nm(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=O[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Je();return yield Jn(g,To,"1"),yield Zs(g,To),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,f.Z)(function*(){return S._withPendingWrite((0,f.Z)(function*(){return yield S._withRetries(O=>Jn(O,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,f.Z)(function*(){const S=yield w._withRetries(O=>function(v,p){return Ao.apply(this,arguments)}(O,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(S=>Zs(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const w=yield g._withRetries(Z=>{const ve=ya(Z,!1).getAll();return new ml(ve).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:Z,value:ve}of w)O.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(ve)&&(g.notifyListeners(Z,ve),S.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!O.has(Z)&&(g.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const O of Array.from(S))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function yi(v,p){return Lt(v,"POST","/v2/accounts/mfaSignIn:start",ut(v,p))}function yl(){return(yl=(0,f.Z)(function*(v){return(yield Lt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ea(v){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=S=>{const O=Ue("internal-error");O.customData=S,g(O)},w.type="text/javascript",w.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function _l(v){return`__${v}${Math.floor(1e6*Math.random())}`}const _i=1e12;class vl{constructor(p){this.auth=p,this.counter=_i,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new El(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||_i;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||_i))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,f.Z)(function*(){var w;return null===(w=g._widgets.get(p||_i))||void 0===w||w.execute(),""})()}}class El{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Se(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const As=_l("rcb"),Ys=new Ln(3e4,6e4);class Ss{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!dn().grecaptcha}load(p,g=""){return Se((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(dn().grecaptcha):new Promise((w,S)=>{const O=dn().setTimeout(()=>{S(Ue(p,"network-request-failed"))},Ys.get());dn()[As]=()=>{dn().clearTimeout(O),delete dn()[As];const ve=dn().grecaptcha;if(!ve)return void S(Ue(p,"internal-error"));const je=ve.render;ve.render=(Ke,pt)=>{const ot=je(Ke,pt);return this.counter++,ot},this.hostLanguage=g,w(ve)},Ea(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:As,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),S(Ue(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!dn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wa{load(p){return(0,f.Z)(function*(){return new vl(p)})()}clearedOneInstance(){}}const lp="recaptcha",xm={theme:"light",type:"image"};class Oc{constructor(p,g=Object.assign({},xm),w){this.parameters=g,this.type=lp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wt(w),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Se(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wa:new Ss,this.validateStartingState()}verify(){var p=this;return(0,f.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const Z=ve=>{!ve||(p.tokenChangeListeners.delete(Z),O(ve))};p.tokenChangeListeners.add(Z),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=dn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,f.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,f.Z)(function*(){Se(qt()&&!fl(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return yl.apply(this,arguments)}(p.auth);Se(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pc{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ta._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function ba(){return(ba=(0,f.Z)(function*(v,p,g){const w=Wt(v),S=yield gu(w,p,(0,F.m9)(g));return new Pc(S,O=>sl(w,O))})).apply(this,arguments)}function ph(){return(ph=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v);yield Qi(!1,w,"phone");const S=yield gu(w.auth,p,(0,F.m9)(g));return new Pc(S,O=>th(w,O))})).apply(this,arguments)}function ji(){return(ji=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v),S=yield gu(w.auth,p,(0,F.m9)(g));return new Pc(S,O=>iu(w,O))})).apply(this,arguments)}function gu(v,p,g){return kc.apply(this,arguments)}function kc(){return(kc=(0,f.Z)(function*(v,p,g){var w;const S=yield g.verify();try{let O;if(Se("string"==typeof S,v,"argument-error"),Se(g.type===lp,v,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return Se("enroll"===Z.type,v,"internal-error"),(yield lh(v,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Se("signin"===Z.type,v,"internal-error");const ve=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return Se(ve,v,"missing-multi-factor-info"),(yield yi(v,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Li(v,{phoneNumber:O.phoneNumber,recaptchaToken:S});return Z}}finally{g._reset()}})).apply(this,arguments)}function Fc(){return(Fc=(0,f.Z)(function*(v,p){yield oa((0,F.m9)(v),p)})).apply(this,arguments)}let Ia=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Wt(g)}verifyPhoneNumber(g,w){return gu(this.auth,g,(0,F.m9)(w))}static credential(g,w){return ta._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?ta._fromTokenResponse(w,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Cn(v,p){return p?ce(p):(Se(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class rs extends ur{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Kt(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Kt(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Kt(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function cp(v){return il(v.auth,new rs(v),v.bypassAuthState)}function Hn(v){const{auth:p,user:g}=v;return Se(g,p,"internal-error"),aa(g,new rs(v),v.bypassAuthState)}function wl(v){return No.apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(v){const{auth:p,user:g}=v;return Se(g,p,"internal-error"),oa(g,new rs(v),v.bypassAuthState)})).apply(this,arguments)}class Ta{constructor(p,g,w,S,O=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,f.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:O,tenantId:Z,error:ve,type:je}=p;if(ve)return void g.reject(ve);const Ke={auth:g.auth,requestUri:w,sessionId:S,tenantId:Z||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(je)(Ke))}catch(pt){g.reject(pt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return cp;case"linkViaPopup":case"linkViaRedirect":return wl;case"reauthViaPopup":case"reauthViaRedirect":return Hn;default:Ae(this.auth,"internal-error")}}resolve(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gh=new Ln(2e3,1e4);function ti(){return(ti=(0,f.Z)(function*(v,p,g){const w=Wt(v);Et(v,p,go);const S=Cn(w,g);return new Js(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v);Et(w.auth,p,go);const S=Cn(w.auth,g);return new Js(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Lc(){return(Lc=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v);Et(w.auth,p,go);const S=Cn(w.auth,g);return new Js(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let Js=(()=>{class v extends Ta{constructor(g,w,S,O,Z){super(g,w,O,Z),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const w=yield g.execute();return Se(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,f.Z)(function*(){ue(1===g.filter.length,"Popup operations only handle one event");const w=lu();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Ue(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,gh.get())};g()}}return v.currentPopupAction=null,v})();const Vc=new Map;class dp extends Ta{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,f.Z)(function*(){let w=Vc.get(g.auth._key());if(!w){try{const O=(yield function(v,p){return C.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(O)}catch(S){w=()=>Promise.reject(S)}Vc.set(g.auth._key(),w)}return g.bypassAuthState||Vc.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function C(){return(C=(0,f.Z)(function*(v,p){const g=me(p),w=Q(v);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function D(v,p){return R.apply(this,arguments)}function R(){return(R=(0,f.Z)(function*(v,p){return Q(v)._set(me(p),"true")})).apply(this,arguments)}function Q(v){return ce(v._redirectPersistence)}function me(v){return rn("pendingRedirect",v.config.apiKey,v.name)}function qe(){return(qe=(0,f.Z)(function*(v,p,g){const w=Wt(v);Et(v,p,go);const S=Cn(w,g);return yield D(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v);Et(w.auth,p,go);const S=Cn(w.auth,g);yield D(S,w.auth);const O=yield At(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function ss(){return(ss=(0,f.Z)(function*(v,p,g){const w=(0,F.m9)(v);Et(w.auth,p,go);const S=Cn(w.auth,g);yield Qi(!1,w,p.providerId),yield D(S,w.auth);const O=yield At(w);return S._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(v,p){return yield Wt(v)._initializationPromise,os(v,p,!1)})).apply(this,arguments)}function os(v,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,f.Z)(function*(v,p,g=!1){const w=Wt(v),S=Cn(w,p),Z=yield new dp(w,S,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,p)),Z})).apply(this,arguments)}function At(v){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,f.Z)(function*(v){const p=lu(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class jc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yu(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!yu(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ue(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Da(p))}saveEventToCache(p){this.cachedEventUids.add(Da(p)),this.lastProcessedEventTime=Date.now()}}function Da(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function yu({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Vn(v){return $i.apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(v,p={}){return Lt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Av=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aa=/^https?/;function Om(){return(Om=(0,f.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Vn(v);for(const g of p)try{if(hr(g))return}catch(w){}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function hr(v){const p=st(),{protocol:g,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const Z=new URL(v);return""===Z.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===w}if(!Aa.test(g))return!1;if(Av.test(v))return w===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const xs=new Ln(3e4,6e4);function Sv(){const v=dn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Hi=null;function $c(v){return Hi=Hi||function(v){return new Promise((p,g)=>{var w,S,O;function Z(){Sv(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Sv(),g(Ue(v,"network-request-failed"))},timeout:xs.get()})}if(null===(S=null===(w=dn().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=dn().gapi)||void 0===O?void 0:O.load)){const ve=_l("iframefcb");return dn()[ve]=()=>{gapi.load?Z():g(Ue(v,"network-request-failed"))},Ea(`https://apis.google.com/js/api.js?onload=${ve}`)}Z()}}).catch(p=>{throw Hi=null,p})}(v),Hi}const Sa=new Ln(5e3,15e3),mh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true"},Hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gc(v){const p=v.config;Se(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Yt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:de.SDK_VERSION},S=Hc.get(v.config.apiHost);S&&(w.eid=S);const O=v._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,F.xO)(w).slice(1)}`}function Ot(){return(Ot=(0,f.Z)(function*(v){const p=yield $c(v),g=dn().gapi;return Se(g,v,"internal-error"),p.open({where:document.body,url:Gc(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mh,dontclear:!0},w=>new Promise(function(){var S=(0,f.Z)(function*(O,Z){yield w.restyle({setHideOnLeave:!1});const ve=Ue(v,"network-request-failed"),je=dn().setTimeout(()=>{Z(ve)},Sa.get());function Ke(){dn().clearTimeout(je),O(w)}w.ping(Ke).then(Ke,()=>{Z(ve)})});return function(O,Z){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const Xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fp{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ro(v,p,g,w,S,O){Se(v.config.authDomain,v,"auth-domain-config-required"),Se(v.config.apiKey,v,"invalid-api-key");const Z={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:de.SDK_VERSION,eventId:S};if(p instanceof go){p.setDefaultLanguage(v.languageCode),Z.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[je,Ke]of Object.entries(O||{}))Z[je]=Ke}if(p instanceof ra){const je=p.getScopes().filter(Ke=>""!==Ke);je.length>0&&(Z.scopes=je.join(","))}v.tenantId&&(Z.tid=v.tenantId);const ve=Z;for(const je of Object.keys(ve))void 0===ve[je]&&delete ve[je];return`${function({config:v}){return v.emulator?Yt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,F.xO)(ve).slice(1)}`}const eo="webStorageSupport";class Il extends class{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Il(p)}_finalizeEnroll(p,g,w){return function(v,p){return Lt(v,"POST","/v2/accounts/mfaEnrollment:finalize",ut(v,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return Lt(v,"POST","/v2/accounts/mfaSignIn:finalize",ut(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mp=(()=>{class v{constructor(){}static assertion(g){return Il._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,yp="@firebase/auth";class Lm{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var S;p((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wu(){return window}function Gi(){return(Gi=(0,f.Z)(function*(v,p,g){var w;const{BuildInfo:S}=wu();ue(p.sessionId,"AuthEvent did not contain a session ID");const O=yield jm(p.sessionId),Z={};return ki()?Z.ibi=S.packageName:Us()?Z.apn=S.packageName:Ae(v,"operation-not-supported-in-this-environment"),S.displayName&&(Z.appDisplayName=S.displayName),Z.sessionId=O,Ro(v,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,Z)})).apply(this,arguments)}function Na(){return(Na=(0,f.Z)(function*(v){const{BuildInfo:p}=wu(),g={};ki()?g.iosBundleId=p.packageName:Us()?g.androidPackageName=p.packageName:Ae(v,"operation-not-supported-in-this-environment"),yield Vn(v,g)})).apply(this,arguments)}function vp(){return(vp=(0,f.Z)(function*(v,p,g){const{cordova:w}=wu();let S=()=>{};try{yield new Promise((O,Z)=>{let ve=null;function je(){var ot;O();const On=null===(ot=w.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof On&&On(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ke(){ve||(ve=window.setTimeout(()=>{Z(Ue(v,"redirect-cancelled-by-user"))},2e3))}function pt(){"visible"===(null==document?void 0:document.visibilityState)&&Ke()}p.addPassiveListener(je),document.addEventListener("resume",Ke,!1),Us()&&document.addEventListener("visibilitychange",pt,!1),S=()=>{p.removePassiveListener(je),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",pt,!1),ve&&window.clearTimeout(ve)}})}finally{S()}})).apply(this,arguments)}function jm(v){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,f.Z)(function*(v){const p=wh(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wh(v){if(ue(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let w=0;w<v.length;w++)g[w]=v.charCodeAt(w);return g}v="Browser",(0,de._registerComponent)(new be.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:O}=w.options;return(Z=>{Se(S&&!S.includes(":"),"invalid-api-key",{appName:Z.name}),Se(!(null==O?void 0:O.includes(":")),"argument-error",{appName:Z.name});const ve={apiKey:S,authDomain:O,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wn(v)},je=new Kd(Z,ve);return function(v,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(ce);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(je,g),je})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new be.wA("auth-internal",p=>{const g=Wt(p.getProvider("auth").getImmediate());return new Lm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(yp,"0.19.0",void 0),(0,de.registerVersion)(yp,"0.19.0","esm2017");class Ep extends jc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,f.Z)(function*(){yield p.initPromise})()}}function bh(v){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,f.Z)(function*(v){const p=yield Iu()._get(Ch(v));return p&&(yield Iu()._remove(Ch(v))),p})).apply(this,arguments)}function Ms(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function Iu(){return ce(hl)}function Ch(v){return rn("authEvent",v.config.apiKey,v.name)}function Tu(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,F.zd)(g.join("?"))}function Th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function Yc(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Km(v=(0,F.z$)()){return!("file:"!==Yc()&&"ionic:"!==Yc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ah(){try{const v=self.localStorage,p=lu();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,F.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,F.hl)()}catch(v){return Cp()&&(0,F.hl)()}return!1}function Cp(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return("http:"===Yc()||"https:"===Yc()||(0,F.ru)()||Km())&&!((0,F.b$)()||(0,F.UG)())&&Ah()&&!Cp()}function Ip(){return Km()&&"undefined"!=typeof document}function as(){return(as=(0,f.Z)(function*(){return!!Ip()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const bi={LOCAL:"local",NONE:"none",SESSION:"session"},Os=Se,Ym="persistence";function Dp(v){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,f.Z)(function*(v){yield v._initializationPromise;const p=Jc(),g=rn(Ym,v.config.apiKey,v.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,v._getPersistence())})).apply(this,arguments)}function Jc(){return"undefined"!=typeof window?window:null}const Dl=Se;class Dn{constructor(){this.browserResolver=ce(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ts,this._completeRedirectFn=os}_openPopup(p,g,w,S){var O=this;return(0,f.Z)(function*(){var Z;ue(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ve=Ro(p,g,w,st(),S);return function(v,p,g,w=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let ve="";const je=Object.assign(Object.assign({},Xs),{width:w.toString(),height:S.toString(),top:O,left:Z}),Ke=(0,F.z$)().toLowerCase();g&&(ve=Ja(Ke)?"_blank":g),Jo(Ke)&&(p=p||"http://localhost",je.scrollbars="yes");const pt=Object.entries(je).reduce((On,[Ci,nr])=>`${On}${Ci}=${nr},`,"");if(function(v=(0,F.z$)()){var p;return ki(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ke)&&"_self"!==ve)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ve),new fp(null);const ot=window.open(p||"",ve,pt);Se(ot,v,"popup-blocked");try{ot.focus()}catch(On){}return new fp(ot)}(p,ve,lu())})()}_openRedirect(p,g,w,S){var O=this;return(0,f.Z)(function*(){return yield O._originValidation(p),v=Ro(p,g,w,st(),S),dn().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:O}=this.eventManagers[g];return S?Promise.resolve(S):(ue(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w}initAndGetManager(p){var g=this;return(0,f.Z)(function*(){const w=yield function(v){return Ot.apply(this,arguments)}(p),S=new jc(p);return w.register("authEvent",O=>(Se(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(eo,{type:eo},S=>{var O;const Z=null===(O=null==S?void 0:S[0])||void 0===O?void 0:O[eo];void 0!==Z&&g(!!Z),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Om.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return vs()||pc()||ki()}}),this.cordovaResolver=ce(class{constructor(){this._redirectPersistence=Ts,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=os}_initialize(p){var g=this;return(0,f.Z)(function*(){const w=p._key();let S=g.eventManagers.get(w);return S||(S=new Ep(p),g.eventManagers.set(w,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,S){var O=this;return(0,f.Z)(function*(){!function(v){var p,g,w,S,O,Z,ve,je,Ke,pt;const ot=wu();Se("function"==typeof(null===(p=null==ot?void 0:ot.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(void 0!==(null===(g=null==ot?void 0:ot.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(O=null===(S=null===(w=null==ot?void 0:ot.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(je=null===(ve=null===(Z=null==ot?void 0:ot.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===je?void 0:je.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(pt=null===(Ke=null==ot?void 0:ot.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===pt?void 0:pt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield O._initialize(p);yield Z.initialized(),Z.resetRedirect(),Vc.clear(),yield O._originValidation(p);const ve=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Ms(),postBody:null,tenantId:v.tenantId,error:Ue(v,"no-auth-event")}}(p,w,S);yield function(v,p){return Iu()._set(Ch(v),p)}(p,ve);const je=yield function(v,p,g){return Gi.apply(this,arguments)}(p,ve,g),Ke=yield function(v){const{cordova:p}=wu();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(v):S=p.InAppBrowser.open(v,function(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(S)})})}(je);return function(v,p,g){return vp.apply(this,arguments)}(p,Z,Ke)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Na.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:S,BuildInfo:O}=wu(),Z=setTimeout((0,f.Z)(function*(){yield bh(p),g.onEvent(Th())}),500),ve=function(){var pt=(0,f.Z)(function*(ot){clearTimeout(Z);const On=yield bh(p);let Ci=null;On&&(null==ot?void 0:ot.url)&&(Ci=function(v,p){var g,w;const S=function(v){const p=Tu(v),g=p.link?decodeURIComponent(p.link):void 0,w=Tu(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Tu(S).link||S||w||g||v}(p);if(S.includes("/__/auth/callback")){const O=Tu(S),Z=O.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ve=null===(w=null===(g=null==Z?void 0:Z.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],je=ve?Ue(ve):null;return je?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:S,postBody:null}}return null}(On,ot.url)),g.onEvent(Ci||Th())});return function(On){return pt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ve);const je=S,Ke=`${O.packageName.toLowerCase()}://`;wu().handleOpenURL=function(){var pt=(0,f.Z)(function*(ot){if(ot.toLowerCase().startsWith(Ke)&&ve({url:ot}),"function"==typeof je)try{je(ot)}catch(On){console.error(On)}});return function(ot){return pt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ts,this._completeRedirectFn=os}_initialize(p){var g=this;return(0,f.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,S){var O=this;return(0,f.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,w,S)})()}_openRedirect(p,g,w,S){var O=this;return(0,f.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,w,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ip()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,f.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return as.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Nh(v){return v.unwrap()}function Rh(v){return Du(v)}function Du(v){const{_tokenResponse:p}=v instanceof F.ZR?v.customData:v;if(!p)return null;if(!(v instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ia.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=nl;break;case"facebook.com":w=_c;break;case"github.com":w=vc;break;case"twitter.com":w=Vi;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:Z,pendingToken:ve,nonce:je}=p;return O||Z||S||ve?ve?g.startsWith("saml.")?ia._create(g,ve):Xr._fromParams({providerId:g,signInMethod:g,pendingToken:ve,idToken:S,accessToken:O}):new Hs(g).credential({idToken:S,accessToken:O,rawNonce:je}):null}return v instanceof F.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function Sr(v,p){return p.catch(g=>{throw g instanceof F.ZR&&function(v,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Jm(v,function(v,p){var g;const w=(0,F.m9)(v),S=p;return Se(p.customData.operationType,w,"argument-error"),Se(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Dc._fromError(w,S)}(v,p));else if(w){const S=Du(p),O=p;S&&(O.credential=S,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(v,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Rh(g),additionalUserInfo:dl(g),user:xo.getOrCreate(S)}})}function Al(v,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,f.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Sr(v,g.confirm(w))}})).apply(this,arguments)}class Jm{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Sr(Nh(this.auth),this.resolver.resolveSignIn(p))}}class xo{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,F.m9)(v);return ga.has(p)||ga.set(p,pa._fromUser(p)),ga.get(p)}(p)}static getOrCreate(p){return xo.USER_MAP.has(p)||xo.USER_MAP.set(p,new xo(p)),xo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,f.Z)(function*(){return Sr(g.auth,th(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,f.Z)(function*(){return Al(w.auth,function(v,p,g){return ph.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,f.Z)(function*(){return Sr(g.auth,function(v,p,g){return Lc.apply(this,arguments)}(g._delegate,p,Dn))})()}linkWithRedirect(p){var g=this;return(0,f.Z)(function*(){return yield Dp(Wt(g.auth)),function(v,p,g){return function(v,p,g){return ss.apply(this,arguments)}(v,p,g)}(g._delegate,p,Dn)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,f.Z)(function*(){return Sr(g.auth,iu(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Al(this.auth,function(v,p,g){return ji.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Sr(this.auth,function(v,p,g){return Ns.apply(this,arguments)}(this._delegate,p,Dn))}reauthenticateWithRedirect(p){var g=this;return(0,f.Z)(function*(){return yield Dp(Wt(g.auth)),function(v,p,g){return function(v,p,g){return er.apply(this,arguments)}(v,p,g)}(g._delegate,p,Dn)})()}sendEmailVerification(p){return function(v,p){return Xi.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,f.Z)(function*(){return yield function(v,p){return sa.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return uu((0,F.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return uu((0,F.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return Fc.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return au.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return jr.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xo.USER_MAP=new WeakMap;const Nl=Se;let Xm=(()=>{class v{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Nl(S,"invalid-api-key",{appName:g.name});let O=[xt];if("undefined"!=typeof window){O=function(v,p){const g=Jc();if(!(null==g?void 0:g.sessionStorage))return[];const w=rn(Ym,v,p);switch(g.sessionStorage.getItem(w)){case bi.NONE:return[xt];case bi.LOCAL:return[_a,Ts];case bi.SESSION:return[Ts];default:return[]}}(S,g.name);for(const ve of[_a,hl,Ts])O.includes(ve)||O.push(ve)}Nl(S,"invalid-api-key",{appName:g.name});const Z="undefined"!=typeof window?Dn:void 0;this._delegate=w.initialize({options:{persistence:O,popupRedirectResolver:Z}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function(v,p,g){const w=Wt(v);Se(w._canInitEmulator,w,"emulator-config-failed"),Se(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),O=sn(p),{host:Z,port:ve}=function(v){const p=sn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const O=S[1];return{host:O,port:Es(w.substr(O.length+1))}}{const[O,Z]=w.split(":");return{host:O,port:Es(Z)}}}(p);w.config.emulator={url:`${O}//${Z}${null===ve?"":`:${ve}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:ve,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,w)}applyActionCode(g){return function(v,p){return bs.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return da(this._delegate,g)}confirmPasswordReset(g,w){return function(v,p,g){return lt.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var S=this;return(0,f.Z)(function*(){return Sr(S._delegate,function(v,p,g){return xe.apply(this,arguments)}(S._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return ul.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=na.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,f.Z)(function*(){Nl(yn(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function(v,p){return Ei.apply(this,arguments)}(g._delegate,Dn);return w?Sr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){Wt(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,S){const{next:O,error:Z,complete:ve}=Rl(g,w,S);return this._delegate.onAuthStateChanged(O,Z,ve)}onIdTokenChanged(g,w,S){const{next:O,error:Z,complete:ve}=Rl(g,w,S);return this._delegate.onIdTokenChanged(O,Z,ve)}sendSignInLinkToEmail(g,w){return function(v,p,g){return wn.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function(v,p,g){return ca.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,f.Z)(function*(){let S;switch(function(v,p){Os(Object.values(bi).includes(p),v,"invalid-persistence-type"),(0,F.b$)()?Os(p!==bi.SESSION,v,"unsupported-persistence-type"):(0,F.UG)()?Os(p===bi.NONE,v,"unsupported-persistence-type"):Cp()?Os(p===bi.NONE||p===bi.LOCAL&&(0,F.hl)(),v,"unsupported-persistence-type"):Os(p===bi.NONE||Ah(),v,"unsupported-persistence-type")}(w._delegate,g),g){case bi.SESSION:S=Ts;break;case bi.LOCAL:S=(yield ce(_a)._isAvailable())?_a:hl;break;case bi.NONE:S=xt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Sr(this._delegate,function(v){return yo.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Sr(this._delegate,sl(this._delegate,g))}signInWithCustomToken(g){return Sr(this._delegate,function(v,p){return Yn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Sr(this._delegate,function(v,p,g){return sl((0,F.m9)(v),tl.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Sr(this._delegate,function(v,p,g){return mi.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Al(this._delegate,function(v,p,g){return ba.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,f.Z)(function*(){return Nl(yn(),w._delegate,"operation-not-supported-in-this-environment"),Sr(w._delegate,function(v,p,g){return ti.apply(this,arguments)}(w._delegate,g,Dn))})()}signInWithRedirect(g){var w=this;return(0,f.Z)(function*(){return Nl(yn(),w._delegate,"operation-not-supported-in-this-environment"),yield Dp(w._delegate),function(v,p,g){return function(v,p,g){return qe.apply(this,arguments)}(v,p,g)}(w._delegate,g,Dn)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return Cs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=bi,v})();function Rl(v,p,g){let w=v;"function"!=typeof v&&({next:w,error:p,complete:g}=v);const S=w;return{next:Z=>S(Z&&xo.getOrCreate(Z)),error:p,complete:g}}class xh{constructor(){this.providerId="phone",this._delegate=new Ia(Nh(ee.Z.auth()))}static credential(p,g){return Ia.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}xh.PHONE_SIGN_IN_METHOD=Ia.PHONE_SIGN_IN_METHOD,xh.PROVIDER_ID=Ia.PROVIDER_ID;const ey=Se;class Xc{constructor(p,g,w=ee.Z.app()){var S;ey(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Oc(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new be.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Xm(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:tl,FacebookAuthProvider:_c,GithubAuthProvider:vc,GoogleAuthProvider:nl,OAuthProvider:Hs,PhoneAuthProvider:xh,PhoneMultiFactorGenerator:mp,RecaptchaVerifier:Xc,TwitterAuthProvider:Vi,Auth:Xm,AuthCredential:ur,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.0")}(ee.Z)},6676:function(Xe,Ne){!function(V){"use strict";function f(z){return Array.prototype.slice.call(z)}function ee(z){return new Promise(function(_e,we){z.onsuccess=function(){_e(z.result)},z.onerror=function(){we(z.error)}})}function F(z,_e,we){var pe,Ae=new Promise(function(Ue,Be){ee(pe=z[_e].apply(z,we)).then(Ue,Be)});return Ae.request=pe,Ae}function de(z,_e,we){var pe=F(z,_e,we);return pe.then(function(Ae){if(Ae)return new k(Ae,pe.request)})}function ne(z,_e,we){we.forEach(function(pe){Object.defineProperty(z.prototype,pe,{get:function(){return this[_e][pe]},set:function(Ae){this[_e][pe]=Ae}})})}function se(z,_e,we,pe){pe.forEach(function(Ae){Ae in we.prototype&&(z.prototype[Ae]=function(){return F(this[_e],Ae,arguments)})})}function be(z,_e,we,pe){pe.forEach(function(Ae){Ae in we.prototype&&(z.prototype[Ae]=function(){return this[_e][Ae].apply(this[_e],arguments)})})}function he(z,_e,we,pe){pe.forEach(function(Ae){Ae in we.prototype&&(z.prototype[Ae]=function(){return de(this[_e],Ae,arguments)})})}function K(z){this._index=z}function k(z,_e){this._cursor=z,this._request=_e}function L(z){this._store=z}function J(z){this._tx=z,this.complete=new Promise(function(_e,we){z.oncomplete=function(){_e()},z.onerror=function(){we(z.error)},z.onabort=function(){we(z.error)}})}function Y(z,_e,we){this._db=z,this.oldVersion=_e,this.transaction=new J(we)}function ie(z){this._db=z}ne(K,"_index",["name","keyPath","multiEntry","unique"]),se(K,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),he(K,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(k,"_cursor",["direction","key","primaryKey","value"]),se(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(z){z in IDBCursor.prototype&&(k.prototype[z]=function(){var _e=this,we=arguments;return Promise.resolve().then(function(){return _e._cursor[z].apply(_e._cursor,we),ee(_e._request).then(function(pe){if(pe)return new k(pe,_e._request)})})})}),L.prototype.createIndex=function(){return new K(this._store.createIndex.apply(this._store,arguments))},L.prototype.index=function(){return new K(this._store.index.apply(this._store,arguments))},ne(L,"_store",["name","keyPath","indexNames","autoIncrement"]),se(L,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),he(L,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),be(L,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new L(this._tx.objectStore.apply(this._tx,arguments))},ne(J,"_tx",["objectStoreNames","mode"]),be(J,"_tx",IDBTransaction,["abort"]),Y.prototype.createObjectStore=function(){return new L(this._db.createObjectStore.apply(this._db,arguments))},ne(Y,"_db",["name","version","objectStoreNames"]),be(Y,"_db",IDBDatabase,["deleteObjectStore","close"]),ie.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},ne(ie,"_db",["name","version","objectStoreNames"]),be(ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(z){[L,K].forEach(function(_e){z in _e.prototype&&(_e.prototype[z.replace("open","iterate")]=function(){var we=f(arguments),pe=we[we.length-1],Ae=this._store||this._index,Ue=Ae[z].apply(Ae,we.slice(0,-1));Ue.onsuccess=function(){pe(Ue.result)}})})}),[K,L].forEach(function(z){z.prototype.getAll||(z.prototype.getAll=function(_e,we){var pe=this,Ae=[];return new Promise(function(Ue){pe.iterateCursor(_e,function(Be){Be?(Ae.push(Be.value),void 0===we||Ae.length!=we?Be.continue():Ue(Ae)):Ue(Ae)})})})}),V.openDb=function(z,_e,we){var pe=F(indexedDB,"open",[z,_e]),Ae=pe.request;return Ae&&(Ae.onupgradeneeded=function(Ue){we&&we(new Y(Ae.result,Ue.oldVersion,Ae.transaction))}),pe.then(function(Ue){return new ie(Ue)})},V.deleteDb=function(z){return F(indexedDB,"deleteDatabase",[z])},Object.defineProperty(V,"__esModule",{value:!0})}(Ne)},7574:(Xe,Ne,V)=>{"use strict";V.d(Ne,{y:()=>L});var f=V(7393),F=V(9181),de=V(6490),se=V(6554),be=V(4487);var k=V(2494);let L=(()=>{class Y{constructor(Ce){this._isScalar=!1,Ce&&(this._subscribe=Ce)}lift(Ce){const fe=new Y;return fe.source=this,fe.operator=Ce,fe}subscribe(Ce,fe,z){const{operator:_e}=this,we=function(Y,ie,Ce){if(Y){if(Y instanceof f.L)return Y;if(Y[F.b])return Y[F.b]()}return Y||ie||Ce?new f.L(Y,ie,Ce):new f.L(de.c)}(Ce,fe,z);if(we.add(_e?_e.call(we,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!we.syncErrorThrowable?this._subscribe(we):this._trySubscribe(we)),k.v.useDeprecatedSynchronousErrorHandling&&we.syncErrorThrowable&&(we.syncErrorThrowable=!1,we.syncErrorThrown))throw we.syncErrorValue;return we}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(fe){k.v.useDeprecatedSynchronousErrorHandling&&(Ce.syncErrorThrown=!0,Ce.syncErrorValue=fe),function(Y){for(;Y;){const{closed:ie,destination:Ce,isStopped:fe}=Y;if(ie||fe)return!1;Y=Ce&&Ce instanceof f.L?Ce:null}return!0}(Ce)?Ce.error(fe):console.warn(fe)}}forEach(Ce,fe){return new(fe=J(fe))((z,_e)=>{let we;we=this.subscribe(pe=>{try{Ce(pe)}catch(Ae){_e(Ae),we&&we.unsubscribe()}},_e,z)})}_subscribe(Ce){const{source:fe}=this;return fe&&fe.subscribe(Ce)}[se.L](){return this}pipe(...Ce){return 0===Ce.length?this:function(Y){return 0===Y.length?be.y:1===Y.length?Y[0]:function(Ce){return Y.reduce((fe,z)=>z(fe),Ce)}}(Ce)(this)}toPromise(Ce){return new(Ce=J(Ce))((fe,z)=>{let _e;this.subscribe(we=>_e=we,we=>z(we),()=>fe(_e))})}}return Y.create=ie=>new Y(ie),Y})();function J(Y){if(Y||(Y=k.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(Xe,Ne,V)=>{"use strict";V.d(Ne,{c:()=>F});var f=V(2494),ee=V(4449);const F={closed:!0,next(de){},error(de){if(f.v.useDeprecatedSynchronousErrorHandling)throw de;(0,ee.z)(de)},complete(){}}},9765:(Xe,Ne,V)=>{"use strict";V.d(Ne,{Yc:()=>be,xQ:()=>he});var f=V(7574),ee=V(7393),F=V(5319),de=V(7971),ne=V(8858),se=V(9181);class be extends ee.L{constructor(L){super(L),this.destination=L}}let he=(()=>{class k extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new be(this)}lift(J){const Y=new K(this,this);return Y.operator=J,Y}next(J){if(this.closed)throw new de.N;if(!this.isStopped){const{observers:Y}=this,ie=Y.length,Ce=Y.slice();for(let fe=0;fe<ie;fe++)Ce[fe].next(J)}}error(J){if(this.closed)throw new de.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:Y}=this,ie=Y.length,Ce=Y.slice();for(let fe=0;fe<ie;fe++)Ce[fe].error(J);this.observers.length=0}complete(){if(this.closed)throw new de.N;this.isStopped=!0;const{observers:J}=this,Y=J.length,ie=J.slice();for(let Ce=0;Ce<Y;Ce++)ie[Ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new de.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new de.N;return this.hasError?(J.error(this.thrownError),F.w.EMPTY):this.isStopped?(J.complete(),F.w.EMPTY):(this.observers.push(J),new ne.W(this,J))}asObservable(){const J=new f.y;return J.source=this,J}}return k.create=(L,J)=>new K(L,J),k})();class K extends he{constructor(L,J){super(),this.destination=L,this.source=J}next(L){const{destination:J}=this;J&&J.next&&J.next(L)}error(L){const{destination:J}=this;J&&J.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:J}=this;return J?this.source.subscribe(L):F.w.EMPTY}}},8858:(Xe,Ne,V)=>{"use strict";V.d(Ne,{W:()=>ee});var f=V(5319);class ee extends f.w{constructor(de,ne){super(),this.subject=de,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const de=this.subject,ne=de.observers;if(this.subject=null,!ne||0===ne.length||de.isStopped||de.closed)return;const se=ne.indexOf(this.subscriber);-1!==se&&ne.splice(se,1)}}},7393:(Xe,Ne,V)=>{"use strict";V.d(Ne,{L:()=>be});var f=V(9105),ee=V(6490),F=V(5319),de=V(9181),ne=V(2494),se=V(4449);class be extends F.w{constructor(k,L,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!k){this.destination=ee.c;break}if("object"==typeof k){k instanceof be?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,k,L,J)}}[de.b](){return this}static create(k,L,J){const Y=new be(k,L,J);return Y.syncErrorThrowable=!1,Y}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class he extends be{constructor(k,L,J,Y){super(),this._parentSubscriber=k;let ie,Ce=this;(0,f.m)(L)?ie=L:L&&(ie=L.next,J=L.error,Y=L.complete,L!==ee.c&&(Ce=Object.create(L),(0,f.m)(Ce.unsubscribe)&&this.add(Ce.unsubscribe.bind(Ce)),Ce.unsubscribe=this.unsubscribe.bind(this))),this._context=Ce,this._next=ie,this._error=J,this._complete=Y}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;ne.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:J}=ne.v;if(this._error)J&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)J?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,se.z)(k),this.unsubscribe();else{if(this.unsubscribe(),J)throw k;(0,se.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(J){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw J;(0,se.z)(J)}}__tryOrSetError(k,L,J){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,J)}catch(Y){return ne.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=Y,k.syncErrorThrown=!0,!0):((0,se.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Xe,Ne,V)=>{"use strict";V.d(Ne,{w:()=>se});var f=V(9796),ee=V(1555),F=V(9105);const ne=(()=>{function he(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return he.prototype=Object.create(Error.prototype),he})();class se{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:J,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof se)k.remove(this);else if(null!==k)for(let ie=0;ie<k.length;++ie)k[ie].remove(this);if((0,F.m)(J)){L&&(this._unsubscribe=void 0);try{J.call(this)}catch(ie){K=ie instanceof ne?be(ie.errors):[ie]}}if((0,f.k)(Y)){let ie=-1,Ce=Y.length;for(;++ie<Ce;){const fe=Y[ie];if((0,ee.K)(fe))try{fe.unsubscribe()}catch(z){K=K||[],z instanceof ne?K=K.concat(be(z.errors)):K.push(z)}}}if(K)throw new ne(K)}add(K){let k=K;if(!K)return se.EMPTY;switch(typeof K){case"function":k=new se(K);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof se)){const Y=k;k=new se,k._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof se){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[k]:J.push(k),k}remove(K){const k=this._subscriptions;if(k){const L=k.indexOf(K);-1!==L&&k.splice(L,1)}}}var he;function be(he){return he.reduce((K,k)=>K.concat(k instanceof ne?k.errors:k),[])}se.EMPTY=((he=new se).closed=!0,he)},2494:(Xe,Ne,V)=>{"use strict";V.d(Ne,{v:()=>ee});let f=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const de=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+de.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=F},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(Xe,Ne,V)=>{"use strict";V.d(Ne,{IY:()=>de,Ds:()=>se,ft:()=>he});var f=V(7393),ee=V(7574),F=V(7444);class de extends f.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends f.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function he(K,k){if(k.closed)return;if(K instanceof ee.y)return K.subscribe(k);let L;try{L=(0,F.s)(K)(k)}catch(J){k.error(J)}return L}},2441:(Xe,Ne,V)=>{"use strict";V.d(Ne,{c:()=>ne,N:()=>se});var f=V(9765),ee=V(7574),F=V(5319),de=V(1307);class ne extends ee.y{constructor(L,J){super(),this.source=L,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new F.w,L.add(this.source.subscribe(new be(this.getSubject(),this))),L.closed&&(this._connection=null,L=F.w.EMPTY)),L}refCount(){return(0,de.x)()(this)}}const se=(()=>{const k=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class be extends f.Yc{constructor(L,J){super(L),this.connectable=J}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const J=L._connection;L._refCount=0,L._subject=null,L._connection=null,J&&J.unsubscribe()}}}},9193:(Xe,Ne,V)=>{"use strict";V.d(Ne,{E:()=>ee,c:()=>F});var f=V(7574);const ee=new f.y(ne=>ne.complete());function F(ne){return ne?function(ne){return new f.y(se=>ne.schedule(()=>se.complete()))}(ne):ee}},4402:(Xe,Ne,V)=>{"use strict";V.d(Ne,{D:()=>Ce});var f=V(7574),ee=V(7444),F=V(5319),de=V(6554),be=V(4087),he=V(377),L=V(4072),J=V(9489);function Ce(fe,z){return z?function(fe,z){if(null!=fe){if(function(fe){return fe&&"function"==typeof fe[de.L]}(fe))return function(fe,z){return new f.y(_e=>{const we=new F.w;return we.add(z.schedule(()=>{const pe=fe[de.L]();we.add(pe.subscribe({next(Ae){we.add(z.schedule(()=>_e.next(Ae)))},error(Ae){we.add(z.schedule(()=>_e.error(Ae)))},complete(){we.add(z.schedule(()=>_e.complete()))}}))})),we})}(fe,z);if((0,L.t)(fe))return function(fe,z){return new f.y(_e=>{const we=new F.w;return we.add(z.schedule(()=>fe.then(pe=>{we.add(z.schedule(()=>{_e.next(pe),we.add(z.schedule(()=>_e.complete()))}))},pe=>{we.add(z.schedule(()=>_e.error(pe)))}))),we})}(fe,z);if((0,J.z)(fe))return(0,be.r)(fe,z);if(function(fe){return fe&&"function"==typeof fe[he.hZ]}(fe)||"string"==typeof fe)return function(fe,z){if(!fe)throw new Error("Iterable cannot be null");return new f.y(_e=>{const we=new F.w;let pe;return we.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),we.add(z.schedule(()=>{pe=fe[he.hZ](),we.add(z.schedule(function(){if(_e.closed)return;let Ae,Ue;try{const Be=pe.next();Ae=Be.value,Ue=Be.done}catch(Be){return void _e.error(Be)}Ue?_e.complete():(_e.next(Ae),this.schedule())}))})),we})}(fe,z)}throw new TypeError((null!==fe&&typeof fe||fe)+" is not observable")}(fe,z):fe instanceof f.y?fe:new f.y((0,ee.s)(fe))}},6693:(Xe,Ne,V)=>{"use strict";V.d(Ne,{n:()=>de});var f=V(7574),ee=V(5015),F=V(4087);function de(ne,se){return se?(0,F.r)(ne,se):new f.y((0,ee.V)(ne))}},6682:(Xe,Ne,V)=>{"use strict";V.d(Ne,{T:()=>ne});var f=V(7574),ee=V(4869),F=V(3282),de=V(6693);function ne(...se){let be=Number.POSITIVE_INFINITY,he=null,K=se[se.length-1];return(0,ee.K)(K)?(he=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(be=se.pop())):"number"==typeof K&&(be=se.pop()),null===he&&1===se.length&&se[0]instanceof f.y?se[0]:(0,F.J)(be)((0,de.n)(se,he))}},5917:(Xe,Ne,V)=>{"use strict";V.d(Ne,{of:()=>de});var f=V(4869),ee=V(6693),F=V(4087);function de(...ne){let se=ne[ne.length-1];return(0,f.K)(se)?(ne.pop(),(0,F.r)(ne,se)):(0,ee.n)(ne)}},8002:(Xe,Ne,V)=>{"use strict";V.d(Ne,{U:()=>ee});var f=V(7393);function ee(ne,se){return function(he){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new F(ne,se))}}class F{constructor(se,be){this.project=se,this.thisArg=be}call(se,be){return be.subscribe(new de(se,this.project,this.thisArg))}}class de extends f.L{constructor(se,be,he){super(se),this.project=be,this.count=0,this.thisArg=he||this}_next(se){let be;try{be=this.project.call(this.thisArg,se,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(be)}}},3282:(Xe,Ne,V)=>{"use strict";V.d(Ne,{J:()=>F});var f=V(9773),ee=V(4487);function F(de=Number.POSITIVE_INFINITY){return(0,f.zg)(ee.y,de)}},9773:(Xe,Ne,V)=>{"use strict";V.d(Ne,{zg:()=>de});var f=V(8002),ee=V(4402),F=V(5345);function de(he,K,k=Number.POSITIVE_INFINITY){return"function"==typeof K?L=>L.pipe(de((J,Y)=>(0,ee.D)(he(J,Y)).pipe((0,f.U)((ie,Ce)=>K(J,ie,Y,Ce))),k)):("number"==typeof K&&(k=K),L=>L.lift(new ne(he,k)))}class ne{constructor(K,k=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=k}call(K,k){return k.subscribe(new se(K,this.project,this.concurrent))}}class se extends F.Ds{constructor(K,k,L=Number.POSITIVE_INFINITY){super(K),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let k;const L=this.index++;try{k=this.project(K,L)}catch(J){return void this.destination.error(J)}this.active++,this._innerSub(k)}_innerSub(K){const k=new F.IY(this),L=this.destination;L.add(k);const J=(0,F.ft)(K,k);J!==k&&L.add(J)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,Ne,V)=>{"use strict";V.d(Ne,{ht:()=>L,QV:()=>K});var f=V(7393),ee=V(9193),F=V(5917),de=V(7574);class he{constructor(ie,Ce,fe){this.kind=ie,this.value=Ce,this.error=fe,this.hasValue="N"===ie}observe(ie){switch(this.kind){case"N":return ie.next&&ie.next(this.value);case"E":return ie.error&&ie.error(this.error);case"C":return ie.complete&&ie.complete()}}do(ie,Ce,fe){switch(this.kind){case"N":return ie&&ie(this.value);case"E":return Ce&&Ce(this.error);case"C":return fe&&fe()}}accept(ie,Ce,fe){return ie&&"function"==typeof ie.next?this.observe(ie):this.do(ie,Ce,fe)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return Y=this.error,new de.y(Ce=>Ce.error(Y));case"C":return(0,ee.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(ie){return void 0!==ie?new he("N",ie):he.undefinedValueNotification}static createError(ie){return new he("E",void 0,ie)}static createComplete(){return he.completeNotification}}function K(Y,ie=0){return function(fe){return fe.lift(new k(Y,ie))}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0);class k{constructor(ie,Ce=0){this.scheduler=ie,this.delay=Ce}call(ie,Ce){return Ce.subscribe(new L(ie,this.scheduler,this.delay))}}class L extends f.L{constructor(ie,Ce,fe=0){super(ie),this.scheduler=Ce,this.delay=fe}static dispatch(ie){const{notification:Ce,destination:fe}=ie;Ce.observe(fe),this.unsubscribe()}scheduleMessage(ie){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new J(ie,this.destination)))}_next(ie){this.scheduleMessage(he.createNext(ie))}_error(ie){this.scheduleMessage(he.createError(ie)),this.unsubscribe()}_complete(){this.scheduleMessage(he.createComplete()),this.unsubscribe()}}class J{constructor(ie,Ce){this.notification=ie,this.destination=Ce}}},1307:(Xe,Ne,V)=>{"use strict";V.d(Ne,{x:()=>ee});var f=V(7393);function ee(){return function(se){return se.lift(new F(se))}}class F{constructor(se){this.connectable=se}call(se,be){const{connectable:he}=this;he._refCount++;const K=new de(se,he),k=be.subscribe(K);return K.closed||(K.connection=he.connect()),k}}class de extends f.L{constructor(se,be){super(se),this.connectable=be}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const be=se._refCount;if(be<=0)return void(this.connection=null);if(se._refCount=be-1,be>1)return void(this.connection=null);const{connection:he}=this,K=se._connection;this.connection=null,K&&(!he||K===he)&&K.unsubscribe()}}},3101:(Xe,Ne,V)=>{"use strict";V.d(Ne,{R:()=>z});var f=V(7574);let ee=1;const F=Promise.resolve(),de={};function ne(we){return we in de&&(delete de[we],!0)}const se={setImmediate(we){const pe=ee++;return de[pe]=!0,F.then(()=>ne(pe)&&we()),pe},clearImmediate(we){ne(we)}};var he=V(6465),k=V(6102);const Y=new class extends k.v{flush(pe){this.active=!0,this.scheduled=void 0;const{actions:Ae}=this;let Ue,Be=-1,Et=Ae.length;pe=pe||Ae.shift();do{if(Ue=pe.execute(pe.state,pe.delay))break}while(++Be<Et&&(pe=Ae.shift()));if(this.active=!1,Ue){for(;++Be<Et&&(pe=Ae.shift());)pe.unsubscribe();throw Ue}}}(class extends he.o{constructor(pe,Ae){super(pe,Ae),this.scheduler=pe,this.work=Ae}requestAsyncId(pe,Ae,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(pe,Ae,Ue):(pe.actions.push(this),pe.scheduled||(pe.scheduled=se.setImmediate(pe.flush.bind(pe,null))))}recycleAsyncId(pe,Ae,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(pe,Ae,Ue);0===pe.actions.length&&(se.clearImmediate(Ae),pe.scheduled=void 0)}});var ie=V(9796);class fe extends f.y{constructor(pe,Ae=0,Ue=Y){var we;super(),this.source=pe,this.delayTime=Ae,this.scheduler=Ue,(!(!(0,ie.k)(we=Ae)&&we-parseFloat(we)+1>=0)||Ae<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=Y)}static create(pe,Ae=0,Ue=Y){return new fe(pe,Ae,Ue)}static dispatch(pe){const{source:Ae,subscriber:Ue}=pe;return this.add(Ae.subscribe(Ue))}_subscribe(pe){return this.scheduler.schedule(fe.dispatch,this.delayTime,{source:this.source,subscriber:pe})}}function z(we,pe=0){return function(Ue){return Ue.lift(new _e(we,pe))}}class _e{constructor(pe,Ae){this.scheduler=pe,this.delay=Ae}call(pe,Ae){return new fe(Ae,this.delay,this.scheduler).subscribe(pe)}}},3342:(Xe,Ne,V)=>{"use strict";V.d(Ne,{b:()=>de});var f=V(7393);function ee(){}var F=V(9105);function de(be,he,K){return function(L){return L.lift(new ne(be,he,K))}}class ne{constructor(he,K,k){this.nextOrObserver=he,this.error=K,this.complete=k}call(he,K){return K.subscribe(new se(he,this.nextOrObserver,this.error,this.complete))}}class se extends f.L{constructor(he,K,k,L){super(he),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=k||ee,this._tapComplete=L||ee,(0,F.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||ee,this._tapError=K.error||ee,this._tapComplete=K.complete||ee)}_next(he){try{this._tapNext.call(this._context,he)}catch(K){return void this.destination.error(K)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(K){return void this.destination.error(K)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4087:(Xe,Ne,V)=>{"use strict";V.d(Ne,{r:()=>F});var f=V(7574),ee=V(5319);function F(de,ne){return new f.y(se=>{const be=new ee.w;let he=0;return be.add(ne.schedule(function(){he!==de.length?(se.next(de[he++]),se.closed||be.add(this.schedule())):se.complete()})),be})}},6465:(Xe,Ne,V)=>{"use strict";V.d(Ne,{o:()=>F});var f=V(5319);class ee extends f.w{constructor(ne,se){super()}schedule(ne,se=0){return this}}class F extends ee{constructor(ne,se){super(ne,se),this.scheduler=ne,this.work=se,this.pending=!1}schedule(ne,se=0){if(this.closed)return this;this.state=ne;const be=this.id,he=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(he,be,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(he,this.id,se),this}requestAsyncId(ne,se,be=0){return setInterval(ne.flush.bind(ne,this),be)}recycleAsyncId(ne,se,be=0){if(null!==be&&this.delay===be&&!1===this.pending)return se;clearInterval(se)}execute(ne,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(ne,se);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,se){let he,be=!1;try{this.work(ne)}catch(K){be=!0,he=!!K&&K||new Error(K)}if(be)return this.unsubscribe(),he}_unsubscribe(){const ne=this.id,se=this.scheduler,be=se.actions,he=be.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&be.splice(he,1),null!=ne&&(this.id=this.recycleAsyncId(se,ne,null)),this.delay=null}}},6102:(Xe,Ne,V)=>{"use strict";V.d(Ne,{v:()=>ee});let f=(()=>{class F{constructor(ne,se=F.now){this.SchedulerAction=ne,this.now=se}schedule(ne,se=0,be){return new this.SchedulerAction(this,ne).schedule(be,se)}}return F.now=()=>Date.now(),F})();class ee extends f{constructor(de,ne=f.now){super(de,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(de,ne=0,se){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(de,ne,se):super.schedule(de,ne,se)}flush(de){const{actions:ne}=this;if(this.active)return void ne.push(de);let se;this.active=!0;do{if(se=de.execute(de.state,de.delay))break}while(de=ne.shift());if(this.active=!1,se){for(;de=ne.shift();)de.unsubscribe();throw se}}}},3637:(Xe,Ne,V)=>{"use strict";V.d(Ne,{z:()=>F});var f=V(6465);const F=new(V(6102).v)(f.o)},7771:(Xe,Ne,V)=>{"use strict";V.d(Ne,{c:()=>se,N:()=>ne});var f=V(6465),F=V(6102);const ne=new class extends F.v{}(class extends f.o{constructor(he,K){super(he,K),this.scheduler=he,this.work=K}schedule(he,K=0){return K>0?super.schedule(he,K):(this.delay=K,this.state=he,this.scheduler.flush(this),this)}execute(he,K){return K>0||this.closed?super.execute(he,K):this._execute(he,K)}requestAsyncId(he,K,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(he,K,k):he.flush(this)}}),se=ne},377:(Xe,Ne,V)=>{"use strict";V.d(Ne,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Ne,V)=>{"use strict";V.d(Ne,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Ne,V)=>{"use strict";V.d(Ne,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Ne,V)=>{"use strict";V.d(Ne,{N:()=>ee});const ee=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(Xe,Ne,V)=>{"use strict";function f(ee){setTimeout(()=>{throw ee},0)}V.d(Ne,{z:()=>f})},4487:(Xe,Ne,V)=>{"use strict";function f(ee){return ee}V.d(Ne,{y:()=>f})},9796:(Xe,Ne,V)=>{"use strict";V.d(Ne,{k:()=>f});const f=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(Xe,Ne,V)=>{"use strict";V.d(Ne,{z:()=>f});const f=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(Xe,Ne,V)=>{"use strict";function f(ee){return"function"==typeof ee}V.d(Ne,{m:()=>f})},1555:(Xe,Ne,V)=>{"use strict";function f(ee){return null!==ee&&"object"==typeof ee}V.d(Ne,{K:()=>f})},4072:(Xe,Ne,V)=>{"use strict";function f(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}V.d(Ne,{t:()=>f})},4869:(Xe,Ne,V)=>{"use strict";function f(ee){return ee&&"function"==typeof ee.schedule}V.d(Ne,{K:()=>f})},7444:(Xe,Ne,V)=>{"use strict";V.d(Ne,{s:()=>L});var f=V(5015),ee=V(4449),de=V(377),se=V(6554),he=V(9489),K=V(4072),k=V(1555);const L=J=>{if(J&&"function"==typeof J[se.L])return(J=>Y=>{const ie=J[se.L]();if("function"!=typeof ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ie.subscribe(Y)})(J);if((0,he.z)(J))return(0,f.V)(J);if((0,K.t)(J))return(J=>Y=>(J.then(ie=>{Y.closed||(Y.next(ie),Y.complete())},ie=>Y.error(ie)).then(null,ee.z),Y))(J);if(J&&"function"==typeof J[de.hZ])return(J=>Y=>{const ie=J[de.hZ]();for(;;){let Ce;try{Ce=ie.next()}catch(fe){return Y.error(fe),Y}if(Ce.done){Y.complete();break}if(Y.next(Ce.value),Y.closed)break}return"function"==typeof ie.return&&Y.add(()=>{ie.return&&ie.return()}),Y})(J);{const ie=`You provided ${(0,k.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ie)}}},5015:(Xe,Ne,V)=>{"use strict";V.d(Ne,{V:()=>f});const f=ee=>F=>{for(let de=0,ne=ee.length;de<ne&&!F.closed;de++)F.next(ee[de]);F.complete()}},4788:(Xe,Ne,V)=>{"use strict";var f=V(3018);let ee=null;function F(){return ee}const be=new f.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:K,token:n,providedIn:"platform"}),n})();function K(){return(0,f.LFG)(L)}const k=new f.OlP("Location Initialized");let L=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){J()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){J()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be))},n.\u0275prov=(0,f.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Y(){return new L((0,f.LFG)(be))}function ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fe(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:_e,token:n,providedIn:"root"}),n})();function _e(n){const e=(0,f.LFG)(be).location;return new pe((0,f.LFG)(he),e&&e.origin||"")}const we=new f.OlP("appBaseHref");let pe=(()=>{class n extends z{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fe(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,l){const h=this.prepareExternalUrl(a+fe(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){const h=this.prepareExternalUrl(a+fe(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(we,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends z{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,l){let h=this.prepareExternalUrl(a+fe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){let h=this.prepareExternalUrl(a+fe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(we,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ce(gt(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,gt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(z),f.LFG(he))},n.normalizeQueryParams=fe,n.joinWithSlash=ie,n.stripTrailingSlash=Ce,n.\u0275prov=(0,f.Yz7)({factory:Be,token:n,providedIn:"root"}),n})();function Be(){return new Ue((0,f.LFG)(z),(0,f.LFG)(he))}function gt(n){return n.replace(/\/index.html$/,"")}const Se={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Percent=1]="Percent",re[re.Currency=2]="Currency",re[re.Scientific=3]="Scientific",re))(),ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))(),ye=(()=>((ye=ye||{})[ye.Decimal=0]="Decimal",ye[ye.Group=1]="Group",ye[ye.List=2]="List",ye[ye.PercentSign=3]="PercentSign",ye[ye.PlusSign=4]="PlusSign",ye[ye.MinusSign=5]="MinusSign",ye[ye.Exponential=6]="Exponential",ye[ye.SuperscriptingExponent=7]="SuperscriptingExponent",ye[ye.PerMille=8]="PerMille",ye[ye.Infinity=9]="Infinity",ye[ye.NaN=10]="NaN",ye[ye.TimeSeparator=11]="TimeSeparator",ye[ye.CurrencyDecimal=12]="CurrencyDecimal",ye[ye.CurrencyGroup=13]="CurrencyGroup",ye))();function Lt(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(void 0===r){if(e===ye.CurrencyDecimal)return t[f.wAp.NumberSymbols][ye.Decimal];if(e===ye.CurrencyGroup)return t[f.wAp.NumberSymbols][ye.Group]}return r}const Lr=f.kL8;const Us=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Kd(n,e,t,r,a){const h=function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),a=r[0],l=r[1],h=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],y=h[0],E=h[1]||"";t.posPre=y.substr(0,y.indexOf("#"));for(let N=0;N<E.length;N++){const x=E.charAt(N);"0"===x?t.minFrac=t.maxFrac=N+1:"#"===x?t.maxFrac=N+1:t.posSuf+=x}const T=y.split(",");if(t.gSize=T[1]?T[1].length:0,t.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,l){const N=a.length-t.posPre.length-t.posSuf.length,x=l.indexOf("#");t.negPre=l.substr(0,x).replace(/'/g,""),t.negSuf=l.substr(x+N).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return(0,f.cg1)(n)[f.wAp.NumberFormats][e]}(e,re.Currency),Lt(e,ye.MinusSign));return h.minFrac=function(n){let e;const t=Se[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),h.maxFrac=h.minFrac,function(n,e,t,r,a,l,h=!1){let y="",E=!1;if(isFinite(n)){let T=function(n){let r,a,l,h,y,e=Math.abs(n)+"",t=0;for((a=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(a<0&&(a=l),a+=+e.slice(l+1),e=e.substring(0,l)):a<0&&(a=e.length),l=0;"0"===e.charAt(l);l++);if(l===(y=e.length))r=[0],a=1;else{for(y--;"0"===e.charAt(y);)y--;for(a-=l,r=[],h=0;l<=y;l++,h++)r[h]=Number(e.charAt(l))}return a>22&&(r=r.splice(0,21),t=a-1,a=1),{digits:r,exponent:t,integerLen:a}}(n);h&&(T=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(T));let N=e.minInt,x=e.minFrac,j=e.maxFrac;if(l){const ht=l.match(Us);if(null===ht)throw new Error(`${l} is not a valid digit info`);const kt=ht[1],ct=ht[3],vn=ht[5];null!=kt&&(N=xn(kt)),null!=ct&&(x=xn(ct)),null!=vn?j=xn(vn):null!=ct&&x>j&&(j=x)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,a=r.length-n.integerLen;const l=Math.min(Math.max(e,a),t);let h=l+n.integerLen,y=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let x=h;x<r.length;x++)r[x]=0}else{a=Math.max(0,a),n.integerLen=1,r.length=Math.max(1,h=l+1),r[0]=0;for(let x=1;x<h;x++)r[x]=0}if(y>=5)if(h-1<0){for(let x=0;x>h;x--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;a<Math.max(0,l);a++)r.push(0);let E=0!==l;const T=e+n.integerLen,N=r.reduceRight(function(x,j,H,te){return te[H]=(j+=x)<10?j:j-10,E&&(0===te[H]&&H>=T?te.pop():E=!1),j>=10?1:0},0);N&&(r.unshift(N),n.integerLen++)}(T,x,j);let H=T.digits,te=T.integerLen;const Ie=T.exponent;let Fe=[];for(E=H.every(ht=>!ht);te<N;te++)H.unshift(0);for(;te<0;te++)H.unshift(0);te>0?Fe=H.splice(te,H.length):(Fe=H,H=[0]);const it=[];for(H.length>=e.lgSize&&it.unshift(H.splice(-e.lgSize,H.length).join(""));H.length>e.gSize;)it.unshift(H.splice(-e.gSize,H.length).join(""));H.length&&it.unshift(H.join("")),y=it.join(Lt(t,r)),Fe.length&&(y+=Lt(t,a)+Fe.join("")),Ie&&(y+=Lt(t,ye.Exponential)+"+"+Ie)}else y=Lt(t,ye.Infinity);return y=n<0&&!E?e.negPre+y+e.negSuf:e.posPre+y+e.posSuf,y}(n,h,e,ye.CurrencyGroup,ye.CurrencyDecimal,a).replace("\xa4",t).replace("\xa4","").trim()}function xn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class ur{}let Mn=(()=>{class n extends ur{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Lr(r||this.locale)(t)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class gc{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new gc(null,this._ngForOf,-1,-1),null===h?void 0:h),E=new Kn(a,y);r.push(E)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const y=this._viewContainer.get(l);this._viewContainer.move(y,h);const E=new Kn(a,y);r.push(E)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Kn{constructor(e,t){this.record=e,this.view=t}}let gi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Qt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Qt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Qr{constructor(){this.$implicit=null,this.ngIf=null}}function Qt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let ra=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,a="symbol",l,h){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;h=h||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let y=r||this._defaultCurrencyCode;"code"!==a&&(y="symbol"===a||"symbol-narrow"===a?function(n,e,t="en"){const r=function(n){return(0,f.cg1)(n)[f.wAp.Currencies]}(t)[n]||Se[n]||[],a=r[1];return"narrow"===e&&"string"==typeof a?a:r[0]||n}(y,"symbol"===a?"wide":"narrow",h):a);try{return Kd(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),h,y,r,l)}catch(E){throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,f.AaK)(n)}'`)}(n,E.message)}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},n.\u0275pipe=f.Yjl({name:"currency",type:n,pure:!0}),n})();let Ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:ur,useClass:Mn}]}),n})();function mo(n){return"server"===n}let yo=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new rl((0,f.LFG)(be),window)}),n})();class rl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ru(this.window.history)||ru(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ru(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Gs,ee||(ee=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null);return null==t?null:function(n){aa=aa||document.createElement("a"),aa.setAttribute("href",n);const e=aa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let aa,Qi=null;const il=new f.OlP("TRANSITION_ID"),sl=[{provide:f.ip1,useFactory:function(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=F(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[il,be,f.zs3],multi:!0}];class Dt{static init(){(0,f.VLi)(new Dt)}addToWindow(e){f.dqk.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const a=f.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const y=function(E){h=h||E,l--,0==l&&r(h)};a.forEach(function(E){E.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let th=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const bs=new f.OlP("EventManagerPlugins");let da=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(bs),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class wo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=F().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let bc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Cs=(()=>{class n extends bc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(nh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nh))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function nh(n){F().remove(n)}const xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mt=/%COMP%/g;function zs(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?zs(n,a,t):(a=a.replace(Mt,n),t.push(a))}return t}function ih(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bo=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Xi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new es(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case f.ifc.ShadowDom:return new Is(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=zs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(da),f.LFG(Cs),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Xi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(xe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const l=xe[a];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=xe[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,a&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ih(r)):this.eventManager.addEventListener(e,t,ih(r))}}class es extends Xi{constructor(e,t,r,a){super(e),this.component=r;const l=zs(a+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Mt,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Mt,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Is extends Xi{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=zs(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const y=document.createElement("style");y.textContent=l[h],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let au=(()=>{class n extends wo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Io=["alt","control","meta","shift"],dl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ei={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ts=(()=>{class n extends wo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(r.pop());let h="";if(Io.forEach(E=>{const T=r.indexOf(E);T>-1&&(r.splice(T,1),h+=E+".")}),h+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=a,y.fullKey=h,y}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&uh.hasOwnProperty(e)&&(e=uh[e]))}return dl[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Io.forEach(l=>{l!=a&&ei[l](t)&&(r+=l+".")}),r+=a,r}static eventCallback(t,r,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Bi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:function(){return(0,f.LFG)(Ac)},token:n,providedIn:"root"}),n})(),Ac=(()=>{class n extends Bi{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case f.q3G.NONE:return r;case f.q3G.HTML:return(0,f.qzn)(r,"HTML")?(0,f.z3N)(r):(0,f.EiD)(this._doc,String(r)).toString();case f.q3G.STYLE:return(0,f.qzn)(r,"Style")?(0,f.z3N)(r):r;case f.q3G.SCRIPT:if((0,f.qzn)(r,"Script"))return(0,f.z3N)(r);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(r),(0,f.qzn)(r,"URL")?(0,f.z3N)(r):(0,f.mCW)(String(r));case f.q3G.RESOURCE_URL:if((0,f.qzn)(r,"ResourceURL"))return(0,f.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,f.JVY)(t)}bypassSecurityTrustStyle(t){return(0,f.L6k)(t)}bypassSecurityTrustScript(t){return(0,f.eBb)(t)}bypassSecurityTrustUrl(t){return(0,f.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,f.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be))},n.\u0275prov=(0,f.Yz7)({factory:function(){return function(n){return new Ac(n.get(be))}((0,f.LFG)(f.gxx))},token:n,providedIn:"root"}),n})();const Rc=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){Gs.makeCurrent(),Dt.init()},multi:!0},{provide:be,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),Ws=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:bs,useClass:au,multi:!0,deps:[be,f.R0b,f.Lbi]},{provide:bs,useClass:ts,multi:!0,deps:[be]},[],{provide:bo,useClass:bo,deps:[da,Cs,f.AFp]},{provide:f.FYo,useExisting:bo},{provide:bc,useExisting:Cs},{provide:Cs,useClass:Cs,deps:[be]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:da,useClass:da,deps:[bs,f.R0b]},{provide:class{},useClass:th,deps:[]},[]];let Do=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:il,useExisting:f.AFp},sl]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Ws,imports:[Ec,f.hGG]}),n})();"undefined"!=typeof window&&window;var mn=V(4402),Je=V(5917),Jn=V(9765),Ds=V(7971);class cr extends Jn.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ds.N;return this._value}next(e){super.next(this._value=e)}}var Ao=V(4869),Zs=V(9796),$n=V(7393);class xc extends $n.L{notifyNext(e,t,r,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Rm extends $n.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var _a=V(7444),yi=V(7574);function hh(n,e,t,r,a=new Rm(n,t,r)){if(!a.closed)return e instanceof yi.y?e.subscribe(a):(0,_a.s)(e)(a)}var Mc=V(6693);const yl={};class Ea{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new _l(e,this.resultSelector))}}class _l extends xc{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(yl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(hh(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const a=this.values,h=this.toRespond?a[r]===yl?--this.toRespond:this.toRespond:0;a[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const So=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var _i=V(3282);function El(...n){return(0,_i.J)(1)((0,Je.of)(...n))}var ns=V(9193);function As(n){return new yi.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,mn.D)(t):(0,ns.c)()).subscribe(e)})}var Ys=V(2441),vt=V(8002),Ss=V(5345);function Xn(n,e){return"function"==typeof e?t=>t.pipe(Xn((r,a)=>(0,mn.D)(n(r,a)).pipe((0,vt.U)((l,h)=>e(r,l,a,h))))):t=>t.lift(new wa(n))}class wa{constructor(e){this.project=e}call(e,t){return t.subscribe(new lp(e,this.project))}}class lp extends Ss.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ss.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,Ss.ft)(e,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Oc=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function fh(n){return e=>0===n?(0,ns.c)():e.lift(new Pc(n))}class Pc{constructor(e){if(this.total=e,this.total<0)throw new Oc}call(e,t){return t.subscribe(new bn(e,this.total))}}class bn extends $n.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function ba(...n){const e=n[n.length-1];return(0,Ao.K)(e)?(n.pop(),t=>El(n,t,e)):t=>El(n,t)}function Ca(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new ph(n,e,t))}}class ph{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Mm(e,this.accumulator,this.seed,this.hasSeed))}}class Mm extends $n.L{constructor(e,t,r,a){super(e),this.accumulator=t,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function ji(n,e){return function(r){return r.lift(new gu(n,e))}}class gu{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new kc(e,this.predicate,this.thisArg))}}class kc extends $n.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Qs(n){return function(t){const r=new Fc(n),a=t.lift(r);return r.caught=a}}class Fc{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ia(e,this.selector,this.caught))}}class Ia extends Ss.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new Ss.IY(this);this.add(r);const a=(0,Ss.ft)(t,r);a!==r&&this.add(a)}}}var Cn=V(9773);function rs(n,e){return(0,Cn.zg)(n,e,1)}function cp(n){return function(t){return 0===n?(0,ns.c)():t.lift(new Hn(n))}}class Hn{constructor(e){if(this.total=e,this.total<0)throw new Oc}call(e,t){return t.subscribe(new wl(e,this.total))}}class wl extends $n.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,a=this.count++;t.length<r?t.push(e):t[a%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(a[h])}}e.complete()}}function No(n=vi){return e=>e.lift(new Ta(n))}class Ta{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new gh(e,this.errorFactory))}}class gh extends $n.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function vi(){return new So}function ti(n=null){return e=>e.lift(new is(n))}class is{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Ns(e,this.defaultValue))}}class Ns extends $n.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ar=V(4487);function Js(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ji((a,l)=>n(a,l,r)):Ar.y,fh(1),t?ti(e):No(()=>new So))}var $r=V(3342),Vc=V(1307),dp=V(5319);class C{constructor(e){this.callback=e}call(e,t){return t.subscribe(new D(e,this.callback))}}class D extends $n.L{constructor(e,t){super(e),this.add(new dp.w(t))}}class R{constructor(e,t){this.id=e,this.url=t}}class U extends R{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Q extends R{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class me extends R{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pe extends R{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class We extends R{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends R{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends R{constructor(e,t,r,a,l){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gt extends R{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends R{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tr{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ss{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const At="primary";class Uc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bc(n){return new Uc(n)}const jc="ngNavigationCancelingError";function Da(n){const e=Error("NavigationCancelingError: "+n);return e[jc]=!0,e}function Dv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let l=0;l<r.length;l++){const h=r[l],y=n[l];if(h.startsWith(":"))a[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function $i(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!Av(n[a],e[a]))return!1;return!0}function Av(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,l)=>r[l]===a)}return n===e}function Aa(n){return Array.prototype.concat.apply([],n)}function bl(n){return n.length>0?n[n.length-1]:null}function hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xs(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,mn.D)(Promise.resolve(n)):(0,Je.of)(n)}const Cl={exact:function Pm(n,e,t){if(!vu(n.segments,e.segments)||!Gc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Pm(n.children[r],e.children[r],t))return!1;return!0},subset:mh},Hi={exact:function(n,e){return $i(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Av(n[t],e[t]))},ignored:()=>!0};function $c(n,e,t){return Cl[t.paths](n.root,e.root,t.matrixParams)&&Hi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function mh(n,e,t){return Hc(n,e,e.segments,t)}function Hc(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!vu(a,t)||e.hasChildren()||!Gc(a,t,r))}if(n.segments.length===t.length){if(!vu(n.segments,t)||!Gc(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!mh(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(vu(n.segments,a)&&Gc(n.segments,a,r)&&n.children[At])&&Hc(n.children[At],e,l,r)}}function Gc(n,e,t){return e.every((r,a)=>Hi[t](n[a].parameters,r.parameters))}class _u{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return x0.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hr(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _h(this)}}class Xs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bc(this.parameters)),this._parameterMap}toString(){return Nv(this)}}function vu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class yh{}class fp{parse(e){const t=new wu(e);return new _u(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${zc(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${Ro(t)}=${Ro(a)}`).join("&"):`${Ro(t)}=${Ro(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const x0=new fp;function _h(n){return n.segments.map(e=>Nv(e)).join("/")}function zc(n,e){if(!n.hasChildren())return _h(n);if(e){const t=n.children[At]?zc(n.children[At],!1):"",r=[];return hr(n.children,(a,l)=>{l!==At&&r.push(`${l}:${zc(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return hr(n.children,(r,a)=>{a===At&&(t=t.concat(e(r,a)))}),hr(n.children,(r,a)=>{a!==At&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===At?[zc(n.children[At],!1)]:[`${a}:${zc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[At]?`${_h(n)}/${t[0]}`:`${_h(n)}/(${t.join("//")})`}}function Fm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ro(n){return Fm(n).replace(/%3B/gi,";")}function eo(n){return Fm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vh(n){return decodeURIComponent(n)}function gp(n){return vh(n.replace(/\+/g,"%20"))}function Nv(n){return`${eo(n.path)}${function(n){return Object.keys(n).map(e=>`;${eo(e)}=${eo(n[e])}`).join("")}(n.parameters)}`}const yp=/^[^\/()?;=#]+/;function Tl(n){const e=n.match(yp);return e?e[0]:""}const Lm=/^[^=?&#]+/,Rv=/^[^?&#]+/;class wu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[At]=new Ot(e,t)),r}parseSegment(){const e=Tl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xs(vh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Tl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=Tl(this.remaining);a&&(r=a,this.capture(r))}e[vh(t)]=vh(r)}parseQueryParam(e){const t=function(n){const e=n.match(Lm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(Rv);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=gp(t),l=gp(r);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Tl(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=At);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[At]:new Ot([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Vm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_p(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_p(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Gi(e,this._root).map(t=>t.value)}}function _p(n,e){if(n===e.value)return e;for(const t of e.children){const r=_p(n,t);if(r)return r}return null}function Gi(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gi(n,t);if(r.length)return r.unshift(e),r}return[]}class wi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Na(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Um extends Vm{constructor(e,t){super(e),this.snapshot=t,Ep(this,e)}toString(){return this.snapshot.toString()}}function Bm(n,e){const t=function(n,e){const h=new wh([],{},{},"",{},At,e,null,n.root,-1,{});return new $m("",new wi(h,[]))}(n,e),r=new cr([new Xs("",{})]),a=new cr({}),l=new cr({}),h=new cr({}),y=new cr(""),E=new bu(r,a,h,y,l,At,e,t.root);return E.snapshot=t.root,new Um(new wi(E,[]),t)}class bu{constructor(e,t,r,a,l,h,y,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=y,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>Bc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>Bc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],l=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wh{constructor(e,t,r,a,l,h,y,E,T,N,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=y,this.routeConfig=E,this._urlSegment=T,this._lastPathIndex=N,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $m extends Vm{constructor(e,t){super(t),this.url=e,Ep(this,t)}toString(){return Hm(this._root)}}function Ep(n,e){e.value._routerState=n,e.children.forEach(t=>Ep(n,t))}function Hm(n){const e=n.children.length>0?` { ${n.children.map(Hm).join(", ")} } `:"";return`${n.value}${e}`}function Gm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$i(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$i(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$i(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$i(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bh(n,e){return $i(n.params,e.params)&&function(n,e){return vu(n,e)&&n.every((t,r)=>$i(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||bh(n.parent,e.parent))}function Wc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Wc(n,r,a);return Wc(n,r)})}(n,e,t);return new wi(r,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return Ms(e,h),h}}const r=function(n){return new bu(new cr(n.url),new cr(n.params),new cr(n.queryParams),new cr(n.fragment),new cr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Wc(n,l));return new wi(r,a)}}function Ms(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Ms(n.children[t],e.children[t])}function Kc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tu(n){return"object"==typeof n&&null!=n&&n.outlets}function zm(n,e,t,r,a){let l={};return r&&hr(r,(h,y)=>{l[y]=Array.isArray(h)?h.map(E=>`${E}`):`${h}`}),new _u(t.root===n?e:xv(t.root,n,e),l,a)}function xv(n,e,t){const r={};return hr(n.children,(a,l)=>{r[l]=a===e?t:xv(a,e,t)}),new Ot(n.segments,r)}class Ih{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Kc(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Tu);if(a&&a!==bl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Yc(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return Dh(n,e,t);const r=function(n,e,t){let r=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return l;const h=n.segments[a],y=t[r];if(Tu(y))break;const E=`${y}`,T=r<t.length-1?t[r+1]:null;if(a>0&&void 0===E)break;if(E&&T&&"object"==typeof T&&void 0===T.outlets){if(!bp(E,T,h))return l;r+=2}else{if(!bp(E,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Ot(n.segments.slice(0,r.pathIndex),{});return l.children[At]=new Ot(n.segments.slice(r.pathIndex),n.children),Dh(l,0,a)}return r.match&&0===a.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?wp(n,e,t):r.match?Dh(n,0,a):wp(n,e,t)}function Dh(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function(n){return Tu(n[0])?n[0].outlets:{[At]:n}}(t),a={};return hr(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=Yc(n.children[h],e,l))}),hr(n.children,(l,h)=>{void 0===r[h]&&(a[h]=l)}),new Ot(n.segments,a)}}function wp(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(Tu(l)){const E=Zm(l.outlets);return new Ot(r,E)}if(0===a&&Kc(t[0])){r.push(new Xs(n.segments[e].path,Qc(t[0]))),a++;continue}const h=Tu(l)?l.outlets[At]:`${l}`,y=a<t.length-1?t[a+1]:null;h&&y&&Kc(y)?(r.push(new Xs(h,Qc(y))),a+=2):(r.push(new Xs(h,{})),a++)}return new Ot(r,{})}function Zm(n){const e={};return hr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=wp(new Ot([],{}),0,t))}),e}function Qc(n){const e={};return hr(n,(t,r)=>e[r]=`${t}`),e}function bp(n,e,t){return n==t.path&&$i(e,t.parameters)}class Cp{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Gm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=Na(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),hr(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=Na(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=Na(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new os(l.value.snapshot))}),e.children.length&&this.forwardEvent(new mu(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(Gm(a),a===l)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),yn(y.route)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),E=y?y.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=E,h.outlet&&h.outlet.activateWith(a,E),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function yn(n){Gm(n.value),n.children.forEach(yn)}class Tp{constructor(e,t){this.routes=e,this.module=t}}function as(n){return"function"==typeof n}function Os(n){return n instanceof _u}const Sh=Symbol("INITIAL_VALUE");function Jc(){return Xn(n=>function(...n){let e,t;return(0,Ao.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Zs.k)(n[0])&&(n=n[0]),(0,Mc.n)(n,t).lift(new Ea(e))}(n.map(e=>e.pipe(fh(1),ba(Sh)))).pipe(Ca((e,t)=>{let r=!1;return t.reduce((a,l,h)=>a!==Sh?a:(l===Sh&&(r=!0),r||!1!==l&&h!==t.length-1&&!Os(l)?a:l),e)},Sh),ji(e=>e!==Sh),(0,vt.U)(e=>Os(e)?e:!0===e),fh(1)))}let Dl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:function(){return[ly]},encapsulation:2}),n})();function Dn(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Nh(r,Qm(e,r))}}function Nh(n,e){n.children&&Dn(n.children,e)}function Qm(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Rh(n){const e=n.children&&n.children.map(Rh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==At&&(t.component=Dl),t}function on(n){return n.outlet||At}function Du(n,e){const t=n.filter(r=>on(r)===e);return t.push(...n.filter(r=>on(r)!==e)),t}const Sr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Al(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Sr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Dv)(t,n,e);if(!l)return Object.assign({},Sr);const h={};hr(l.posParams,(E,T)=>{h[T]=E.path});const y=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:y,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Sl(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Rl(n,e,r)&&on(r)!==At)}(n,t,r)){const h=new Ot(e,function(n,e,t,r){const a={};a[At]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&on(l)!==At){const h=new Ot([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[on(l)]=h}return a}(n,e,r,new Ot(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Rl(n,e,r))}(n,t,r)){const h=new Ot(n.segments,function(n,e,t,r,a,l){const h={};for(const y of r)if(Rl(n,t,y)&&!a[on(y)]){const E=new Ot([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[on(y)]=E}return Object.assign(Object.assign({},a),h)}(n,e,t,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Ot(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Rl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function xh(n,e,t,r){return!!(on(n)===r||r!==At&&Rl(e,t,n))&&("**"===n.path||Al(e,n,t).matched)}function ey(n,e,t){return 0===e.length&&!n.children[t]}class Xc{constructor(e){this.segmentGroup=e||null}}class Sp{constructor(e){this.urlTree=e}}function xl(n){return new yi.y(e=>e.error(new Xc(n)))}function v(n){return new yi.y(e=>e.error(new Sp(n)))}function p(n){return new yi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class S{constructor(e,t,r,a,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=Sl(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,At).pipe((0,vt.U)(l=>this.createUrlTree(Z(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qs(l=>{if(l instanceof Sp)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Xc?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,At).pipe((0,vt.U)(a=>this.createUrlTree(Z(a),e.queryParams,e.fragment))).pipe(Qs(a=>{throw a instanceof Xc?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new Ot([],{[At]:e}):e;return new _u(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(l=>new Ot([],l))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return(0,mn.D)(a).pipe(rs(l=>{const h=r.children[l],y=Du(t,l);return this.expandSegmentGroup(e,y,h,l).pipe((0,vt.U)(E=>({segment:E,outlet:l})))}),Ca((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ji((a,l)=>n(a,l,r)):Ar.y,cp(1),t?ti(e):No(()=>new So))}())}expandSegment(e,t,r,a,l,h){return(0,mn.D)(r).pipe(rs(y=>this.expandSegmentAgainstRoute(e,t,r,y,a,l,h).pipe(Qs(T=>{if(T instanceof Xc)return(0,Je.of)(null);throw T}))),Js(y=>!!y),Qs((y,E)=>{if(y instanceof So||"EmptyError"===y.name){if(ey(t,a,l))return(0,Je.of)(new Ot([],{}));throw new Xc(t)}throw y}))}expandSegmentAgainstRoute(e,t,r,a,l,h,y){return xh(a,t,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,h):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h):xl(t):xl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?v(l):this.lineralizeSegments(r,l).pipe((0,Cn.zg)(h=>{const y=new Ot(h,{});return this.expandSegment(e,y,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){const{matched:y,consumedSegments:E,lastChild:T,positionalParamSegments:N}=Al(t,a,l);if(!y)return xl(t);const x=this.applyRedirectCommands(E,a.redirectTo,N);return a.redirectTo.startsWith("/")?v(x):this.lineralizeSegments(a,x).pipe((0,Cn.zg)(j=>this.expandSegment(e,t,r,j.concat(l.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Je.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,vt.U)(j=>(r._loadedConfig=j,new Ot(a,{})))):(0,Je.of)(new Ot(a,{}));const{matched:h,consumedSegments:y,lastChild:E}=Al(t,r,a);if(!h)return xl(t);const T=a.slice(E);return this.getChildConfig(e,r,a).pipe((0,Cn.zg)(x=>{const j=x.module,H=x.routes,{segmentGroup:te,slicedSegments:Ie}=Sl(t,y,T,H),Fe=new Ot(te.segments,te.children);if(0===Ie.length&&Fe.hasChildren())return this.expandChildren(j,H,Fe).pipe((0,vt.U)(ct=>new Ot(y,ct)));if(0===H.length&&0===Ie.length)return(0,Je.of)(new Ot(y,{}));const it=on(r)===l;return this.expandSegment(j,Fe,H,Ie,it?At:l,!0).pipe((0,vt.U)(kt=>new Ot(y.concat(kt.segments),kt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Je.of)(new Tp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Je.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Cn.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,vt.U)(l=>(t._loadedConfig=l,l))):(n=t,new yi.y(e=>e.error(Da(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Je.of)(new Tp([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;if(!a||0===a.length)return(0,Je.of)(!0);const l=a.map(h=>{const y=e.get(h);let E;if((n=y)&&as(n.canLoad))E=y.canLoad(t,r);else{if(!as(y))throw new Error("Invalid CanLoad guard");E=y(t,r)}var n;return xs(E)});return(0,Je.of)(l).pipe(Jc(),(0,$r.b)(h=>{if(!Os(h))return;const y=Da(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw y.url=h,y}),(0,vt.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Je.of)(r);if(a.numberOfChildren>1||!a.children[At])return p(e.redirectTo);a=a.children[At]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const l=this.createSegmentGroup(e,t.root,r,a);return new _u(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return hr(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[l]=t[y]}else r[l]=a}),r}createSegmentGroup(e,t,r,a){const l=this.createSegments(e,t.segments,r,a);let h={};return hr(t.children,(y,E)=>{h[E]=this.createSegmentGroup(e,y,r,a)}),new Ot(l,h)}createSegments(e,t,r,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function Z(n){const e={};for(const r of Object.keys(n.children)){const l=Z(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[At]){const e=n.children[At];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}class je{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ke{constructor(e,t){this.component=e,this.route=t}}function pt(n,e,t){const r=n._root;return nr(r,e?e._root:null,t,[r.value])}function On(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function nr(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Na(e);return n.children.forEach(h=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const E=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vu(n.url,e.url)||!$i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bh(n,e)||!$i(n.queryParams,e.queryParams);case"paramsChange":default:return!bh(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);E?a.canActivateChecks.push(new je(r)):(l.data=h.data,l._resolvedData=h._resolvedData),nr(n,e,l.component?y?y.children:null:t,r,a),E&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new Ke(y.outlet.component,h))}else h&&Ml(e,y,a),a.canActivateChecks.push(new je(r)),nr(n,null,l.component?y?y.children:null:t,r,a)})(h,l[h.value.outlet],t,r.concat([h.value]),a),delete l[h.value.outlet]}),hr(l,(h,y)=>Ml(h,t.getContext(y),a)),a}function Ml(n,e,t){const r=Na(n),a=n.value;hr(r,(l,h)=>{Ml(l,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Ke(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class k0{}function EA(n){return new yi.y(e=>e.error(n))}class Lx{constructor(e,t,r,a,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Sl(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,At);if(null===t)return null;const r=new wh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new wi(r,t),l=new $m(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=jm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],y=Du(e,l),E=this.processSegmentGroup(y,h,l);if(null===E)return null;r.push(...E)}const a=L0(r);return a.sort((e,t)=>e.value.outlet===At?-1:t.value.outlet===At?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,a);if(null!==h)return h}return ey(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!xh(e,t,r,a))return null;let l,h=[],y=[];if("**"===e.path){const H=r.length>0?bl(r).parameters:{};l=new wh(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fv(e),on(e),e.component,e,Mh(t),kv(t)+r.length,iy(e))}else{const H=Al(t,e,r);if(!H.matched)return null;h=H.consumedSegments,y=r.slice(H.lastChild),l=new wh(h,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fv(e),on(e),e.component,e,Mh(t),kv(t)+h.length,iy(e))}const E=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:N}=Sl(t,h,y,E.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&T.hasChildren()){const H=this.processChildren(E,T);return null===H?null:[new wi(l,H)]}if(0===E.length&&0===N.length)return[new wi(l,[])];const x=on(e)===a,j=this.processSegment(E,T,N,x?At:a);return null===j?null:[new wi(l,j)]}}function Pv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function L0(n){const e=[],t=new Set;for(const r of n){if(!Pv(r)){e.push(r);continue}const a=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=L0(r.children);e.push(new wi(r.value,a))}return e.filter(r=>!t.has(r))}function Mh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kv(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Fv(n){return n.data||{}}function iy(n){return n.resolve||{}}function sy(n){return Xn(e=>{const t=n(e);return t?(0,mn.D)(t).pipe((0,vt.U)(()=>e)):(0,Je.of)(e)})}class CA extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Bv=new f.OlP("ROUTES");class U0{constructor(e,t,r,a){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,vt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Tp(Aa(h.injector.get(Bv,void 0,f.XFs.Self|f.XFs.Optional)).map(Rh),h)}),Qs(l=>{throw t._loader$=void 0,l}));return t._loader$=new Ys.c(a,()=>new Jn.xQ).pipe((0,Vc.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,mn.D)(this.loader.load(e)):xs(e()).pipe((0,Cn.zg)(t=>t instanceof f.YKP?(0,Je.of)(t):(0,mn.D)(this.compiler.compileModuleAsync(t))))}}class IA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ph,this.attachRef=null}}class Ph{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new IA,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class B0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function jv(n){throw n}function j0(n,e,t){return e.parse("/")}function oy(n,e){return(0,Je.of)(null)}const DA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class n{constructor(t,r,a,l,h,y,E,T){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Jn.xQ,this.errorHandler=jv,this.malformedUriErrorHandler=j0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oy,afterPreactivation:oy},this.urlHandlingStrategy=new B0,this.routeReuseStrategy=new CA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(f.h0i),this.console=h.get(f.c2e);const j=h.get(f.R0b);this.isNgZoneEnabled=j instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new _u(new Ot([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new U0(y,E,H=>this.triggerEvent(new dr(H)),H=>this.triggerEvent(new tr(H))),this.routerState=Bm(this.currentUrlTree,this.rootComponentType),this.transitions=new cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ji(a=>0!==a.id),(0,vt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Xn(a=>{let l=!1,h=!1;return(0,Je.of)(a).pipe((0,$r.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xn(y=>{const E=this.browserUrlTree.toString(),T=!this.navigated||y.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return xa(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,Je.of)(y).pipe(Xn(x=>{const j=this.transitions.getValue();return r.next(new U(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),j!==this.transitions.getValue()?ns.E:Promise.resolve(x)}),function(n,e,t,r){return Xn(a=>function(n,e,t,r,a){return new S(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,vt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$r.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(n,e,t,r,a){return(0,Cn.zg)(l=>function(n,e,t,r,a="emptyOnly",l="legacy"){try{const h=new Lx(n,e,t,r,a,l).recognize();return null===h?EA(new k0):(0,Je.of)(h)}catch(h){return EA(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,a).pipe((0,vt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$r.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const j=new We(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(j)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:H,source:te,restoredState:Ie,extras:Fe}=y,it=new U(j,this.serializeUrl(H),te,Ie);r.next(it);const ht=Bm(H,this.rootComponentType).snapshot;return(0,Je.of)(Object.assign(Object.assign({},y),{targetSnapshot:ht,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),ns.E}),sy(y=>{const{targetSnapshot:E,id:T,extractedUrl:N,rawUrl:x,extras:{skipLocationChange:j,replaceUrl:H}}=y;return this.hooks.beforePreactivation(E,{navigationId:T,appliedUrlTree:N,rawUrlTree:x,skipLocationChange:!!j,replaceUrl:!!H})}),(0,$r.b)(y=>{const E=new qe(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),(0,vt.U)(y=>Object.assign(Object.assign({},y),{guards:pt(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Cn.zg)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,Je.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,mn.D)(n).pipe((0,Cn.zg)(a=>function(n,e,t,r,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Je.of)(!0);const h=l.map(y=>{const E=On(y,e,a);let T;if(function(n){return n&&as(n.canDeactivate)}(E))T=xs(E.canDeactivate(n,e,t,r));else{if(!as(E))throw new Error("Invalid CanDeactivate guard");T=xs(E(n,e,t,r))}return T.pipe(Js())});return(0,Je.of)(h).pipe(Jc())}(a.component,a.route,t,e,r)),Js(a=>!0!==a,!0))}(h,r,a,n).pipe((0,Cn.zg)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,r){return(0,mn.D)(e).pipe(rs(a=>El(function(n,e){return null!==n&&e&&e(new ss(n)),(0,Je.of)(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new Ei(n)),(0,Je.of)(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>As(()=>{const y=h.guards.map(E=>{const T=On(E,h.node,t);let N;if(function(n){return n&&as(n.canActivateChild)}(T))N=xs(T.canActivateChild(r,n));else{if(!as(T))throw new Error("Invalid CanActivateChild guard");N=xs(T(r,n))}return N.pipe(Js())});return(0,Je.of)(y).pipe(Jc())}));return(0,Je.of)(l).pipe(Jc())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Je.of)(!0);const a=r.map(l=>As(()=>{const h=On(l,e,t);let y;if(function(n){return n&&as(n.canActivate)}(h))y=xs(h.canActivate(e,n));else{if(!as(h))throw new Error("Invalid CanActivate guard");y=xs(h(e,n))}return y.pipe(Js())}));return(0,Je.of)(a).pipe(Jc())}(n,a.route,t))),Js(a=>!0!==a,!0))}(r,l,n,e):(0,Je.of)(y)),(0,vt.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,$r.b)(y=>{if(Os(y.guardsResult)){const T=Da(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw T.url=y.guardsResult,T}const E=new Ut(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(E)}),ji(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),sy(y=>{if(y.guards.canActivateChecks.length)return(0,Je.of)(y).pipe((0,$r.b)(E=>{const T=new Gt(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}),Xn(E=>{let T=!1;return(0,Je.of)(E).pipe(function(n,e){return(0,Cn.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Je.of)(t);let l=0;return(0,mn.D)(a).pipe(rs(h=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return(0,Je.of)({});const l={};return(0,mn.D)(a).pipe((0,Cn.zg)(h=>function(n,e,t,r){const a=On(n,e,r);return xs(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,r).pipe((0,$r.b)(y=>{l[h]=y}))),cp(1),(0,Cn.zg)(()=>Object.keys(l).length===a.length?(0,Je.of)(l):ns.E))}(n._resolve,n,e,r).pipe((0,vt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),jm(n,t).resolve),null)))}(h.route,r,n,e)),(0,$r.b)(()=>l++),cp(1),(0,Cn.zg)(h=>l===a.length?(0,Je.of)(t):ns.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$r.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,$r.b)(E=>{const T=new er(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}))}),sy(y=>{const{targetSnapshot:E,id:T,extractedUrl:N,rawUrl:x,extras:{skipLocationChange:j,replaceUrl:H}}=y;return this.hooks.afterPreactivation(E,{navigationId:T,appliedUrlTree:N,rawUrlTree:x,skipLocationChange:!!j,replaceUrl:!!H})}),(0,vt.U)(y=>{const E=function(n,e,t){const r=Wc(n,e._root,t?t._root:void 0);return new Um(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:E})}),(0,$r.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new Cp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,$r.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new C(n))}(()=>{var y;if(!l&&!h){const E=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,E)):this.cancelNavigationTransition(a,E)}(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),Qs(y=>{if(h=!0,function(n){return n&&n[jc]}(y)){const E=Os(y.url);E||(this.navigated=!0,this.restoreHistory(a,!0));const T=new me(a.id,this.serializeUrl(a.extractedUrl),y.message);r.next(T),E?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),x={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xa(a.source)};this.scheduleNavigation(N,"imperative",null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const E=new Pe(a.id,this.serializeUrl(a.extractedUrl),y);r.next(E);try{a.resolve(this.errorHandler(y))}catch(T){a.reject(T)}}return ns.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=r,y={replaceUrl:!0};if(l){const E=Object.assign({},l);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(y.state=E)}this.scheduleNavigation(h,a,l,y)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const a=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!a||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Dn(t),this.config=t.map(Rh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:y,preserveFragment:E}=r,T=a||this.routerState.root,N=E?this.currentUrlTree.fragment:h;let x=null;switch(y){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function(n,e,t,r,a){if(0===t.length)return zm(e.root,e.root,e,r,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ih(!0,0,n);let e=0,t=!1;const r=n.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const y={};return hr(l.outlets,(E,T)=>{y[T]="string"==typeof E?E.split("/"):E}),[...a,{outlets:y}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((y,E)=>{0==E&&"."===y||(0==E&&""===y?t=!0:".."===y?e++:""!=y&&a.push(y))}),a):[...a,l]},[]);return new Ih(t,e,r)}(t);if(l.toRoot())return zm(e.root,new Ot([],{}),e,r,a);const h=function(n,e,t){if(n.isAbsolute)return new Zc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Zc(l,l===e.root,0)}const r=Kc(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,l=t;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new Zc(r,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),y=h.processChildren?Dh(h.segmentGroup,h.index,l.commands):Yc(h.segmentGroup,h.index,l.commands);return zm(h.segmentGroup,y,e,r,a)}(T,this.currentUrlTree,t,x,null!=N?N:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=Os(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},DA):!1===r?Object.assign({},AA):r,Os(t))return $c(this.currentUrlTree,t,a);const l=this.parseUrl(t);return $c(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const l=t[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,l,h){var y,E;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),N=xa(r)&&T&&!xa(T.source),H=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===t.toString();if(N&&H)return Promise.resolve(!0);let te,Ie,Fe;h?(te=h.resolve,Ie=h.reject,Fe=h.promise):Fe=new Promise((kt,ct)=>{te=kt,Ie=ct});const it=++this.navigationId;let ht;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),ht=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):ht=0,this.setTransition({id:it,targetPageId:ht,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:te,reject:Ie,promise:Fe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fe.catch(kt=>Promise.reject(kt))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new me(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.DyG),f.LFG(yh),f.LFG(Ph),f.LFG(Ue),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function xa(n){return"imperative"!==n}let kh=(()=>{class n{constructor(t,r,a,l,h){this.router=t,this.route=r,this.commands=[],this.onChanges=new Jn.xQ,null==a&&l.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Fh(this.skipLocationChange),replaceUrl:Fh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ii),f.Y36(bu),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),n})();function Fh(n){return""===n||!!n}let ly=(()=>{class n{constructor(t,r,a,l,h){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=l||At,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,E=new H0(t,y,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ph),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class H0{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===bu?this.route:e===Ph?this.childContexts:this.parent.get(e,t)}}class $v{}class Gv{preload(e,t){return(0,Je.of)(null)}}let Pp=(()=>{class n{constructor(t,r,a,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new U0(r,a,T=>t.triggerEvent(new dr(T)),T=>t.triggerEvent(new tr(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(ji(t=>t instanceof Q),rs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,mn.D)(a).pipe((0,_i.J)(),(0,vt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Je.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Cn.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ii),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG($v))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Lh=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Q&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Rs&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Rs(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ii),f.LFG(yo),f.LFG(void 0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=new f.OlP("ROUTER_CONFIGURATION"),qv=new f.OlP("ROUTER_FORROOT_GUARD"),kp=[Ue,{provide:yh,useClass:fp},{provide:Ii,useFactory:function(n,e,t,r,a,l,h,y={},E,T){const N=new Ii(null,n,e,t,r,a,l,Aa(h));return E&&(N.urlHandlingStrategy=E),T&&(N.routeReuseStrategy=T),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(y,N),y.enableTracing&&N.events.subscribe(x=>{var j,H;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(H=console.groupEnd)||void 0===H||H.call(console)}),N},deps:[yh,Ph,Ue,f.zs3,f.v3s,f.Sil,Bv,Au,[class{},new f.FiY],[class{},new f.FiY]]},Ph,{provide:bu,useFactory:function(n){return n.routerState.root},deps:[Ii]},{provide:f.v3s,useClass:f.EAV},Pp,Gv,class{preload(e,t){return t().pipe(Qs(()=>(0,Je.of)(null)))}},{provide:Au,useValue:{enableTracing:!1}}];function RA(){return new f.PXZ("Router",Ii)}let Wv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[kp,cy(t),{provide:qv,useFactory:G0,deps:[[Ii,new f.FiY,new f.tp0]]},{provide:Au,useValue:r||{}},{provide:z,useFactory:MA,deps:[he,[new f.tBr(we),new f.FiY],Au]},{provide:Lh,useFactory:xA,deps:[Ii,yo,Au]},{provide:$v,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Gv},{provide:f.PXZ,multi:!0,useFactory:RA},[Kv,{provide:f.ip1,multi:!0,useFactory:W0,deps:[Kv]},{provide:K0,useFactory:OA,deps:[Kv]},{provide:f.tb,multi:!0,useExisting:K0}]]}}static forChild(t){return{ngModule:n,providers:[cy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(qv,8),f.LFG(Ii,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function xA(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Lh(n,e,t)}function MA(n,e,t={}){return t.useHash?new Ae(n,e):new pe(n,e)}function G0(n){return"guarded"}function cy(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:Bv,multi:!0,useValue:n}]}let Kv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Jn.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(y=>r=y),l=this.injector.get(Ii),h=this.injector.get(Au);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Je.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(Au),a=this.injector.get(Pp),l=this.injector.get(Lh),h=this.injector.get(Ii),y=this.injector.get(f.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function W0(n){return n.appInitializer.bind(n)}function OA(n){return n.bootstrapListener.bind(n)}const K0=new f.OlP("Router Initializer");var Z0=V(1555);function dy(n,e){return new yi.y(t=>{const r=n.length;if(0===r)return void t.complete();const a=new Array(r);let l=0,h=0;for(let y=0;y<r;y++){const E=(0,mn.D)(n[y]);let T=!1;t.add(E.subscribe({next:N=>{T||(T=!0,h++),a[y]=N},error:N=>t.error(N),complete:()=>{l++,(l===r||!T)&&(h===r&&t.next(e?e.reduce((N,x,j)=>(N[x]=a[j],N),{}):a),t.complete())}}))}})}let Y0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),ed=(()=>{class n extends Y0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Oo=new f.OlP("NgValueAccessor"),FA={provide:Oo,useExisting:(0,f.Gpc)(()=>Fp),multi:!0},J0=new f.OlP("CompositionEventMode");let Fp=(()=>{class n extends Y0{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(J0,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[f._Bn([FA]),f.qOj]}),n})();function Po(n){return null==n||0===n.length}function to(n){return null!=n&&"number"==typeof n.length}const ni=new f.OlP("NgValidators"),Pl=new f.OlP("NgAsyncValidators"),Zv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class no{static min(e){return function(n){return e=>{if(Po(e.value)||Po(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(Po(e.value)||Po(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return Po(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return Po(n.value)||Zv.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>Po(e.value)||!to(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>to(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return ko;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Po(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return BA(e)}static composeAsync(e){return Xv(e)}}function ko(n){return null}function py(n){return null!=n}function UA(n){const e=(0,f.QGY)(n)?(0,mn.D)(n):n;return(0,f.CqO)(e),e}function X0(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Jv(n,e){return e.map(t=>t(n))}function eC(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function BA(n){if(!n)return null;const e=n.filter(py);return 0==e.length?null:function(t){return X0(Jv(t,e))}}function gy(n){return null!=n?BA(eC(n)):null}function Xv(n){if(!n)return null;const e=n.filter(py);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Zs.k)(e))return dy(e,null);if((0,Z0.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return dy(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return dy(n=1===n.length&&(0,Zs.k)(n[0])?n[0]:n,null).pipe((0,vt.U)(t=>e(...t)))}return dy(n,null)}(Jv(t,e).map(UA)).pipe((0,vt.U)(X0))}}function eE(n){return null!=n?Xv(eC(n)):null}function my(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jA(n){return n._rawValidators}function $A(n){return n._rawAsyncValidators}function tC(n){return n?Array.isArray(n)?n:[n]:[]}function tE(n,e){return Array.isArray(n)?n.includes(e):n===e}function HA(n,e){const t=tC(e);return tC(n).forEach(a=>{tE(t,a)||t.push(a)}),t}function GA(n,e){return tC(e).filter(t=>!tE(n,t))}let qA=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=gy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=eE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n}),n})(),ls=(()=>{class n extends qA{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();class td extends qA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zA{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let yy=(()=>{class n extends zA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(td,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),nC=(()=>{class n extends zA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ls,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function Up(n,e){Fl(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rE(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function kl(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ll(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Su(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Fl(n,e){const t=jA(n);null!==e.validator?n.setValidators(my(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=$A(n);null!==e.asyncValidator?n.setAsyncValidators(my(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();Su(e._rawValidators,a),Su(e._rawAsyncValidators,a)}function Ll(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=jA(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=$A(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Su(e._rawValidators,r),Su(e._rawAsyncValidators,r),t}function rE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Bp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Bh="VALID",Cy="INVALID",jh="PENDING",ri="DISABLED";function oE(n){return(lC(n)?n.validators:n)||null}function XA(n){return Array.isArray(n)?gy(n):n||null}function uC(n,e){return(lC(e)?e.asyncValidators:n)||null}function aE(n){return Array.isArray(n)?eE(n):n||null}function lC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class uE{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=XA(this._rawValidators),this._composedAsyncValidatorFn=aE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bh}get invalid(){return this.status===Cy}get pending(){return this.status==jh}get disabled(){return this.status===ri}get enabled(){return this.status!==ri}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=XA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=aE(e)}addValidators(e){this.setValidators(HA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GA(e,this._rawAsyncValidators))}hasValidator(e){return tE(this._rawValidators,e)}hasAsyncValidator(e){return tE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ri,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bh,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bh||this.status===jh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ri:Bh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jh,this._hasOwnPendingAsyncValidator=!0;const t=UA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof $h?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof lE&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?ri:this.errors?Cy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jh)?jh:this._anyControlsHaveStatus(Cy)?Cy:Bh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Vl extends uE{constructor(e=null,t,r){super(oE(t),uC(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Bp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Bp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $h extends uE{constructor(e,t,r){super(oE(t),uC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Vl?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,l)=>{r=t(r,a,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class lE extends uE{constructor(e,t,r){super(oE(t),uC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Vl?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let fE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const sS={provide:Oo,useExisting:(0,f.Gpc)(()=>pE),multi:!0};let pE=(()=>{class n extends ed{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[f._Bn([sS]),f.qOj]}),n})(),hC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const $p=new f.OlP("NgModelWithFormControlWarning"),uS={provide:ls,useExisting:(0,f.Gpc)(()=>Iy)};let Iy=(()=>{class n extends ls{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ll(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Up(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){kl(t.control||null,t,!1),Bp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(kl(r||null,t),a instanceof Vl&&(Up(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){Fl(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Ll(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fl(this.form,this),this._oldForm&&Ll(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ni,10),f.Y36(Pl,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([uS]),f.qOj,f.TTD]}),n})();const gC={provide:td,useExisting:(0,f.Gpc)(()=>Dy)};let Dy=(()=>{class n extends td{constructor(t,r,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(l=>{l.constructor===Fp?t=l:function(n){return Object.getPrototypeOf(n.constructor)===ed}(l)?r=l:a=l}),a||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ls,13),f.Y36(ni,10),f.Y36(Pl,10),f.Y36(Oo,10),f.Y36($p,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([gC]),f.qOj,f.TTD]}),n._ngModelWarningSentOnce=!1,n})(),An=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[hC]]}),n})(),ES=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$p,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[An]}),n})(),CE=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let y,l=null,h=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,y=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new $h(a,{asyncValidators:h,updateOn:y,validators:l})}control(t,r,a){return new Vl(t,r,a)}array(t,r,a){const l=t.map(h=>this._createControl(h));return new lE(l,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof Vl||t instanceof $h||t instanceof lE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,f.Yz7)({factory:function(){return new n},token:n,providedIn:ES}),n})();var Qx=V(3637),ii=V(6643);function IE(){return n=>n.lift(new IC)}class IC{call(e,t){return t.subscribe(new TC(e))}}class TC extends $n.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class AC{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new wS(e,this.compare,this.keySelector))}}class wS extends $n.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var Ze,Lo=V(8939),TE=(V(6096),V(4486)),Te=V(8239),Ul=V(5452),Hp=V(6034),Ru=V(5601),Vt=V(3854),bS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xu={},Oy=Oy||{},St=bS||self;function Gp(){}function DE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var SC="closure_uid_"+(1e9*Math.random()>>>0),AE=0;function CS(n,e,t){return n.call.apply(n.bind,arguments)}function NC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Hr(n,e,t){return(Hr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?CS:NC).apply(null,arguments)}function SE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function _n(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,l){for(var h=Array(arguments.length-2),y=2;y<arguments.length;y++)h[y-2]=arguments[y];return e.prototype[a].apply(r,h)}}function ud(){this.s=this.s,this.o=this.o}var eM={};ud.prototype.s=!1,ud.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,SC)&&n[SC]||(n[SC]=++AE)}(this);delete eM[n]}},ud.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},RE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in a&&e.call(t,a[l],l,n)};function xC(n){return Array.prototype.concat.apply([],arguments)}function MC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zp(n){return/^[\s\xa0]*$/.test(n)}var zi,Py=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qi(n,e){return-1!=n.indexOf(e)}function Wp(n,e){return n<e?-1:n>e?1:0}e:{var OC=St.navigator;if(OC){var PC=OC.userAgent;if(PC){zi=PC;break e}}zi=""}function xE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kC(n){const e={};for(const t in n)e[t]=n[t];return e}var FC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kp(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<FC.length;l++)t=FC[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Bl(n){return Bl[" "](n),n}Bl[" "]=Gp;var Nr,n,Vo=qi(zi,"Opera"),Pa=qi(zi,"Trident")||qi(zi,"MSIE"),VC=qi(zi,"Edge"),ME=VC||Pa,ky=qi(zi,"Gecko")&&!(qi(zi.toLowerCase(),"webkit")&&!qi(zi,"Edge"))&&!(qi(zi,"Trident")||qi(zi,"MSIE"))&&!qi(zi,"Edge"),ka=qi(zi.toLowerCase(),"webkit")&&!qi(zi,"Edge");function Gh(){var n=St.document;return n?n.documentMode:void 0}e:{var Mu="",qh=(n=zi,ky?/rv:([^\);]+)(\)|;)/.exec(n):VC?/Edge\/([\d\.]+)/.exec(n):Pa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ka?/WebKit\/(\S+)/.exec(n):Vo?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qh&&(Mu=qh?qh[1]:""),Pa){var cs=Gh();if(null!=cs&&cs>parseFloat(Mu)){Nr=String(cs);break e}}Nr=Mu}var OE={};function zh(){return e=OE,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Py(String(Nr)).split("."),t=Py("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var a=e[h]||"",l=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=Wp(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||Wp(0==a[2].length,0==l[2].length)||Wp(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var Wh=St.document&&Pa&&(Gh()||parseInt(Nr,10))||void 0,Kh=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",Gp,e),St.removeEventListener("test",Gp,e)}catch(t){}return n}();function rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Fa(n,e){if(rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ky){e:{try{Bl(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Zh[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fa.Z.h.call(this)}}rr.prototype.h=function(){this.defaultPrevented=!0},_n(Fa,rr);var Zh={2:"touch",3:"pen",4:"mouse"};Fa.prototype.h=function(){Fa.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var La="closure_listenable_"+(1e6*Math.random()|0),UC=0;function BC(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++UC,this.ca=this.fa=!1}function Zp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Yp(n){this.src=n,this.g={},this.h=0}function Fy(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=NE(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(Zp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ly(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return a}return-1}Yp.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Ly(n,e,r,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new BC(e,this.src,l,!!r,a)).fa=t,n.push(e)),e};var Vy="closure_lm_"+(1e6*Math.random()|0),Uy={};function PE(n,e,t,r,a){if(r&&r.once)return HC(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)PE(n,e[l],t,r,a);return null}return t=FE(t),n&&n[La]?n.N(e,t,qp(r)?!!r.capture:!!r,a):jC(n,e,t,!1,r,a)}function jC(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var h=qp(a)?!!a.capture:!!a,y=kE(n);if(y||(n[Vy]=y=new Yp(n)),(t=y.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=tM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Kh||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(qC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function HC(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)HC(n,e[l],t,r,a);return null}return t=FE(t),n&&n[La]?n.O(e,t,qp(r)?!!r.capture:!!r,a):jC(n,e,t,!0,r,a)}function GC(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)GC(n,e[l],t,r,a);else r=qp(r)?!!r.capture:!!r,t=FE(t),n&&n[La]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ly(l=n.g[e],t,r,a))&&(Zp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=kE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ly(e,t,r,a)),(t=-1<n?e[n]:null)&&By(t))}function By(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[La])Fy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(qC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=kE(e))?(Fy(t,n),0==t.h&&(t.src=null,e[Vy]=null)):Zp(n)}}}function qC(n){return n in Uy?Uy[n]:Uy[n]="on"+n}function tM(n,e){if(n.ca)n=!0;else{e=new Fa(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&By(n),n=t.call(r,e)}return n}function kE(n){return(n=n[Vy])instanceof Yp?n:null}var jy="__closure_events_fn_"+(1e9*Math.random()>>>0);function FE(n){return"function"==typeof n?n:(n[jy]||(n[jy]=function(e){return n.handleEvent(e)}),n[jy])}function Rr(){ud.call(this),this.i=new Yp(this),this.P=this,this.I=null}function si(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new rr(e,n);else if(e instanceof rr)e.target=e.target||n;else{var a=e;Kp(e=new rr(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];a=$y(h,r,!0,e)&&a}if(a=$y(h=e.g=n,r,!0,e)&&a,a=$y(h,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=$y(h=e.g=t[l],r,!1,e)&&a}function $y(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var y=h.listener,E=h.ia||h.src;h.fa&&Fy(n.i,h),a=!1!==y.call(E,r)&&a}}return a&&!r.defaultPrevented}_n(Rr,ud),Rr.prototype[La]=!0,Rr.prototype.removeEventListener=function(n,e,t,r){GC(this,n,e,t,r)},Rr.prototype.M=function(){if(Rr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Zp(t[r]);delete n.g[e],n.h--}}this.I=null},Rr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Rr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zC=St.JSON.stringify;function IS(){var n=Hy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var KC,TS=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nM,n=>n.reset());class nM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rM(n){St.setTimeout(()=>{throw n},0)}function LE(n,e){KC||function(){var n=St.Promise.resolve(void 0);KC=function(){n.then(UE)}}(),VE||(KC(),VE=!0),Hy.add(n,e)}var VE=!1,Hy=new class{constructor(){this.h=this.g=null}add(e,t){const r=TS.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function UE(){for(var n;n=IS();){try{n.h.call(n.g)}catch(t){rM(t)}var e=TS;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}VE=!1}function Gy(n,e){Rr.call(this),this.h=n||1,this.g=e||St,this.j=Hr(this.kb,this),this.l=Date.now()}function ZC(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function YC(n,e,t){if("function"==typeof n)t&&(n=Hr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Hr(n.handleEvent,n)}return 2147483647<Number(e)?-1:St.setTimeout(n,e||0)}function AS(n){n.g=YC(()=>{n.g=null,n.i&&(n.i=!1,AS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_n(Gy,Rr),(Ze=Gy.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),si(this,"tick"),this.da&&(ZC(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){Gy.Z.M.call(this),ZC(this),delete this.g};class SS extends ud{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AS(this)}M(){super.M(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yh(n){ud.call(this),this.h=n,this.g={}}_n(Yh,ud);var NS=[];function QC(n,e,t,r){Array.isArray(t)||(t&&(NS[0]=t.toString()),t=NS);for(var a=0;a<t.length;a++){var l=PE(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function cd(n){xE(n.g,function(e,t){this.g.hasOwnProperty(t)&&By(e)},n),n.g={}}function qy(){this.g=!0}function dd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return zC(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}Yh.prototype.M=function(){Yh.Z.M.call(this),cd(this)},Yh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qy.prototype.Aa=function(){this.g=!1},qy.prototype.info=function(){};var $l={},XC=null;function Wy(){return XC=XC||new Rr}function eI(n){rr.call(this,$l.Ma,n)}function Qp(n){const e=Wy();si(e,new eI(e,n))}function tI(n,e){rr.call(this,$l.STAT_EVENT,n),this.stat=e}function Ti(n){const e=Wy();si(e,new tI(e,n))}function nI(n,e){rr.call(this,$l.Na,n),this.size=e}function Qh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},e)}$l.Ma="serverreachability",_n(eI,rr),$l.STAT_EVENT="statevent",_n(tI,rr),$l.Na="timingevent",_n(nI,rr);var Jp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ky={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rI(){}function iI(){}rI.prototype.h=null;var Xp,Yy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hd(){rr.call(this,"d")}function BE(){rr.call(this,"c")}function Jh(){}function eg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Yh(this),this.P=jE,this.W=new Gy(n=ME?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qy}function Qy(){this.i=null,this.g="",this.h=!1}_n(hd,rr),_n(BE,rr),_n(Jh,rI),Jh.prototype.g=function(){return new XMLHttpRequest},Jh.prototype.i=function(){return{}},Xp=new Jh;var jE=45e3,Jy={},$E={};function HE(n,e,t){n.K=1,n.v=ig(Uo(e)),n.s=t,n.U=!0,Xy(n,null)}function Xy(n,e){n.F=Date.now(),fd(n),n.A=Uo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ZE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Qy,n.g=SI(n.l,t?e:null,!n.s),0<n.O&&(n.L=new SS(Hr(n.Ia,n,n.g),n.O)),QC(n.V,n.g,"readystatechange",n.gb),e=n.H?kC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Qp(1),function(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var h="",y=l.split("&"),E=0;E<y.length;E++){var T=y[E].split("=");if(1<T.length){var N=T[0];T=T[1];var x=N.split("_");h=2<=x.length&&"type"==x[1]?h+(N+"=")+T+"&":h+(N+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function e_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function sI(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=oI(n,t),a==$E){4==e&&(n.o=4,Ti(14),r=!1),dd(n.j,n.m,null,"[Incomplete Response]");break}if(a==Jy){n.o=4,Ti(15),dd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}dd(n.j,n.m,a,null),qE(n,a)}e_(n)&&a!=$E&&a!=Jy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ti(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ow(e),e.L=!0,Ti(11))):(dd(n.j,n.m,t,"[Invalid Chunked Response]"),Hl(n),pd(n))}function oI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?$E:(t=Number(e.substring(t,r)),isNaN(t)?Jy:(r+=1)+t>e.length?$E:(e=e.substr(r,t),n.C=r+t,e))}function fd(n){n.Y=Date.now()+n.P,GE(n,n.P)}function GE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qh(Hr(n.eb,n),e)}function Xh(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function pd(n){0==n.l.G||n.I||II(n.l,n)}function Hl(n){Xh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ZC(n.W),cd(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qE(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ag(t.i,n)))if(t.I=n.N,!n.J&&ag(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Qh(Hr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;c_(t),fg(t)}sw(t),Ti(18)}if(1>=US(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else yd(t,11)}else if((n.J||t.g==n)&&c_(t),!zp(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let T=a[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const N=T[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const x=T[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const j=T[5];null!=j&&"number"==typeof j&&0<j&&(t.K=r=1.5*j,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const te=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var l=r.i;!l.g&&(qi(te,"spdy")||qi(te,"quic")||qi(te,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(ug(l,l.h),l.h=null))}if(r.D){const Ie=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;Ie&&(r.sa=Ie,Sn(r.F,r.D,Ie))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=AI(r,r.H?r.la:null,r.W),h.J){jo(r.i,h);var y=h,E=r.K;E&&y.setTimeout(E),y.B&&(Xh(y),fd(y)),r.g=h}else bI(r);0<t.l.length&&l_(t)}else"stop"!=T[0]&&"close"!=T[0]||yd(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?yd(t,7):u_(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Qp(4)}catch(T){}}function t_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(DE(n)||"string"==typeof n)RE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(DE(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(DE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}}function Gl(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Gl)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function n_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];gd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)gd(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function gd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ze=eg.prototype).setTimeout=function(n){this.P=n},Ze.gb=function(n){n=n.target;const e=this.L;e&&3==Ua(n)?e.l():this.Ia(n)},Ze.Ia=function(n){try{if(n==this.g)e:{const N=Ua(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>N)&&(3!=N||ME||this.g&&(this.h.h||this.g.ga()||nw(this.g)))){this.I||4!=N||7==e||Qp(8==e||0>=x?3:2),Xh(this);var t=this.g.ba();this.N=t;t:if(e_(this)){var r=nw(this.g);n="";var a=r.length,l=4==Ua(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hl(this),pd(this);var h="";break t}this.h.i=new St.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,E=this.g;if((y=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(y)){var T=y;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Ti(12),Hl(this),pd(this);break e}dd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qE(this,t)}this.U?(sI(this,N,h),ME&&this.i&&3==N&&(QC(this.V,this.W,"tick",this.fb),this.W.start())):(dd(this.j,this.m,h,null),qE(this,h)),4==N&&Hl(this),this.i&&!this.I&&(4==N?II(this.l,this):(this.i=!1,fd(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Ti(12)):(this.o=0,Ti(13)),Hl(this),pd(this)}}}catch(N){}},Ze.fb=function(){if(this.g){var n=Ua(this.g),e=this.g.ga();this.C<e.length&&(Xh(this),sI(this,n,e),this.i&&4!=n&&fd(this))}},Ze.cancel=function(){this.I=!0,Hl(this)},Ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qp(3),Ti(17)),Hl(this),this.o=2,pd(this)):GE(this,this.Y-n)},(Ze=Gl.prototype).R=function(){n_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ze.T=function(){return n_(this),this.g.concat()},Ze.get=function(n,e){return gd(this.h,n)?this.h[n]:e},Ze.set=function(n,e){gd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ze.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],l=this.get(a);n.call(e,l,a,this)}};var uI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ql(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ql){this.g=void 0!==e?e:n.g,tg(this,n.j),this.s=n.s,ng(this,n.i),rg(this,n.m),this.l=n.l,e=n.h;var t=new og;t.i=e.i,e.g&&(t.g=new Gl(e.g),t.h=e.h),zE(this,t),this.o=n.o}else n&&(t=String(n).match(uI))?(this.g=!!e,tg(this,t[1]||"",!0),this.s=r_(t[2]||""),ng(this,t[3]||"",!0),rg(this,t[4]),this.l=r_(t[5]||"",!0),zE(this,t[6]||"",!0),this.o=r_(t[7]||"")):(this.g=!!e,this.h=new og(null,this.g))}function Uo(n){return new ql(n)}function tg(n,e,t){n.j=t?r_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ng(n,e,t){n.i=t?r_(e,!0):e}function rg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zE(n,e,t){e instanceof og?(n.h=e,function(n,e){e&&!n.j&&(Ou(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(hI(this,r),ZE(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=sg(e,dI)),n.h=new og(e,n.g))}function Sn(n,e,t){n.h.set(e,t)}function ig(n){return Sn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function r_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ql.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sg(e,WE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sg(e,WE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(sg(t,"/"==t.charAt(0)?xr:PS,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sg(t,kS)),n.join("")};var WE=/[#\/\?@]/g,PS=/[#\?:]/g,xr=/[#\?]/g,dI=/[#\?@]/g,kS=/#/g;function og(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ou(n){n.g||(n.g=new Gl,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hI(n,e){Ou(n),e=Bo(n,e),gd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,gd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&n_(n)))}function KE(n,e){return Ou(n),e=Bo(n,e),gd(n.g.h,e)}function ZE(n,e,t){hI(n,e),0<t.length&&(n.i=null,n.g.set(Bo(n,e),MC(t)),n.h+=t.length)}function Bo(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function YE(n){this.l=n||VS,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ea&&St.g.Ea()&&St.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ze=og.prototype).add=function(n,e){Ou(this),this.i=null,n=Bo(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ze.forEach=function(n,e){Ou(this),this.g.forEach(function(t,r){RE(t,function(a){n.call(e,a,r,this)},this)},this)},Ze.T=function(){Ou(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],l=0;l<a.length;l++)t.push(e[r]);return t},Ze.R=function(n){Ou(this);var e=[];if("string"==typeof n)KE(this,n)&&(e=xC(e,this.g.get(Bo(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=xC(e,n[t])}return e},Ze.set=function(n,e){return Ou(this),this.i=null,KE(this,n=Bo(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ze.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=a;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var VS=10;function QE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function US(n){return n.h?1:n.g?n.g.size:0}function ag(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ug(n,e){n.g?n.g.add(e):n.h=e}function jo(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return MC(n.i)}function i_(){}function Va(){this.g=new i_}function $o(n,e,t){const r=t||"";try{t_(n,function(a,l){let h=a;qp(a)&&(h=zC(a)),e.push(r+l+"="+encodeURIComponent(h))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function lg(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(l){}}function ef(n){this.l=n.$b||null,this.j=n.ib||!1}function s_(n,e){Rr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=JE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YE.prototype.cancel=function(){if(this.i=fI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},i_.prototype.stringify=function(n){return St.JSON.stringify(n,void 0)},i_.prototype.parse=function(n){return St.JSON.parse(n,void 0)},_n(ef,rI),ef.prototype.g=function(){return new s_(this.l,this.j)},ef.prototype.i=function(n){return function(){return n}}({}),_n(s_,Rr);var JE=0;function pI(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function cg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,md(n)}function md(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ze=s_.prototype).open=function(n,e){if(this.readyState!=JE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,md(this)},Ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||St).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cg(this)),this.readyState=JE},Ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,md(this)),this.g&&(this.readyState=3,md(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==St.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pI(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cg(this):md(this),3==this.readyState&&pI(this)}},Ze.Ua=function(n){this.g&&(this.response=this.responseText=n,cg(this))},Ze.Ta=function(n){this.g&&(this.response=n,cg(this))},Ze.ha=function(){this.g&&cg(this)},Ze.setRequestHeader=function(n,e){this.v.append(n,e)},Ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(s_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var dg=St.JSON.parse;function fr(n){Rr.call(this),this.headers=new Gl,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XE,this.K=this.L=!1}_n(fr,Rr);var XE="",BS=/^https?$/i,gI=["POST","PUT"];function o_(n){return"content-type"==n.toLowerCase()}function yI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ew(n),tf(n)}function ew(n){n.D||(n.D=!0,si(n,"complete"),si(n,"error"))}function tw(n){if(n.h&&void 0!==Oy&&(!n.C[1]||4!=Ua(n)||2!=n.ba()))if(n.v&&4==Ua(n))YC(n.Fa,0,n);else if(si(n,"readystatechange"),4==Ua(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var a=String(n.H).match(uI)[1]||null;if(!a&&St.self&&St.self.location){var l=St.self.location.protocol;a=l.substr(0,l.length-1)}r=!BS.test(a?a.toLowerCase():"")}t=r}if(t)si(n,"complete"),si(n,"success");else{n.m=6;try{var h=2<Ua(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",ew(n)}}finally{tf(n)}}}function tf(n,e){if(n.g){hg(n);const t=n.g,r=n.C[0]?Gp:null;n.g=null,n.C=null,e||si(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function hg(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function Ua(n){return n.g?n.g.readyState:0}function nw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case XE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function a_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return xE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sn(n,e,t))}function nf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rw(n){this.za=0,this.l=[],this.h=new qy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nf("baseRetryDelayMs",5e3,n),this.$a=nf("retryDelaySeedMs",1e4,n),this.Ya=nf("forwardChannelMaxRetries",2,n),this.ra=nf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new YE(n&&n.concurrentRequestLimit),this.Ca=new Va,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function u_(n){if(vI(n),3==n.G){var e=n.V++,t=Uo(n.F);Sn(t,"SID",n.J),Sn(t,"RID",e),Sn(t,"TYPE","terminate"),pg(n,t),(e=new eg(n,n.h,e,void 0)).K=2,e.v=ig(Uo(t)),t=!1,St.navigator&&St.navigator.sendBeacon&&(t=St.navigator.sendBeacon(e.v.toString(),"")),!t&&St.Image&&((new Image).src=e.v,t=!0),t||(e.g=SI(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fd(e)}DI(n)}function fg(n){n.g&&(ow(n),n.g.cancel(),n.g=null)}function vI(n){fg(n),n.u&&(St.clearTimeout(n.u),n.u=null),c_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function iw(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&l_(n)}function l_(n){QE(n.i)||n.m||(n.m=!0,LE(n.Ha,n),n.C=0)}function EI(n,e){var t;t=e?e.m:n.V++;const r=Uo(n.F);Sn(r,"SID",n.J),Sn(r,"RID",t),Sn(r,"AID",n.U),pg(n,r),n.o&&n.s&&a_(r,n.o,n.s),t=new eg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=wI(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ug(n.i,t),HE(t,r,e)}function pg(n,e){n.j&&t_({},function(t,r){Sn(e,r,t)})}function wI(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Hr(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let y=!0;for(let E=0;E<t;E++){let T=a[E].h;const N=a[E].g;if(T-=l,0>T)l=Math.max(0,a[E].h-100),y=!1;else try{$o(N,h,"req"+T+"_")}catch(x){r&&r(N)}}if(y){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function bI(n){n.g||n.u||(n.Y=1,LE(n.Ga,n),n.A=0)}function sw(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Qh(Hr(n.Ga,n),TI(n,n.A)),n.A++,0))}function ow(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function CI(n){n.g=new eg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Uo(n.oa);Sn(e,"RID","rpc"),Sn(e,"SID",n.J),Sn(e,"CI",n.N?"0":"1"),Sn(e,"AID",n.U),pg(n,e),Sn(e,"TYPE","xmlhttp"),n.o&&n.s&&a_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ig(Uo(e)),t.s=null,t.U=!0,Xy(t,n)}function c_(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function II(n,e){var t=null;if(n.g==e){c_(n),ow(n),n.g=null;var r=2}else{if(!ag(n.i,e))return;t=e.D,jo(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;si(r=Wy(),new nI(r,t,e,a)),l_(n)}else bI(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(US(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Qh(Hr(n.Ha,n,e),TI(n,n.C)),n.C++,0)))}(n,e)||2==r&&sw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:yd(n,5);break;case 4:yd(n,10);break;case 3:yd(n,6);break;default:yd(n,2)}}function TI(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function yd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Hr(n.jb,n);t||(t=new ql("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||tg(t,"https"),ig(t)),function(n,e){const t=new qy;if(St.Image){const r=new Image;r.onload=SE(lg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=SE(lg,t,r,"TestLoadImage: error",!1,e),r.onabort=SE(lg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=SE(lg,t,r,"TestLoadImage: timeout",!1,e),St.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ti(2);n.G=0,n.j&&n.j.va(e),DI(n),vI(n)}function DI(n){n.G=0,n.I=-1,n.j&&((0!=fI(n.i).length||0!=n.l.length)&&(n.i.i.length=0,MC(n.l),n.l.length=0),n.j.ua())}function AI(n,e,t){let r=function(n){return n instanceof ql?Uo(n):new ql(n,void 0)}(t);if(""!=r.i)e&&ng(r,e+"."+r.i),rg(r,r.m);else{const a=St.location;r=function(n,e,t,r){var a=new ql(null,void 0);return n&&tg(a,n),e&&ng(a,e),t&&rg(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&xE(n.aa,function(a,l){Sn(r,l,a)}),t=n.sa,(e=n.D)&&t&&Sn(r,e,t),Sn(r,"VER",n.ma),pg(n,r),r}function SI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fr(t&&n.Ba&&!n.qa?new ef({ib:!0}):n.qa)).L=n.H,e}function aw(){}function gg(){if(Pa&&!(10<=Number(Wh)))throw Error("Environmental error: no available transport.")}function ds(n,e){Rr.call(this),this.g=new rw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!zp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _d(this)}function uw(n){hd.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lw(){BE.call(this),this.status=1}function _d(n){this.g=n}(Ze=fr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xp.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Xp),this.g.onreadystatechange=Hr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void yI(this,l)}n=t||"";const a=new Gl(this.headers);r&&t_(r,function(l,h){a.set(h,l)}),r=function(n){e:{var e=o_;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=St.FormData&&n instanceof St.FormData,!(0<=NE(gI,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hg(this),0<this.B&&((this.K=function(n){return Pa&&zh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hr(this.pa,this)):this.A=YC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){yI(this,l)}},Ze.pa=function(){void 0!==Oy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},Ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,si(this,"complete"),si(this,"abort"),tf(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tf(this,!0)),fr.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?tw(this):this.cb())},Ze.cb=function(){tw(this)},Ze.ba=function(){try{return 2<Ua(this)?this.g.status:-1}catch(n){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ze.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),dg(e)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=rw.prototype).ma=8,Ze.G=1,Ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new eg(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=kC(l),Kp(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wI(this,a,e),Sn(t=Uo(this.F),"RID",n),Sn(t,"CVER",22),this.D&&Sn(t,"X-HTTP-Session-Id",this.D),pg(this,t),this.o&&l&&a_(t,this.o,l),ug(this.i,a),this.Ra&&Sn(t,"TYPE","init"),this.ja?(Sn(t,"$req",e),Sn(t,"SID","null"),a.$=!0,HE(a,t,null)):HE(a,t,e),this.G=2}}else 3==this.G&&(n?EI(this,n):0==this.l.length||QE(this.i)||EI(this))},Ze.Ga=function(){if(this.u=null,CI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Qh(Hr(this.bb,this),n)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ti(10),fg(this),CI(this))},Ze.ab=function(){null!=this.v&&(this.v=null,fg(this),sw(this),Ti(19))},Ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ti(2)):(this.h.info("Failed to ping google.com"),Ti(1))},(Ze=aw.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},gg.prototype.g=function(n,e){return new ds(n,e)},_n(ds,Rr),ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),LE(Hr(n.hb,n,e))),Ti(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=AI(n,null,n.W),l_(n)},ds.prototype.close=function(){u_(this.g)},ds.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,iw(this.g,e)}else this.v?((e={}).__data__=zC(n),iw(this.g,e)):iw(this.g,n)},ds.prototype.M=function(){this.g.j=null,delete this.j,u_(this.g),delete this.g,ds.Z.M.call(this)},_n(uw,hd),_n(lw,BE),_n(_d,aw),_d.prototype.xa=function(){si(this.g,"a")},_d.prototype.wa=function(n){si(this.g,new uw(n))},_d.prototype.va=function(n){si(this.g,new lw(n))},_d.prototype.ua=function(){si(this.g,"b")},gg.prototype.createWebChannel=gg.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Jp.NO_ERROR=0,Jp.TIMEOUT=8,Jp.HTTP_ERROR=6,Ky.COMPLETE="complete",iI.EventType=Yy,Yy.OPEN="a",Yy.CLOSE="b",Yy.ERROR="c",Yy.MESSAGE="d",Rr.prototype.listen=Rr.prototype.N,fr.prototype.listenOnce=fr.prototype.O,fr.prototype.getLastError=fr.prototype.La,fr.prototype.getLastErrorCode=fr.prototype.Da,fr.prototype.getStatus=fr.prototype.ba,fr.prototype.getResponseJson=fr.prototype.Qa,fr.prototype.getResponseText=fr.prototype.ga,fr.prototype.send=fr.prototype.ea;var NI=xu.createWebChannelTransport=function(){return new gg},RI=xu.getStatEventTarget=function(){return Wy()},d_=xu.ErrorCode=Jp,cw=xu.EventType=Ky,dw=xu.Event=$l,zl=xu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$S=xu.FetchXmlHttpFactory=ef,h_=xu.WebChannel=iI,rf=xu.XhrIo=fr;const HS="@firebase/firestore";class Mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let mg="9.2.0";const Pu=new Ru.Yd("@firebase/firestore");function f_(){return Pu.logLevel}function Ee(n,...e){if(Pu.logLevel<=Ru.in.DEBUG){const t=e.map(hw);Pu.debug(`Firestore (${mg}): ${n}`,...t)}}function pr(n,...e){if(Pu.logLevel<=Ru.in.ERROR){const t=e.map(hw);Pu.error(`Firestore (${mg}): ${n}`,...t)}}function yg(n,...e){if(Pu.logLevel<=Ru.in.WARN){const t=e.map(hw);Pu.warn(`Firestore (${mg}): ${n}`,...t)}}function hw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function et(n="Unexpected state"){const e=`FIRESTORE (${mg}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function mt(n,e){n||et()}function $e(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class g_{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class GS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mr.UNAUTHENTICATED))}shutdown(){}}class xI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MI{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=T=>this.i!==a?(a=this.i,t(T)):Promise.resolve();let h=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Or,e.enqueueRetryable(()=>l(this.currentUser))};const y=()=>{const T=h;e.enqueueRetryable((0,Te.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},E=T=>{Ee("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(T=>E(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?E(T):(Ee("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Or)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ee("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt("string"==typeof r.accessToken),new g_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(null===e||"string"==typeof e),new Mr(e)}}class OI{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Mr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class PI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new OI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function qS(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ps.T=-1;class kI{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=qS(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%e.length))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function sf(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function FI(n){return n+"\0"}class Gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Gr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function fw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _g{constructor(e,t,r){void 0===t?t=0:t>e.length&&et(),void 0===r?r=e.length-t:r>e.length-t&&et(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_g.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _g?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bt extends _g{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const vg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends _g{construct(e,t,r){return new oi(e,t,r)}static isValidIdentifier(e){return vg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oi(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new ke(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;a<e.length;){const y=e[a];if("\\"===y){if(a+1===e.length)throw new ke(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[a+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new ke(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,a+=2}else"`"===y?(h=!h,a++):"."!==y||h?(r+=y,a++):(l(),a++)}if(l(),h)throw new ke(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(t)}static emptyPath(){return new oi([])}}class of{constructor(e){this.fields=e,e.sort(oi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Pr(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new Pr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const LI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ku(n){if(mt(!!n),"string"==typeof n){let e=0;const t=LI.exec(n);if(mt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gr(n.seconds),nanos:gr(n.nanos)}}function gr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vd(n){return"string"==typeof n?Pr.fromBase64String(n):Pr.fromUint8Array(n)}function gw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function VI(n){const e=n.mapValue.fields.__previous_value__;return gw(e)?VI(e):e}function m_(n){const e=ku(n.mapValue.fields.__local_write_time__.timestampValue);return new Gr(e.seconds,e.nanos)}function af(n){return null==n}function mw(n){return 0===n&&1/n==-1/0}function WS(n){return"number"==typeof n&&Number.isInteger(n)&&!mw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(Bt.fromString(e))}static fromName(e){return new tt(Bt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Bt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new Bt(e.slice()))}}function Ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gw(n)?4:10:et()}function ja(n,e){const t=Ba(n);if(t!==Ba(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return m_(n).isEqual(m_(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=ku(r.timestampValue),h=ku(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,vd(n.bytesValue).isEqual(vd(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return gr(r.geoPointValue.latitude)===gr(a.geoPointValue.latitude)&&gr(r.geoPointValue.longitude)===gr(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return gr(r.integerValue)===gr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=gr(r.doubleValue),h=gr(a.doubleValue);return l===h?mw(l)===mw(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return sf(n.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:return function(r,a){const l=r.mapValue.fields||{},h=a.mapValue.fields||{};if(fw(l)!==fw(h))return!1;for(const y in l)if(l.hasOwnProperty(y)&&(void 0===h[y]||!ja(l[y],h[y])))return!1;return!0}(n,e);default:return et()}var a}function Eg(n,e){return void 0!==(n.values||[]).find(t=>ja(t,e))}function Ed(n,e){const t=Ba(n),r=Ba(e);if(t!==r)return Pt(t,r);switch(t){case 0:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const h=gr(a.integerValue||a.doubleValue),y=gr(l.integerValue||l.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1}(n,e);case 3:return uf(n.timestampValue,e.timestampValue);case 4:return uf(m_(n),m_(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(a,l){const h=vd(a),y=vd(l);return h.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),y=l.split("/");for(let E=0;E<h.length&&E<y.length;E++){const T=Pt(h[E],y[E]);if(0!==T)return T}return Pt(h.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const h=Pt(gr(a.latitude),gr(l.latitude));return 0!==h?h:Pt(gr(a.longitude),gr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],y=l.values||[];for(let E=0;E<h.length&&E<y.length;++E){const T=Ed(h[E],y[E]);if(T)return T}return Pt(h.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const h=a.fields||{},y=Object.keys(h),E=l.fields||{},T=Object.keys(E);y.sort(),T.sort();for(let N=0;N<y.length&&N<T.length;++N){const x=Pt(y[N],T[N]);if(0!==x)return x;const j=Ed(h[y[N]],E[T[N]]);if(0!==j)return j}return Pt(y.length,T.length)}(n.mapValue,e.mapValue);default:throw et()}}function uf(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=ku(n),r=ku(e),a=Pt(t.seconds,r.seconds);return 0!==a?a:Pt(t.nanos,r.nanos)}function yw(n){return _w(n)}function _w(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=ku(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vd(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const h of r.values||[])l?l=!1:a+=",",a+=_w(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const y of a)h?h=!1:l+=",",l+=`${y}:${_w(r.fields[y])}`;return l+"}"}(n.mapValue):et();var e}function y_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vw(n){return!!n&&"integerValue"in n}function Ew(n){return!!n&&"arrayValue"in n}function ww(n){return!!n&&"nullValue"in n}function UI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function __(n){return!!n&&"mapValue"in n}function $a(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$a(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$a(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Di{constructor(e){this.value=e}static empty(){return new Di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!__(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(t)}setAll(e){let t=oi.emptyPath(),r={},a=[];e.forEach((h,y)=>{if(!t.isImmediateParentOf(y)){const E=this.getFieldsMap(t);this.applyChanges(E,r,a),r={},a=[],t=y.popLast()}h?r[y.lastSegment()]=$a(h):a.push(y.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());__(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];__(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Wl(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Di($a(this.value))}}function bw(n){const e=[];return Wl(n.fields,(t,r)=>{const a=new oi([t]);if(__(r)){const l=bw(r.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new of(e)}class Pn{constructor(e,t,r,a,l){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Pn(e,0,Ct.min(),Di.empty(),0)}static newFoundDocument(e,t,r){return new Pn(e,1,t,r,0)}static newNoDocument(e,t){return new Pn(e,2,t,Di.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Di.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Pn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class BI{constructor(e,t=null,r=[],a=[],l=null,h=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=y,this.A=null}}function jI(n,e=null,t=[],r=[],a=null,l=null,h=null){return new BI(n,e,t,r,a,l,h)}function lf(n){const e=$e(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+yw(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=w_(e.startAt)),e.endAt&&(t+="|ub:",t+=w_(e.endAt)),e.A=t}return e.A}function cf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!tN(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!ja(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qI(n.startAt,e.startAt)&&qI(n.endAt,e.endAt)}function v_(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ai extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new ZS(e,t,r):"array-contains"===t?new JS(e,r):"in"===t?new HI(e,r):"not-in"===t?new XS(e,r):"array-contains-any"===t?new eN(e,r):new Ai(e,t,r)}static R(e,t,r){return"in"===t?new YS(e,r):new QS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Ed(t,this.value)):null!==t&&Ba(this.value)===Ba(t)&&this.P(Ed(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ZS extends Ai{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.P(t)}}class YS extends Ai{constructor(e,t){super(e,"in",t),this.keys=E_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QS extends Ai{constructor(e,t){super(e,"not-in",t),this.keys=E_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function E_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class JS extends Ai{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ew(t)&&Eg(t.arrayValue,this.value)}}class HI extends Ai{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eg(this.value.arrayValue,t)}}class XS extends Ai{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eg(this.value.arrayValue,t)}}class eN extends Ai{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ew(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Eg(this.value.arrayValue,r))}}class wg{constructor(e,t){this.position=e,this.before=t}}function w_(n){return`${n.before?"b":"a"}:${n.position.map(e=>yw(e)).join(",")}`}class df{constructor(e,t="asc"){this.field=e,this.dir=t}}function tN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function GI(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(r=l.field.isKeyField()?tt.comparator(tt.fromName(h.referenceValue),t.key):Ed(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function qI(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ja(n.position[t],e.position[t]))return!1;return!0}class Ha{constructor(e,t=null,r=[],a=[],l=null,h="F",y=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=y,this.endAt=E,this.V=null,this.S=null}}function Cw(n,e,t,r,a,l,h,y){return new Ha(n,e,t,r,a,l,h,y)}function hf(n){return new Ha(n)}function b_(n){return!af(n.limit)&&"F"===n.limitType}function bg(n){return!af(n.limit)&&"L"===n.limitType}function Iw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tw(n){for(const e of n.filters)if(e.v())return e.field;return null}function Dw(n){return null!==n.collectionGroup}function Kl(n){const e=$e(n);if(null===e.V){e.V=[];const t=Tw(e),r=Iw(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new df(t)),e.V.push(new df(oi.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new df(oi.keyField(),l))}}}return e.V}function hs(n){const e=$e(n);if(!e.S)if("F"===e.limitType)e.S=jI(e.path,e.collectionGroup,Kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Kl(e))t.push(new df(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new wg(e.endAt.position,!e.endAt.before):null,a=e.startAt?new wg(e.startAt.position,!e.startAt.before):null;e.S=jI(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.S}function Aw(n,e,t){return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wd(n,e){return cf(hs(n),hs(e))&&n.limitType===e.limitType}function zI(n){return`${lf(hs(n))}|lt:${n.limitType}`}function Sw(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${yw(r.value)}`;var r}).join(", ")}]`),af(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+w_(n.startAt)),n.endAt&&(e+=", endAt: "+w_(n.endAt)),`Target(${e})`}(hs(n))}; limitType=${n.limitType})`}function bd(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!GI(t.startAt,Kl(t),r)||t.endAt&&GI(t.endAt,Kl(t),r)));var t,r}function WI(n){return(e,t)=>{let r=!1;for(const a of Kl(n)){const l=KI(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function KI(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(a,l,h){const y=l.data.field(a),E=h.data.field(a);return null!==y&&null!==E?Ed(y,E):et()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}function ZI(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mw(e)?"-0":e}}function Nw(n){return{integerValue:""+n}}function Rw(n,e){return WS(e)?Nw(e):ZI(n,e)}class Cg{constructor(){this._=void 0}}function sM(n,e,t){return n instanceof Ig?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Fu?Tg(n,e):n instanceof Id?Td(n,e):function(r,a){const l=Cd(r,a),h=rN(l)+rN(r.C);return vw(l)&&vw(r.C)?Nw(h):ZI(r.N,h)}(n,e)}function nN(n,e,t){return n instanceof Fu?Tg(n,e):n instanceof Id?Td(n,e):t}function Cd(n,e){return n instanceof ff?vw(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ig extends Cg{}class Fu extends Cg{constructor(e){super(),this.elements=e}}function Tg(n,e){const t=YI(e);for(const r of n.elements)t.some(a=>ja(a,r))||t.push(r);return{arrayValue:{values:t}}}class Id extends Cg{constructor(e){super(),this.elements=e}}function Td(n,e){let t=YI(e);for(const r of n.elements)t=t.filter(a=>!ja(a,r));return{arrayValue:{values:t}}}class ff extends Cg{constructor(e,t){super(),this.N=e,this.C=t}}function rN(n){return gr(n.integerValue||n.doubleValue)}function YI(n){return Ew(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fs{constructor(e,t){this.field=e,this.transform=t}}class oM{constructor(e,t){this.version=e,this.transformResults=t}}class Un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function C_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class I_{}function aM(n,e,t){n instanceof pf?function(r,a,l){const h=r.value.clone(),y=XI(r.fieldTransforms,a,l.transformResults);h.setAll(y),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ga?function(r,a,l){if(!C_(r.precondition,a))return void a.convertToUnknownDocument(l.version);const h=XI(r.fieldTransforms,a,l.transformResults),y=a.data;y.setAll(Mw(r)),y.setAll(h),a.convertToFoundDocument(l.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xw(n,e,t){var a;n instanceof pf?function(r,a,l){if(!C_(r.precondition,a))return;const h=r.value.clone(),y=sN(r.fieldTransforms,l,a);h.setAll(y),a.convertToFoundDocument(T_(a),h).setHasLocalMutations()}(n,e,t):n instanceof Ga?function(r,a,l){if(!C_(r.precondition,a))return;const h=sN(r.fieldTransforms,l,a),y=a.data;y.setAll(Mw(r)),y.setAll(h),a.convertToFoundDocument(T_(a),y).setHasLocalMutations()}(n,e,t):C_(n.precondition,a=e)&&a.convertToNoDocument(Ct.min())}function iN(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=Cd(r.transform,a||null);null!=l&&(null==t&&(t=Di.empty()),t.set(r.field,l))}return t||null}function JI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sf(t,r,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fu&&r instanceof Fu||t instanceof Id&&r instanceof Id?sf(t.elements,r.elements,ja):t instanceof ff&&r instanceof ff?ja(t.C,r.C):t instanceof Ig&&r instanceof Ig);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function T_(n){return n.isFoundDocument()?n.version:Ct.min()}class pf extends I_{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class Ga extends I_{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}}function Mw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function XI(n,e,t){const r=new Map;mt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,y=e.data.field(l.field);r.set(l.field,nN(h,y,t[a]))}return r}function sN(n,e,t){const r=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);r.set(a.field,sM(l,h,e))}return r}class Dg extends I_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ow extends I_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class oN{constructor(e){this.count=e}}var ir,jt;function Pw(n){switch(n){default:return et();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function eT(n){if(void 0===n)return pr("GRPC error has no .code"),oe.UNKNOWN;switch(n){case ir.OK:return oe.OK;case ir.CANCELLED:return oe.CANCELLED;case ir.UNKNOWN:return oe.UNKNOWN;case ir.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case ir.INTERNAL:return oe.INTERNAL;case ir.UNAVAILABLE:return oe.UNAVAILABLE;case ir.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case ir.NOT_FOUND:return oe.NOT_FOUND;case ir.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case ir.ABORTED:return oe.ABORTED;case ir.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case ir.DATA_LOSS:return oe.DATA_LOSS;default:return et()}}(jt=ir||(ir={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";class kr{constructor(e,t){this.comparator=e,this.root=t||mr.EMPTY}insert(e,t){return new kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ag(this.root,e,this.comparator,!0)}}class Ag{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=null!=r?r:mr.RED,this.left=null!=a?a:mr.EMPTY,this.right=null!=l?l:mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new mr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return mr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1,mr.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(n,e,t,r,a){return this}insert(n,e,t){return new mr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kw(this.data.getIterator())}getIteratorFrom(e){return new kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gn(this.comparator);return t.data=e,t}}class kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const D_=new kr(tt.comparator);function Wi(){return D_}const Sg=new kr(tt.comparator);function Fw(){return Sg}const aN=new kr(tt.comparator);function uN(){return aN}const lN=new Gn(tt.comparator);function an(...n){let e=lN;for(const t of n)e=e.add(t);return e}const cN=new Gn(Pt);function A_(){return cN}class Ng{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Rg.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ng(Ct.min(),r,A_(),Wi(),an())}}class Rg{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Rg(Pr.EMPTY_BYTE_STRING,t,an(),an(),an())}}class S_{constructor(e,t,r,a){this.k=e,this.removedTargetIds=t,this.key=r,this.$=a}}class tT{constructor(e,t){this.targetId=e,this.O=t}}class nT{constructor(e,t,r=Pr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class dN{constructor(){this.F=0,this.M=rT(),this.L=Pr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=an(),t=an(),r=an();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:et()}}),new Rg(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=rT()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class hN{constructor(e){this.tt=e,this.et=new Map,this.nt=Wi(),this.st=gf(),this.it=new Gn(Pt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,r=e.O.count,a=this.dt(t);if(a){const l=a.target;if(v_(l))if(0===r){const h=new tt(l.path);this.ct(t,h,Pn.newNoDocument(h,Ct.min()))}else mt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,h)=>{const y=this.dt(h);if(y){if(l.current&&v_(y.target)){const E=new tt(y.target.path);null!==this.nt.get(E)||this.gt(h,E)||this.ct(h,E,Pn.newNoDocument(E,e))}l.K&&(t.set(h,l.W()),l.G())}});let r=an();this.st.forEach((l,h)=>{let y=!0;h.forEachWhile(E=>{const T=this.dt(E);return!T||2===T.purpose||(y=!1,!1)}),y&&(r=r.add(l))});const a=new Ng(e,t,this.it,this.nt,r);return this.nt=Wi(),this.st=gf(),this.it=new Gn(Pt),a}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new dN,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Gn(Pt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new dN),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function gf(){return new kr(tt.comparator)}function rT(){return new kr(tt.comparator)}const fN={asc:"ASCENDING",desc:"DESCENDING"},pN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class N_{constructor(e,t){this.databaseId=e,this.D=t}}function Go(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lw(n,e){return n.D?e.toBase64():e.toUint8Array()}function gN(n,e){return Go(n,e.toTimestamp())}function ai(n){return mt(!!n),Ct.fromTimestamp(function(e){const t=ku(e);return new Gr(t.seconds,t.nanos)}(n))}function Vw(n,e){return(t=n,new Bt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xg(n){const e=Bt.fromString(n);return mt(Hw(e)),e}function Mg(n,e){return Vw(n.databaseId,e.path)}function qa(n,e){const t=xg(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(Bw(t))}function R_(n,e){return Vw(n.databaseId,e)}function Uw(n){const e=xg(n);return 4===e.length?Bt.emptyPath():Bw(e)}function Dd(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bw(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jw(n,e,t){return{name:Mg(n,e),fields:t.value.mapValue.fields}}function iT(n,e,t){const r=qa(n,e.name),a=ai(e.updateTime),l=new Di({mapValue:{fields:e.fields}}),h=Pn.newFoundDocument(r,a,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function x_(n,e){let t;if(e instanceof pf)t={update:jw(n,e.key,e.value)};else if(e instanceof Dg)t={delete:Mg(n,e.key)};else if(e instanceof Ga)t={update:jw(n,e.key,e.data),updateMask:oT(e.fieldMask)};else{if(!(e instanceof Ow))return et();t={verify:Mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof Ig)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Id)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ff)return{fieldPath:l.field.canonicalString(),increment:h.C};throw et()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:gN(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:et()),t;var a}function $w(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Un.updateTime(ai(a.updateTime)):void 0!==a.exists?Un.exists(a.exists):Un.none():Un.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(l,h){let y=null;"setToServerValue"in h?(mt("REQUEST_TIME"===h.setToServerValue),y=new Ig):"appendMissingElements"in h?y=new Fu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?y=new Id(h.removeAllFromArray.values||[]):"increment"in h?y=new ff(l,h.increment):et();const E=oi.fromServerFormat(h.fieldPath);return new fs(E,y)}(n,a)):[];var a;if(e.update){const a=qa(n,e.update.name),l=new Di({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new of((e.updateMask.fieldPaths||[]).map(T=>oi.fromServerFormat(T)));return new Ga(a,l,h,t,r)}return new pf(a,l,t,r)}if(e.delete){const a=qa(n,e.delete);return new Dg(a,t)}if(e.verify){const a=qa(n,e.verify);return new Ow(a,t)}return et()}function Og(n,e){return{documents:[R_(n,e.path)]}}function yN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=R_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=R_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(y){if(0===y.length)return;const E=y.map(T=>function(N){if("=="===N.op){if(UI(N.value))return{unaryFilter:{field:ui(N.field),op:"IS_NAN"}};if(ww(N.value))return{unaryFilter:{field:ui(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(UI(N.value))return{unaryFilter:{field:ui(N.field),op:"IS_NOT_NAN"}};if(ww(N.value))return{unaryFilter:{field:ui(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ui(N.field),op:It(N.op),value:N.value}}}(T));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(y){if(0!==y.length)return y.map(E=>{return{field:ui((T=E).field),direction:uM(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(E=e.limit,n.D||af(E)?E:{value:E});var E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=Ad(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Ad(e.endAt)),t}function mf(n){let e=Uw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){mt(1===r);const N=t.from[0];N.allDescendants?a=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=Lu(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new df(Zl((x=N).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let y=null;t.limit&&(y=function(N){let x;return x="object"==typeof N?N.value:N,af(x)?null:x}(t.limit));let E=null;t.startAt&&(E=yf(t.startAt));let T=null;return t.endAt&&(T=yf(t.endAt)),Cw(e,a,h,l,y,"F",E,T)}function Lu(n){return n?void 0!==n.unaryFilter?[lM(n)]:void 0!==n.fieldFilter?[Sd(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Lu(e)).reduce((e,t)=>e.concat(t)):et():[]}function Ad(n){return{before:n.before,values:n.position}}function yf(n){return new wg(n.values||[],!!n.before)}function uM(n){return fN[n]}function It(n){return pN[n]}function ui(n){return{fieldPath:n.canonicalString()}}function Zl(n){return oi.fromServerFormat(n.fieldPath)}function Sd(n){return Ai.create(Zl(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(n.fieldFilter.op),n.fieldFilter.value)}function lM(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Zl(n.unaryFilter.field);return Ai.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Zl(n.unaryFilter.field);return Ai.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zl(n.unaryFilter.field);return Ai.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zl(n.unaryFilter.field);return Ai.create(a,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function oT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Hw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function za(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aT(e)),e=_N(n.get(t),e);return aT(e)}function _N(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function aT(n){return n+"\x01\x01"}function yr(n){const e=n.length;if(mt(e>=2),2===e)return mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Bt.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&et(),n.charAt(h+1)){case"\x01":const y=n.substring(l,h);let E;0===a.length?E=y:(a+=y,E=a,a=""),r.push(E);break;case"\x10":a+=n.substring(l,h),a+="\0";break;case"\x11":a+=n.substring(l,h+1);break;default:et()}l=h+2}return new Bt(r)}class Bn{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class jn{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}jn.store="owner",jn.key="owner";class Vu{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Vu.store="mutationQueues",Vu.keyPath="userId";class Nn{constructor(e,t,r,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=l}}Nn.store="mutations",Nn.keyPath="batchId",Nn.userMutationsIndex="userMutationsIndex",Nn.userMutationsKeyPath=["userId","batchId"];class li{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,za(t)]}static key(e,t,r){return[e,za(t),r]}}li.store="documentMutations",li.PLACEHOLDER=new li;class Gw{constructor(e,t){this.path=e,this.readTime=t}}class _f{constructor(e,t){this.path=e,this.version=t}}class In{constructor(e,t,r,a,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}In.store="remoteDocuments",In.readTimeIndex="readTimeIndex",In.readTimeIndexPath="readTime",In.collectionReadTimeIndex="collectionReadTimeIndex",In.collectionReadTimeIndexPath=["parentPath","readTime"];class Wa{constructor(e){this.byteSize=e}}Wa.store="remoteDocumentGlobal",Wa.key="remoteDocumentGlobalKey";class _r{constructor(e,t,r,a,l,h,y){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=y}}_r.store="targets",_r.keyPath="targetId",_r.queryTargetsIndexName="queryTargetsIndex",_r.queryTargetsKeyPath=["canonicalId","targetId"];class ci{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}ci.store="targetDocuments",ci.keyPath=["targetId","path"],ci.documentTargetsIndex="documentTargetsIndex",ci.documentTargetsKeyPath=["path","targetId"];class ps{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}ps.key="targetGlobalKey",ps.store="targetGlobal";class Uu{constructor(e,t){this.collectionId=e,this.parent=t}}Uu.store="collectionParents",Uu.keyPath=["collectionId","parent"];class ks{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}ks.store="clientMetadata",ks.keyPath="clientId";class Yl{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Yl.store="bundles",Yl.keyPath="bundleId";class Nd{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Nd.store="namedQueries",Nd.keyPath="name";const vf=[Vu.store,Nn.store,li.store,In.store,_r.store,jn.store,ps.store,ci.store,ks.store,Wa.store,Uu.store,Yl.store,Nd.store],uT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,r)=>{t(e)})}static reject(e){return new Oe((t,r)=>{r(e)})}static waitFor(e){return new Oe((t,r)=>{let a=0,l=0,h=!1;e.forEach(y=>{++a,y.next(()=>{++l,h&&l===a&&t()},E=>r(E))}),h=!0,l===a&&t()})}static or(e){let t=Oe.resolve(!1);for(const r of e)t=t.next(a=>a?Oe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}}class kg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Or,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Fg(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const a=yt(r.target.error);this.Et.reject(new Fg(e,a))}}static open(e,t,r,a){try{return new kg(t,e.transaction(a,r))}catch(l){throw new Fg(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new qw(t)}}class ro{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===ro.Rt((0,Vt.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ee("SimpleDb","Removing database:",e),Ef(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Vt.hl)())return!1;if(ro.Pt())return!0;const e=(0,Vt.z$)(),t=ro.Rt(e),r=0<t&&t<10,a=ro.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,Te.Z)(function*(){return t.db||(Ee("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{a(new Fg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const y=h.target.error;a("VersionError"===y.name?new ke(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new ke(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new Fg(e,y))},l.onupgradeneeded=h=>{Ee("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Ee("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var l=this;return(0,Te.Z)(function*(){const h="readonly"===t;let y=0;for(;;){++y;try{l.db=yield l.Dt(e);const E=kg.open(l.db,e,h?"readonly":"readwrite",r),T=a(E).catch(N=>(E.abort(N),Oe.reject(N))).toPromise();return T.catch(()=>{}),yield E.It,T}catch(E){const T="FirebaseError"!==E.name&&y<3;if(Ee("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),l.close(),!T)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class O_{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Ef(this.kt.delete())}}class Fg extends ke{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bu(n){return"IndexedDbTransactionError"===n.name}class qw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ee("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ef(r)}add(e){return Ee("SimpleDb","ADD",this.store.name,e,e),Ef(this.store.add(e))}get(e){return Ef(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ee("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ee("SimpleDb","DELETE",this.store.name,e),Ef(this.store.delete(e))}count(){return Ee("SimpleDb","COUNT",this.store.name),Ef(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Bt(r,(l,h)=>{a.push(h)}).next(()=>a)}Ut(e,t){Ee("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const a=this.cursor(r);return this.Bt(a,(l,h,y)=>y.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Oe((r,a)=>{t.onerror=l=>{const h=yt(l.target.error);a(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(y=>{y?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Oe((a,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const y=h.target.result;if(!y)return void a();const E=new O_(y),T=t(y.primaryKey,y.value,E);if(T instanceof Oe){const N=T.catch(x=>(E.done(),Oe.reject(x)));r.push(N)}E.isDone?a():null===E.Ft?y.continue():y.continue(E.Ft)}}).next(()=>Oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ef(n){return new Oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=yt(r.target.error);t(a)}})}let vN=!1;function yt(n){const e=ro.Rt((0,Vt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vN||(vN=!0,setTimeout(()=>{throw r},0)),r}}return n}class EN extends Pg{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function qr(n,e){const t=$e(n);return ro.St(t.Qt,e)}class zw{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&aM(l,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&xw(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&xw(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,(t,r)=>JI(t,r))&&sf(this.baseMutations,e.baseMutations,(t,r)=>JI(t,r))}}class Ww{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){mt(e.mutations.length===r.length);let a=uN();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new Ww(e,t,r,a)}}class Ql{constructor(e,t,r,a,l=Ct.min(),h=Ct.min(),y=Pr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=y}withSequenceNumber(e){return new Ql(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wN{constructor(e){this.Wt=e}}function lT(n,e){if(e.document)return iT(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=tt.fromSegments(e.noDocument.path),r=Jl(e.noDocument.readTime),a=Pn.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=tt.fromSegments(e.unknownDocument.path),r=Jl(e.unknownDocument.version);return Pn.newUnknownDocument(t,r)}return et()}function cT(n,e,t){const r=zr(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Mg(y=n.Wt,(E=e).key),fields:E.data.value.mapValue.fields,updateTime:Go(y,E.version.toTimestamp())};return new In(null,null,l,e.hasCommittedMutations,r,a)}var y,E;if(e.isNoDocument()){const l=e.key.path.toArray(),h=wf(e.version),y=e.hasCommittedMutations;return new In(null,new Gw(l,h),null,y,r,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=wf(e.version);return new In(new _f(l,h),null,null,!0,r,a)}return et()}function zr(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function dT(n){const e=new Gr(n[0],n[1]);return Ct.fromTimestamp(e)}function wf(n){const e=n.toTimestamp();return new Bn(e.seconds,e.nanoseconds)}function Jl(n){const e=new Gr(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function bf(n,e){const t=(e.baseMutations||[]).map(l=>$w(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>$w(n.Wt,l)),a=Gr.fromMillis(e.localWriteTimeMs);return new zw(e.batchId,a,t,r)}function Lg(n){const e=Jl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jl(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var a;return void 0!==n.query.documents?(mt(1===(a=n.query).documents.length),r=hs(hf(Uw(a.documents[0])))):r=hs(mf(n.query)),new Ql(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Pr.fromBase64String(n.resumeToken))}function hT(n,e){const t=wf(e.snapshotVersion),r=wf(e.lastLimboFreeSnapshotVersion);let a;a=v_(e.target)?Og(n.Wt,e.target):yN(n.Wt,e.target);const l=e.resumeToken.toBase64();return new _r(e.targetId,lf(e.target),t,l,e.sequenceNumber,r,a)}function Kw(n){const e=mf({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Aw(e,e.limit,"L"):e}class bN{getBundleMetadata(e,t){return fT(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Jl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return fT(e).put({bundleId:(r=t).id,createTime:wf(ai(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return P_(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:Kw(a.bundledQuery),readTime:Jl(a.readTime)};var a})}saveNamedQuery(e,t){return P_(e).put({name:(r=t).name,readTime:wf(ai(r.readTime)),bundledQuery:r.bundledQuery});var r}}function fT(n){return qr(n,Yl.store)}function P_(n){return qr(n,Nd.store)}class CN{constructor(){this.Gt=new Zw}addToCollectionParentIndex(e,t){return this.Gt.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.Gt.getEntries(t))}}class Zw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Gn(Bt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Gn(Bt.comparator)).toArray()}}class pT{constructor(){this.zt=new Zw}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:r,parent:za(a)};return k_(e).put(l)}return Oe.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[FI(t),""],!1,!0);return k_(e).Lt(a).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(yr(h.parent))}return r})}}function k_(n){return qr(n,Uu.store)}const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fs(e,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mT(n,e,t){const r=n.store(Nn.store),a=n.store(li.store),l=[],h=IDBKeyRange.only(t.batchId);let y=0;const E=r.Kt({range:h},(N,x,j)=>(y++,j.delete()));l.push(E.next(()=>{mt(1===y)}));const T=[];for(const N of t.mutations){const x=li.key(e,N.key.path,t.batchId);l.push(a.delete(x)),T.push(N.key)}return Oe.waitFor(l).next(()=>T)}function F_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw et();e=n.noDocument}return JSON.stringify(e).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class Yw{constructor(e,t,r,a){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,r,a){mt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Yw(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).Kt({index:Nn.userMutationsIndex,range:r},(a,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const l=Cf(e),h=Xl(e);return h.add({}).next(y=>{mt("number"==typeof y);const E=new zw(y,t,r,a),T=function(j,H,te){const Ie=te.baseMutations.map(it=>x_(j.Wt,it)),Fe=te.mutations.map(it=>x_(j.Wt,it));return new Nn(H,te.batchId,te.localWriteTime.toMillis(),Ie,Fe)}(this.N,this.userId,E),N=[];let x=new Gn((j,H)=>Pt(j.canonicalString(),H.canonicalString()));for(const j of a){const H=li.key(this.userId,j.key.path,y);x=x.add(j.key.path.popLast()),N.push(h.put(T)),N.push(l.put(H,li.PLACEHOLDER))}return x.forEach(j=>{N.push(this.Ht.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Jt[y]=E.keys()}),Oe.waitFor(N).next(()=>E)})}lookupMutationBatch(e,t){return Xl(e).get(t).next(r=>r?(mt(r.userId===this.userId),bf(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Oe.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Xl(e).Kt({index:Nn.userMutationsIndex,range:a},(h,y,E)=>{y.userId===this.userId&&(mt(y.batchId>=r),l=bf(this.N,y)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Xl(e).Kt({index:Nn.userMutationsIndex,range:t,reverse:!0},(a,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).Lt(Nn.userMutationsIndex,t).next(r=>r.map(a=>bf(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=li.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Cf(e).Kt({range:a},(h,y,E)=>{const[T,N,x]=h,j=yr(N);if(T===this.userId&&t.path.isEqual(j))return Xl(e).get(x).next(H=>{if(!H)throw et();mt(H.userId===this.userId),l.push(bf(this.N,H))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(Pt);const a=[];return t.forEach(l=>{const h=li.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(h),E=Cf(e).Kt({range:y},(T,N,x)=>{const[j,H,te]=T,Ie=yr(H);j===this.userId&&l.path.isEqual(Ie)?r=r.add(te):x.done()});a.push(E)}),Oe.waitFor(a).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=li.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let y=new Gn(Pt);return Cf(e).Kt({range:h},(E,T,N)=>{const[x,j,H]=E,te=yr(j);x===this.userId&&r.isPrefixOf(te)?te.length===a&&(y=y.add(H)):N.done()}).next(()=>this.Zt(e,y))}Zt(e,t){const r=[],a=[];return t.forEach(l=>{a.push(Xl(e).get(l).next(h=>{if(null===h)throw et();mt(h.userId===this.userId),r.push(bf(this.N,h))}))}),Oe.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return mT(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Oe.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Oe.resolve();const r=IDBKeyRange.lowerBound(li.prefixForUser(this.userId)),a=[];return Cf(e).Kt({range:r},(l,h,y)=>{if(l[0]===this.userId){const E=yr(l[1]);a.push(E)}else y.done()}).next(()=>{mt(0===a.length)})})}containsKey(e,t){return yT(e,this.userId,t)}ee(e){return If(e).get(this.userId).next(t=>t||new Vu(this.userId,-1,""))}}function yT(n,e,t){const r=li.prefixForPath(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Cf(n).Kt({range:l,qt:!0},(y,E,T)=>{const[N,x,j]=y;N===e&&x===a&&(h=!0),T.done()}).next(()=>h)}function Xl(n){return qr(n,Nn.store)}function Cf(n){return qr(n,li.store)}function If(n){return qr(n,Vu.store)}class Rd{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Rd(0)}static ie(){return new Rd(-1)}}class IN{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new Rd(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Ct.fromTimestamp(new Gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xd(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(mt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let a=0;const l=[];return xd(e).Kt((h,y)=>{const E=Lg(y);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(a++,l.push(this.removeTargetData(e,E)))}).next(()=>Oe.waitFor(l)).next(()=>a)}forEachTarget(e,t){return xd(e).Kt((r,a)=>{const l=Lg(a);t(l)})}re(e){return Tf(e).get(ps.key).next(t=>(mt(null!==t),t))}oe(e,t){return Tf(e).put(ps.key,t)}ce(e,t){return xd(e).put(hT(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=lf(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return xd(e).Kt({range:a,index:_r.queryTargetsIndexName},(h,y,E)=>{const T=Lg(y);cf(t,T.target)&&(l=T,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const a=[],l=Md(e);return t.forEach(h=>{const y=za(h.path);a.push(l.put(new ci(r,y))),a.push(this.referenceDelegate.addReference(e,r,h))}),Oe.waitFor(a)}removeMatchingKeys(e,t,r){const a=Md(e);return Oe.forEach(t,l=>{const h=za(l.path);return Oe.waitFor([a.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Md(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Md(e);let l=an();return a.Kt({range:r,qt:!0},(h,y,E)=>{const T=yr(h[1]),N=new tt(T);l=l.add(N)}).next(()=>l)}containsKey(e,t){const r=za(t.path),a=IDBKeyRange.bound([r],[FI(r)],!1,!0);let l=0;return Md(e).Kt({index:ci.documentTargetsIndex,qt:!0,range:a},([h,y],E,T)=>{0!==h&&(l++,T.done())}).next(()=>l>0)}Tt(e,t){return xd(e).get(t).next(r=>r?Lg(r):null)}}function xd(n){return qr(n,_r.store)}function Tf(n){return qr(n,ps.store)}function Md(n){return qr(n,ci.store)}function ec(n){return Qw.apply(this,arguments)}function Qw(){return(Qw=(0,Te.Z)(function*(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==uT)throw n;Ee("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function _T([n,e],[t,r]){const a=Pt(n,t);return 0===a?Pt(e,r):a}class TN{constructor(e){this.ue=e,this.buffer=new Gn(_T),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_T(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DN{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Ee("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Te.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Bu(a)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield ec(a)}yield t._e(e)}))}}class AN{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Oe.resolve(Ps.T);const r=new TN(t);return this.me.forEachTarget(e,a=>r.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>r.fe(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(gT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,a,l,h,y,E,T;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,h=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(r=x,y=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(T=Date.now(),f_()<=Ru.in.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${a} in `+(y-h)+`ms\n\tRemoved ${l} targets in `+(E-y)+`ms\n\tRemoved ${x} documents in `+(T-E)+`ms\nTotal Duration: ${T-N}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x})))}}class vT{constructor(e,t){this.db=e,this.garbageCollector=new AN(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,a)=>t(a))}addReference(e,t,r){return L_(e,r)}removeReference(e,t,r){return L_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return L_(e,t)}Ie(e,t){return function(r,a){let l=!1;return If(r).jt(h=>yT(r,h,a).next(y=>(y&&(l=!0),Oe.resolve(!y)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(h,y)=>{if(y<=t){const E=this.Ie(e,h).next(T=>{if(!T)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Md(e).delete([0,za(h.path)])))});a.push(E)}}).next(()=>Oe.waitFor(a)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return L_(e,t)}Ee(e,t){const r=Md(e);let a,l=Ps.T;return r.Kt({index:ci.documentTargetsIndex},([h,y],{path:E,sequenceNumber:T})=>{0===h?(l!==Ps.T&&t(new tt(yr(a)),l),l=T,a=E):l=Ps.T}).next(()=>{l!==Ps.T&&t(new tt(yr(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function L_(n,e){return Md(n).put((r=n.currentSequenceNumber,new ci(0,za(e.path),r)));var r}class Df{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){Wl(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return pw(this.inner)}}class SN{constructor(){this.changes=new Df(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ct.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Pn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Oe.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cM{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return tc(e).put(U_(t),r)}removeEntry(e,t){const r=tc(e),a=U_(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return tc(e).get(U_(t)).next(r=>this.Re(t,r))}be(e,t){return tc(e).get(U_(t)).next(r=>({document:this.Re(t,r),size:F_(r)}))}getEntries(e,t){let r=Wi();return this.Pe(e,t,(a,l)=>{const h=this.Re(a,l);r=r.insert(a,h)}).next(()=>r)}ve(e,t){let r=Wi(),a=new kr(tt.comparator);return this.Pe(e,t,(l,h)=>{const y=this.Re(l,h);r=r.insert(l,y),a=a.insert(l,F_(h))}).next(()=>({documents:r,Ve:a}))}Pe(e,t,r){if(t.isEmpty())return Oe.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return tc(e).Kt({range:a},(y,E,T)=>{const N=tt.fromSegments(y);for(;h&&tt.comparator(h,N)<0;)r(h,null),h=l.getNext();h&&h.isEqual(N)&&(r(h,E),h=l.hasNext()?l.getNext():null),h?T.Mt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=Wi();const l=t.path.length+1,h={};if(r.isEqual(Ct.min())){const y=t.path.toArray();h.range=IDBKeyRange.lowerBound(y)}else{const y=t.path.toArray(),E=zr(r);h.range=IDBKeyRange.lowerBound([y,E],!0),h.index=In.collectionReadTimeIndex}return tc(e).Kt(h,(y,E,T)=>{if(y.length!==l)return;const N=lT(this.N,E);t.path.isPrefixOf(N.key.path)?bd(t,N)&&(a=a.insert(N.key,N)):T.done()}).next(()=>a)}newChangeBuffer(e){return new dM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return V_(e).get(Wa.key).next(t=>(mt(!!t),t))}Ae(e,t){return V_(e).put(Wa.key,t)}Re(e,t){if(t){const r=lT(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return Pn.newInvalidDocument(e)}}class dM extends SN{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Df(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new Gn((l,h)=>Pt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const y=this.De.get(l);if(h.document.isValidDocument()){const E=cT(this.Se.N,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),r+=F_(E)-y,t.push(this.Se.addEntry(e,l,E))}else if(r-=y,this.trackRemovals){const E=cT(this.Se.N,Pn.newNoDocument(l,Ct.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,E))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,r)),Oe.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:a})=>(a.forEach((l,h)=>{this.De.set(l,h)}),r))}}function V_(n){return qr(n,Wa.store)}function tc(n){return qr(n,In.store)}function U_(n){return n.path.toArray()}class NN{constructor(e){this.N=e}Ct(e,t,r,a){mt(r<a&&r>=0&&a<=11);const l=new kg("createOrUpgrade",t);var y;r<1&&a>=1&&(e.createObjectStore(jn.store),(y=e).createObjectStore(Vu.store,{keyPath:Vu.keyPath}),y.createObjectStore(Nn.store,{keyPath:Nn.keyPath,autoIncrement:!0}).createIndex(Nn.userMutationsIndex,Nn.userMutationsKeyPath,{unique:!0}),y.createObjectStore(li.store),ET(e),function(y){y.createObjectStore(In.store)}(e));let h=Oe.resolve();return r<3&&a>=3&&(0!==r&&(function(y){y.deleteObjectStore(ci.store),y.deleteObjectStore(_r.store),y.deleteObjectStore(ps.store)}(e),ET(e)),h=h.next(()=>function(y){const E=y.store(ps.store),T=new ps(0,0,Ct.min().toTimestamp(),0);return E.put(ps.key,T)}(l))),r<4&&a>=4&&(0!==r&&(h=h.next(()=>function(y,E){return E.store(Nn.store).Lt().next(T=>{y.deleteObjectStore(Nn.store),y.createObjectStore(Nn.store,{keyPath:Nn.keyPath,autoIncrement:!0}).createIndex(Nn.userMutationsIndex,Nn.userMutationsKeyPath,{unique:!0});const N=E.store(Nn.store),x=T.map(j=>N.put(j));return Oe.waitFor(x)})}(e,l))),h=h.next(()=>{!function(y){y.createObjectStore(ks.store,{keyPath:ks.keyPath})}(e)})),r<5&&a>=5&&(h=h.next(()=>this.Ce(l))),r<6&&a>=6&&(h=h.next(()=>(function(y){y.createObjectStore(Wa.store)}(e),this.Ne(l)))),r<7&&a>=7&&(h=h.next(()=>this.xe(l))),r<8&&a>=8&&(h=h.next(()=>this.ke(e,l))),r<9&&a>=9&&(h=h.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const E=y.objectStore(In.store);E.createIndex(In.readTimeIndex,In.readTimeIndexPath,{unique:!1}),E.createIndex(In.collectionReadTimeIndex,In.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(h=h.next(()=>this.$e(l))),r<11&&a>=11&&(h=h.next(()=>{(function(y){y.createObjectStore(Yl.store,{keyPath:Yl.keyPath})})(e),function(y){y.createObjectStore(Nd.store,{keyPath:Nd.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(In.store).Kt((r,a)=>{t+=F_(a)}).next(()=>{const r=new Wa(t);return e.store(Wa.store).put(Wa.key,r)})}Ce(e){const t=e.store(Vu.store),r=e.store(Nn.store);return t.Lt().next(a=>Oe.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Lt(Nn.userMutationsIndex,h).next(y=>Oe.forEach(y,E=>{mt(E.userId===l.userId);const T=bf(this.N,E);return mT(e,l.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(ci.store),r=e.store(In.store);return e.store(ps.store).get(ps.key).next(a=>{const l=[];return r.Kt((h,y)=>{const E=new Bt(h),T=[0,za(E)];l.push(t.get(T).next(N=>N?Oe.resolve():t.put(new ci(0,za(E),a.highestListenSequenceNumber))))}).next(()=>Oe.waitFor(l))})}ke(e,t){e.createObjectStore(Uu.store,{keyPath:Uu.keyPath});const r=t.store(Uu.store),a=new Zw,l=h=>{if(a.add(h)){const y=h.lastSegment(),E=h.popLast();return r.put({collectionId:y,parent:za(E)})}};return t.store(In.store).Kt({qt:!0},(h,y)=>{const E=new Bt(h);return l(E.popLast())}).next(()=>t.store(li.store).Kt({qt:!0},([h,y,E],T)=>{const N=yr(y);return l(N.popLast())}))}$e(e){const t=e.store(_r.store);return t.Kt((r,a)=>{const l=Lg(a),h=hT(this.N,l);return t.put(h)})}}function ET(n){n.createObjectStore(ci.store,{keyPath:ci.keyPath}).createIndex(ci.documentTargetsIndex,ci.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(_r.store,{keyPath:_r.keyPath}).createIndex(_r.queryTargetsIndexName,_r.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ps.store)}const Jw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xw{constructor(e,t,r,a,l,h,y,E,T,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=l,this.window=h,this.document=y,this.Fe=T,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=x=>Promise.resolve(),!Xw.bt())throw new ke(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vT(this,a),this.We=t+"main",this.N=new wN(E),this.Ge=new ro(this.We,11,new NN(this.N)),this.ze=new IN(this.referenceDelegate,this.N),this.Ht=new pT,this.He=new cM(this.N,this.Ht),this.Je=new bN,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(oe.FAILED_PRECONDITION,Jw);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Ps(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,Te.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sf(e).put(new ks(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Bu(e))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Af(e).get(jn.key).next(t=>Oe.resolve(this.an(t)))}un(e){return Sf(e).delete(this.clientId)}hn(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=qr(r,ks.store);return a.Lt().next(l=>{const h=e.fn(l,18e5),y=l.filter(E=>-1===h.indexOf(E));return Oe.forEach(y,E=>a.delete(E.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Oe.resolve(!0):Af(e).get(jn.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new ke(oe.FAILED_PRECONDITION,Jw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sf(e).Lt().next(r=>void 0===this.fn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,y=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ee("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[jn.store,ks.store],t=>{const r=new EN(t,Ps.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Sf(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return Yw.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let l;return Ee("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",vf,h=>(l=new EN(h,this.Le?this.Le.next():Ps.T),"readwrite-primary"===t?this.sn(l).next(y=>!!y||this.rn(l)).next(y=>{if(!y)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ke(oe.FAILED_PRECONDITION,uT);return r(l)}).next(y=>this.cn(l).next(()=>y)):this.Tn(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}Tn(e){return Af(e).get(jn.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(oe.FAILED_PRECONDITION,Jw)})}cn(e){const t=new jn(this.clientId,this.allowTabSynchronization,Date.now());return Af(e).put(jn.key,t)}static bt(){return ro.bt()}on(e){const t=Af(e);return t.get(jn.key).next(r=>this.an(r)?(Ee("IndexedDbPersistence","Releasing primary lease."),t.delete(jn.key)):Oe.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Vt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ee("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Af(n){return qr(n,jn.store)}function Sf(n){return qr(n,ks.store)}function eb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Nf{constructor(e,t){this.progress=e,this.En=t}}class di{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(a=>{for(const l of r)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((r,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return tt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Dw(t)?this.Sn(e,t,r):this.Dn(e,t,r);var a}Vn(e,t){return this.An(e,new tt(t)).next(r=>{let a=Fw();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Sn(e,t,r){const a=t.collectionGroup;let l=Fw();return this.Ht.getCollectionParents(e,a).next(h=>Oe.forEach(h,y=>{const E=(T=t,N=y.child(a),new Ha(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.Dn(e,E,r).next(T=>{T.forEach((N,x)=>{l=l.insert(N,x)})})}).next(()=>l))}Dn(e,t,r){let a,l;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(a=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Cn(e,l,a).next(y=>{a=y;for(const E of l)for(const T of E.mutations){const N=T.key;let x=a.get(N);null==x&&(x=Pn.newInvalidDocument(N),a=a.insert(N,x)),xw(T,x,E.localWriteTime),x.isFoundDocument()||(a=a.remove(N))}}))).next(()=>(a.forEach((h,y)=>{bd(t,y)||(a=a.remove(h))}),a))}Cn(e,t,r){let a=an();for(const h of t)for(const y of h.mutations)y instanceof Ga&&null===r.get(y.key)&&(a=a.add(y.key));let l=r;return this.He.getEntries(e,a).next(h=>(h.forEach((y,E)=>{E.isFoundDocument()&&(l=l.insert(y,E))}),l))}}class B_{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=a}static kn(e,t){let r=an(),a=an();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new B_(e,t.fromCache,r,a)}}class io{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ct.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const h=this.Mn(t,l);return(b_(t)||bg(t))&&this.Ln(t.limitType,h,a,r)?this.Fn(e,t):(f_()<=Ru.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sw(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(y=>(h.forEach(E=>{y=y.insert(E.key,E)}),y)))});var l}Mn(e,t){let r=new Gn(WI(e));return t.forEach((a,l)=>{bd(e,l)&&(r=r.add(l))}),r}Ln(e,t,r,a){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return f_()<=Ru.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Sw(t)),this.On.getDocumentsMatchingQuery(e,t,Ct.min())}}class tb{constructor(e,t,r,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new kr(Pt),this.qn=new Df(l=>lf(l),cf),this.Kn=Ct.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new di(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function wT(n,e,t,r){return new tb(n,e,t,r)}function nb(n,e){return j_.apply(this,arguments)}function j_(){return(j_=(0,Te.Z)(function*(n,e){const t=$e(n);let r=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let y;return t.In.getAllMutationBatches(h).next(E=>(y=E,r=t.persistence.getMutationQueue(e),a=new di(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(E=>{const T=[],N=[];let x=an();for(const j of y){T.push(j.batchId);for(const H of j.mutations)x=x.add(H.key)}for(const j of E){N.push(j.batchId);for(const H of j.mutations)x=x.add(H.key)}return a.Pn(h,x).next(j=>({Wn:j,removedBatchIds:T,addedBatchIds:N}))})});return t.In=r,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function bT(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,y,E,T){const N=E.batch,x=N.keys();let j=Oe.resolve();return x.forEach(H=>{j=j.next(()=>T.getEntry(y,H)).next(te=>{const Ie=E.docVersions.get(H);mt(null!==Ie),te.version.compareTo(Ie)<0&&(N.applyToRemoteDocument(te,E),te.isValidDocument()&&T.addEntry(te,E.commitVersion))})}),j.next(()=>h.In.removeMutationBatch(y,N))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,a))})}function CT(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function RN(n,e){const t=$e(n),r=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const y=[];e.targetChanges.forEach((T,N)=>{const x=a.get(N);if(!x)return;y.push(t.ze.removeMatchingKeys(l,T.removedDocuments,N).next(()=>t.ze.addMatchingKeys(l,T.addedDocuments,N)));const j=T.resumeToken;if(j.approximateByteSize()>0){const H=x.withResumeToken(j,r).withSequenceNumber(l.currentSequenceNumber);a=a.insert(N,H),te=x,Fe=T,mt((Ie=H).resumeToken.approximateByteSize()>0),(0===te.resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&y.push(t.ze.updateTargetData(l,H))}var te,Ie,Fe});let E=Wi();if(e.documentUpdates.forEach((T,N)=>{e.resolvedLimboDocuments.has(T)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),y.push(IT(l,h,e.documentUpdates,r,void 0).next(T=>{E=T})),!r.isEqual(Ct.min())){const T=t.ze.getLastRemoteSnapshotVersion(l).next(N=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,r));y.push(T)}return Oe.waitFor(y).next(()=>h.apply(l)).next(()=>t.Qn.vn(l,E)).next(()=>E)}).then(l=>(t.Un=a,l))}function IT(n,e,t,r,a){let l=an();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let y=Wi();return t.forEach((E,T)=>{const N=h.get(E),x=(null==a?void 0:a.get(E))||r;T.isNoDocument()&&T.version.isEqual(Ct.min())?(e.removeEntry(E,x),y=y.insert(E,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(T,x),y=y.insert(E,T)):Ee("LocalStore","Ignoring outdated watch update for ",E,". Current version:",N.version," Watch version:",T.version)}),y})}function TT(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function Rf(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ze.getTargetData(r,e).next(l=>l?(a=l,Oe.resolve(a)):t.ze.allocateTargetId(r).next(h=>(a=new Ql(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Un.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function Vg(n,e,t){return rb.apply(this,arguments)}function rb(){return(rb=(0,Te.Z)(function*(n,e,t){const r=$e(n),a=r.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Bu(h))throw h;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(a.target)})).apply(this,arguments)}function $_(n,e,t){const r=$e(n);let a=Ct.min(),l=an();return r.persistence.runTransaction("Execute query","readonly",h=>function(y,E,T){const N=$e(y),x=N.qn.get(T);return void 0!==x?Oe.resolve(N.Un.get(x)):N.ze.getTargetData(E,T)}(r,h,hs(e)).next(y=>{if(y)return a=y.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,y.targetId).next(E=>{l=E})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?a:Ct.min(),t?l:an())).next(y=>({documents:y,Gn:l})))}function Od(n,e){const t=$e(n),r=$e(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(h=>h?h.target:null))}function xN(n){const e=$e(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,l){const h=$e(r);let y=Wi(),E=zr(l);const T=tc(a),N=IDBKeyRange.lowerBound(E,!0);return T.Kt({index:In.readTimeIndex,range:N},(x,j)=>{const H=lT(h.N,j);y=y.insert(H.key,H),E=j.readTime}).next(()=>({En:y,readTime:dT(E)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function ib(){return(ib=(0,Te.Z)(function*(n){const e=$e(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=tc(r);let l=Ct.min();return a.Kt({index:In.readTimeIndex,reverse:!0},(h,y,E)=>{y.readTime&&(l=dT(y.readTime)),E.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function H_(){return(H_=(0,Te.Z)(function*(n,e,t,r){const a=$e(n);let l=an(),h=Wi(),y=uN();for(const N of t){const x=e.zn(N.metadata.name);N.document&&(l=l.add(x)),h=h.insert(x,e.Hn(N)),y=y.insert(x,e.Jn(N.metadata.readTime))}const E=a.jn.newChangeBuffer({trackRemovals:!0}),T=yield Rf(a,(N=r,hs(hf(Bt.fromString(`__bundle__/docs/${N}`)))));var N;return a.persistence.runTransaction("Apply bundle documents","readwrite",N=>IT(N,E,h,Ct.min(),y).next(x=>(E.apply(N),x)).next(x=>a.ze.removeMatchingKeysForTargetId(N,T.targetId).next(()=>a.ze.addMatchingKeys(N,l,T.targetId)).next(()=>a.Qn.vn(N,x)).next(()=>x)))})).apply(this,arguments)}function MN(n,e){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,Te.Z)(function*(n,e,t=an()){const r=yield Rf(n,hs(Kw(e.bundledQuery))),a=$e(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=ai(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return a.Je.saveNamedQuery(l,e);const y=r.withResumeToken(Pr.EMPTY_BYTE_STRING,h);return a.Un=a.Un.insert(y.targetId,y),a.ze.updateTargetData(l,y).next(()=>a.ze.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.ze.addMatchingKeys(l,t,r.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class ON{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Oe.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:ai(r.createTime)}),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:Kw(r.bundledQuery),readTime:ai(r.readTime)}),Oe.resolve();var r}}class G_{constructor(){this.Zn=new Gn(Wr.ts),this.es=new Gn(Wr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Wr(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Wr(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new tt(new Bt([])),r=new Wr(t,e),a=new Wr(t,e+1),l=[];return this.es.forEachInRange([r,a],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new tt(new Bt([])),r=new Wr(t,e),a=new Wr(t,e+1);let l=an();return this.es.forEachInRange([r,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Wr(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Wr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return tt.comparator(e.key,t.key)||Pt(e.ls,t.ls)}static ns(e,t){return Pt(e.ls,t.ls)||tt.comparator(e.key,t.key)}}class PN{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Gn(Wr.ts)}checkEmpty(e){return Oe.resolve(0===this.In.length)}addMutationBatch(e,t,r,a){const l=this.fs;this.fs++;const h=new zw(l,t,r,a);this.In.push(h);for(const y of a)this.ds=this.ds.add(new Wr(y.key,l)),this.Ht.addToCollectionParentIndex(e,y.key.path.popLast());return Oe.resolve(h)}lookupMutationBatch(e,t){return Oe.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return Oe.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Oe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wr(t,0),a=new Wr(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,a],h=>{const y=this.ws(h.ls);l.push(y)}),Oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(Pt);return t.forEach(a=>{const l=new Wr(a,0),h=new Wr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],y=>{r=r.add(y.ls)})}),Oe.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;tt.isDocumentKey(l)||(l=l.child(""));const h=new Wr(new tt(l),0);let y=new Gn(Pt);return this.ds.forEachWhile(E=>{const T=E.key.path;return!!r.isPrefixOf(T)&&(T.length===a&&(y=y.add(E.ls)),!0)},h),Oe.resolve(this.gs(y))}gs(e){const t=[];return e.forEach(r=>{const a=this.ws(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){mt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Oe.forEach(t.mutations,a=>{const l=new Wr(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new Wr(t,0),a=this.ds.firstAfterOrEqual(r);return Oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Oe.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class kN{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new kr(tt.comparator),this.size=0}addEntry(e,t,r){const a=t.key,l=this.docs.get(a),h=l?l.size:0,y=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:y,readTime:r}),this.size+=y-h,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Oe.resolve(r?r.document.clone():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.clone():Pn.newInvalidDocument(a))}),Oe.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=Wi();const l=new tt(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:y,value:{document:E,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(y.path))break;T.compareTo(r)<=0||bd(t,E)&&(a=a.insert(E.key,E.clone()))}return Oe.resolve(a)}Ts(e,t){return Oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FN(this)}getSize(e){return Oe.resolve(this.size)}}class FN extends SN{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Oe.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class LN{constructor(e){this.persistence=e,this.Es=new Df(t=>lf(t),cf),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Is=0,this.As=new G_,this.targetCount=0,this.Rs=Rd.se()}forEachTarget(e,t){return this.Es.forEach((r,a)=>t(a)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Oe.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Rd(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.ce(t),Oe.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Es.forEach((h,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Es.delete(h),l.push(this.removeMatchingKeysForTargetId(e,y.targetId)),a++)}),Oe.waitFor(l).next(()=>a)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Oe.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Oe.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),Oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Oe.resolve(r)}containsKey(e,t){return Oe.resolve(this.As.containsKey(t))}}class VN{constructor(e,t){this.bs={},this.Le=new Ps(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new LN(this),this.Ht=new CN,this.He=new kN(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new wN(t),this.Je=new ON(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new PN(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Ee("MemoryPersistence","Starting transaction:",e);const a=new UN(this.Le.next());return this.referenceDelegate.vs(),r(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return Oe.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class UN extends Pg{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Ds=new G_,this.Cs=null}static Ns(e){return new sb(e)}get xs(){if(this.Cs)return this.Cs;throw et()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Oe.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.xs,r=>{const a=tt.fromPath(r);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Oe.or([()=>Oe.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function xf(n,e){return`firestore_clients_${n}_${e}`}function ob(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function q_(n,e){return`firestore_targets_${n}_${e}`}class Bg{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new ke(a.error.code,a.error.message))),h?new Bg(e,t,a.state,l):(pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new ke(r.error.code,r.error.message))),l?new Mf(e,r.state,a):(pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=A_();for(let h=0;a&&h<r.activeTargetIds.length;++h)a=WS(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return a?new jg(e,l):(pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class z_{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new z_(t.clientId,t.onlineState):(pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ab{constructor(){this.activeTargetIds=A_()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W_{constructor(e,t,r,a,l){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new kr(Pt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=xf(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new ab),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(xf(e.persistenceKey,a));if(l){const h=jg.$s(a,l);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const a=e.Xs(r);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(q_(this.persistenceKey,e));if(r){const a=Mf.$s(e,r);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(q_(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.ni(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ee("SharedClientState","READ",e,t),t}setItem(e,t){Ee("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ee("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ee("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const a=t.ci(r.key);return t.ai(a,null)}{const a=t.ui(r.key,r.newValue);if(a)return t.ai(a.clientId,a)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const a=t.hi(r.key,r.newValue);if(a)return t.li(a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.fi(r.key,r.newValue);if(a)return t.di(a)}}else if(r.key===t.Hs){if(null!==r.newValue){const a=t.Xs(r.newValue);if(a)return t.Zs(a)}}else if(r.key===t.Qs){const a=function(l){let h=Ps.T;if(null!=l)try{const y=JSON.parse(l);mt("number"==typeof y),h=y}catch(y){pr("SharedClientState","Failed to read sequence number from WebStorage",y)}return h}(r.newValue);a!==Ps.T&&t.sequenceNumberHandler(a)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const a=new Bg(this.currentUser,e,t,r),l=ob(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=ob(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const a=q_(this.persistenceKey,e),l=new Mf(e,t,r);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return jg.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),a=Number(r[1]);return Bg.$s(new Mr(void 0!==r[2]?r[2]:null),a,t)}fi(e,t){const r=this.zs.exec(e),a=Number(r[1]);return Mf.$s(a,t)}Xs(e){return z_.$s(e)}li(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ee("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(r),h=[],y=[];return l.forEach(E=>{a.has(E)||h.push(E)}),a.forEach(E=>{l.has(E)||y.push(E)}),this.syncEngine.gi(h,y).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=A_();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class AT{constructor(){this.yi=new ab,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new ab,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class BN{Ti(e){}shutdown(){}}class ST{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $g{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Hg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,a){const l=this.Bi(e,t);Ee("RestConnection","Sending: ",l,r);const h={};return this.Ui(h,a),this.qi(e,l,h,r).then(y=>(Ee("RestConnection","Received: ",y),y),y=>{throw yg("RestConnection",`${e} failed with error: `,y,"url: ",l,"request:",r),y})}Ki(e,t,r,a){return this.Li(e,t,r,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+mg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${jN[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,a){return new Promise((l,h)=>{const y=new rf;y.listenOnce(cw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case d_.NO_ERROR:const T=y.getResponseJson();Ee("Connection","XHR received:",JSON.stringify(T)),l(T);break;case d_.TIMEOUT:Ee("Connection",'RPC "'+e+'" timed out'),h(new ke(oe.DEADLINE_EXCEEDED,"Request time out"));break;case d_.HTTP_ERROR:const N=y.getStatus();if(Ee("Connection",'RPC "'+e+'" failed with status:',N,"response text:",y.getResponseText()),N>0){const x=y.getResponseJson().error;if(x&&x.status&&x.message){const j=function(H){const te=H.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(te)>=0?te:oe.UNKNOWN}(x.status);h(new ke(j,x.message))}else h(new ke(oe.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new ke(oe.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Ee("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(a);y.send(t,"POST",E,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=NI(),l=RI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new $S({})),this.Ui(h.initMessageHeaders,t),(0,Vt.uI)()||(0,Vt.b$)()||(0,Vt.d)()||(0,Vt.w1)()||(0,Vt.Mn)()||(0,Vt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const y=r.join("");Ee("Connection","Creating WebChannel: "+y,h);const E=a.createWebChannel(y,h);let T=!1,N=!1;const x=new $g({vi:H=>{N?Ee("Connection","Not sending because WebChannel is closed:",H):(T||(Ee("Connection","Opening WebChannel transport."),E.open(),T=!0),Ee("Connection","WebChannel sending:",H),E.send(H))},Vi:()=>E.close()}),j=(H,te,Ie)=>{H.listen(te,Fe=>{try{Ie(Fe)}catch(it){setTimeout(()=>{throw it},0)}})};return j(E,h_.EventType.OPEN,()=>{N||Ee("Connection","WebChannel transport opened.")}),j(E,h_.EventType.CLOSE,()=>{N||(N=!0,Ee("Connection","WebChannel transport closed"),x.$i())}),j(E,h_.EventType.ERROR,H=>{N||(N=!0,yg("Connection","WebChannel transport errored:",H),x.$i(new ke(oe.UNAVAILABLE,"The operation could not be completed")))}),j(E,h_.EventType.MESSAGE,H=>{var te;if(!N){const Ie=H.data[0];mt(!!Ie);const Fe=Ie,it=Fe.error||(null===(te=Fe[0])||void 0===te?void 0:te.error);if(it){Ee("Connection","WebChannel received error:",it);const ht=it.status;let kt=function(vn){const sr=ir[vn];if(void 0!==sr)return eT(sr)}(ht),ct=it.message;void 0===kt&&(kt=oe.INTERNAL,ct="Unknown error status: "+ht+" with message "+it.message),N=!0,x.$i(new ke(kt,ct)),E.close()}else Ee("Connection","WebChannel received:",Ie),x.Oi(Ie)}}),j(l,dw.STAT_EVENT,H=>{H.stat===zl.PROXY?Ee("Connection","Detected buffering proxy"):H.stat===zl.NOPROXY&&Ee("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.ki()},0),x}}function NT(){return"undefined"!=typeof window?window:null}function Of(){return"undefined"!=typeof document?document:null}function gs(n){return new N_(n,!0)}class ub{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-r);a>0&&Ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Gg{constructor(e,t,r,a,l,h,y){this.Oe=e,this.er=r,this.nr=a,this.sr=l,this.credentialsProvider=h,this.listener=y,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new ub(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,Te.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,Te.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===oe.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const a=new ke(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(a)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,Te.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $N extends Gg{constructor(e,t,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,l),this.N=a}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:et(),a=e.targetChange.targetIds||[],l=function(E,T){return E.D?(mt(void 0===T||"string"==typeof T),Pr.fromBase64String(T||"")):(mt(void 0===T||T instanceof Uint8Array),Pr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,y=h&&function(E){const T=void 0===E.code?oe.UNKNOWN:eT(E.code);return new ke(T,E.message||"")}(h);t=new nT(r,a,l,y||null)}else if("documentChange"in e){const r=e.documentChange,a=qa(n,r.document.name),l=ai(r.document.updateTime),h=new Di({mapValue:{fields:r.document.fields}}),y=Pn.newFoundDocument(a,l,h);t=new S_(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,a=qa(n,r.document),l=r.readTime?ai(r.readTime):Ct.min(),h=Pn.newNoDocument(a,l);t=new S_([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,a=qa(n,r.document);t=new S_([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return et();{const r=e.filter,l=new oN(r.count||0);t=new tT(r.targetId,l)}}var E;return t}(this.N,e),r=function(a){if(!("targetChange"in a))return Ct.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?ai(l.readTime):Ct.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=Dd(this.N),t.addTarget=function(a,l){let h;const y=l.target;return h=v_(y)?{documents:Og(a,y)}:{query:yN(a,y)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=Lw(a,l.resumeToken):l.snapshotVersion.compareTo(Ct.min())>0&&(h.readTime=Go(a,l.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=Dd(this.N),t.removeTarget=e,this.mr(t)}}class HN extends Gg{constructor(e,t,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,l),this.N=a,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(r,a){let l=ai(r.updateTime?r.updateTime:a);return l.isEqual(Ct.min())&&(l=ai(a)),new oM(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ai(e.commitTime);return this.listener.Dr(r,t)}return mt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Dd(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>x_(this.N,r))};this.mr(t)}}class fM extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new ke(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(a=>this.sr.Li(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===oe.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new ke(oe.UNKNOWN,a.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(a=>this.sr.Ki(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===oe.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new ke(oe.UNKNOWN,a.toString())})}terminate(){this.kr=!0}}class lb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(pr(t),this.Mr=!1):Ee("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class cb{constructor(e,t,r,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(y=>{r.enqueueAndForget((0,Te.Z)(function*(){var E;rc(h)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Te.Z)(function*(T){const N=$e(T);N.Wr.add(4),yield nc(N),N.Hr.set("Unknown"),N.Wr.delete(4),yield Pf(N)}),function(T){return E.apply(this,arguments)})(h))}))}),this.Hr=new lb(r,a)}}function Pf(n){return qg.apply(this,arguments)}function qg(){return(qg=(0,Te.Z)(function*(n){if(rc(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function nc(n){return db.apply(this,arguments)}function db(){return(db=(0,Te.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function K_(n,e){const t=$e(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),Z_(t)?Wg(t):Yg(t).hr()&&hb(t,e))}function zg(n,e){const t=$e(n),r=Yg(t);t.Qr.delete(e),r.hr()&&fb(t,e),0===t.Qr.size&&(r.hr()?r.wr():rc(t)&&t.Hr.set("Unknown"))}function hb(n,e){n.Jr.Y(e.targetId),Yg(n).br(e)}function fb(n,e){n.Jr.Y(e),Yg(n).Pr(e)}function Wg(n){n.Jr=new hN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),Yg(n).start(),n.Hr.Lr()}function Z_(n){return rc(n)&&!Yg(n).ur()&&n.Qr.size>0}function rc(n){return 0===$e(n).Wr.size}function pb(n){n.Jr=void 0}function RT(n){return gb.apply(this,arguments)}function gb(){return(gb=(0,Te.Z)(function*(n){n.Qr.forEach((e,t)=>{hb(n,e)})})).apply(this,arguments)}function xT(n,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,Te.Z)(function*(n,e){pb(n),Z_(n)?(n.Hr.qr(e),Wg(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function GN(n,e,t){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,Te.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof nT&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(a,l){const h=l.cause;for(const y of l.targetIds)a.Qr.has(y)&&(yield a.remoteSyncer.rejectListen(y,h),a.Qr.delete(y),a.Jr.removeTarget(y))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield J_(n,r)}else if(e instanceof S_?n.Jr.rt(e):e instanceof tT?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(Ct.min()))try{const r=yield CT(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const h=a.Jr._t(l);return h.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const T=a.Qr.get(E);T&&a.Qr.set(E,T.withResumeToken(y.resumeToken,l))}}),h.targetMismatches.forEach(y=>{const E=a.Qr.get(y);if(!E)return;a.Qr.set(y,E.withResumeToken(Pr.EMPTY_BYTE_STRING,E.snapshotVersion)),fb(a,y);const T=new Ql(E.target,y,1,E.sequenceNumber);hb(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),yield J_(n,r)}var r})).apply(this,arguments)}function J_(n,e,t){return MT.apply(this,arguments)}function MT(){return(MT=(0,Te.Z)(function*(n,e,t){if(!Bu(e))throw e;n.Wr.add(1),yield nc(n),n.Hr.set("Offline"),t||(t=()=>CT(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield Pf(n)}))})).apply(this,arguments)}function Si(n,e){return e().catch(t=>J_(n,t,e))}function qo(n){return mb.apply(this,arguments)}function mb(){return(mb=(0,Te.Z)(function*(n){const e=$e(n),t=ju(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;qN(e);)try{const a=yield TT(e.localStore,r);if(null===a){0===e.jr.length&&t.wr();break}r=a.batchId,pM(e,a)}catch(a){yield J_(e,a)}kf(e)&&OT(e)})).apply(this,arguments)}function qN(n){return rc(n)&&n.jr.length<10}function pM(n,e){n.jr.push(e);const t=ju(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function kf(n){return rc(n)&&!ju(n).ur()&&n.jr.length>0}function OT(n){ju(n).start()}function yb(n){return _b.apply(this,arguments)}function _b(){return(_b=(0,Te.Z)(function*(n){ju(n).Nr()})).apply(this,arguments)}function PT(n){return vb.apply(this,arguments)}function vb(){return(vb=(0,Te.Z)(function*(n){const e=ju(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function zN(n,e,t){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,Te.Z)(function*(n,e,t){const r=n.jr.shift(),a=Ww.from(r,e,t);yield Si(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield qo(n)})).apply(this,arguments)}function kT(n,e){return X_.apply(this,arguments)}function X_(){return(X_=(0,Te.Z)(function*(n,e){var t;e&&ju(n).Vr&&(yield(t=(0,Te.Z)(function*(r,a){if(Pw(l=a.code)&&l!==oe.ABORTED){const h=r.jr.shift();ju(r).dr(),yield Si(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield qo(r)}var l}),function(r,a){return t.apply(this,arguments)})(n,e)),kf(n)&&OT(n)})).apply(this,arguments)}function Ff(n,e){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,Te.Z)(function*(n,e){const t=$e(n);e?(t.Wr.delete(2),yield Pf(t)):e||(t.Wr.add(2),yield nc(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function Yg(n){return n.Yr||(n.Yr=function(e,t,r){const a=$e(e);return a.$r(),new $N(t,a.sr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:RT.bind(null,n),Ci:xT.bind(null,n),Rr:GN.bind(null,n)}),n.Gr.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Yr.dr(),Z_(n)?Wg(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),pb(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function ju(n){return n.Xr||(n.Xr=function(e,t,r){const a=$e(e);return a.$r(),new HN(t,a.sr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:yb.bind(null,n),Ci:kT.bind(null,n),Cr:PT.bind(null,n),Dr:zN.bind(null,n)}),n.Gr.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Xr.dr(),yield qo(n)):(yield n.Xr.stop(),n.jr.length>0&&(Ee("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class Eb{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,a,l){const h=Date.now()+r,y=new Eb(e,t,h,a,l);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Bu(n))return new ke(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class $u{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=Fw(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new $u(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $u)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $u;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class wb{constructor(){this.Zr=new kr(tt.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):et():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lf{constructor(e,t,r,a,l,h,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=y,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Lf(e,t,$u.emptySet(t),l,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class bb{constructor(){this.no=void 0,this.listeners=[]}}class Cb{constructor(){this.queries=new Df(e=>zI(e),wd),this.onlineState="Unknown",this.so=new Set}}function Ib(n,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=(0,Te.Z)(function*(n,e){const t=$e(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new bb),a)try{l.no=yield t.onListen(r)}catch(h){const y=Pd(h,`Initialization of query '${Sw(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,l),l.listeners.push(e),e.io(t.onlineState),l.no&&e.ro(l.no)&&nv(t)})).apply(this,arguments)}function ev(n,e){return tv.apply(this,arguments)}function tv(){return(tv=(0,Te.Z)(function*(n,e){const t=$e(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function FT(n,e){const t=$e(n);let r=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const y of h.listeners)y.ro(a)&&(r=!0);h.no=a}}r&&nv(t)}function WN(n,e,t){const r=$e(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function nv(n){n.so.forEach(e=>{e.next()})}class rv{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Lf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=Lf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class KN{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class LT{constructor(e){this.N=e}zn(e){return qa(this.N,e)}Hn(e){return e.metadata.exists?iT(this.N,e.document,!1):Pn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return ai(e)}}class VT{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=UT(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new LT(this.N);for(const a of e)if(a.metadata.queries){const l=r.zn(a.metadata.name);for(const h of a.metadata.queries){const y=(t.get(h)||an()).add(l);t.set(h,y)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function(n,e,t,r){return H_.apply(this,arguments)}(e.localStore,new LT(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const a of e.queries)yield MN(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new Nf(Object.assign({},e.progress),t)})()}}function UT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Db{constructor(e){this.key=e}}class Ab{constructor(e){this.key=e}}class Sb{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=an(),this.mutatedKeys=an(),this.Io=WI(e),this.Ao=new $u(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new wb,a=t?t.Ao:this.Ao;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,y=!1;const E=b_(this.query)&&a.size===this.query.limit?a.last():null,T=bg(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((N,x)=>{const j=a.get(N),H=bd(this.query,x)?x:null,te=!!j&&this.mutatedKeys.has(j.key),Ie=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Fe=!1;j&&H?j.data.isEqual(H.data)?te!==Ie&&(r.track({type:3,doc:H}),Fe=!0):this.vo(j,H)||(r.track({type:2,doc:H}),Fe=!0,(E&&this.Io(H,E)>0||T&&this.Io(H,T)<0)&&(y=!0)):!j&&H?(r.track({type:0,doc:H}),Fe=!0):j&&!H&&(r.track({type:1,doc:j}),Fe=!0,(E||T)&&(y=!0)),Fe&&(H?(h=h.add(H),l=Ie?l.add(N):l.delete(N)):(h=h.delete(N),l=l.delete(N)))}),b_(this.query)||bg(this.query))for(;h.size>this.query.limit;){const N=b_(this.query)?h.last():h.first();h=h.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Ao:h,Po:r,Ln:y,mutatedKeys:l}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const l=e.Po.eo();l.sort((T,N)=>function(x,j){const H=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return H(x)-H(j)}(T.type,N.type)||this.Io(T.doc,N.doc)),this.Vo(r);const h=t?this.So():[],y=0===this.Eo.size&&this.current?1:0,E=y!==this.To;return this.To=y,0!==l.length||E?{snapshot:new Lf(this.query,e.Ao,a,l,e.mutatedKeys,0===y,E,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new wb,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=an(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new Ab(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new Db(r))}),t}No(e){this.po=e.Gn,this.Eo=an();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Lf.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class BT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ZN{constructor(e){this.key=e,this.ko=!1}}class YN{constructor(e,t,r,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new Df(y=>zI(y),wd),this.Fo=new Map,this.Mo=new Set,this.Lo=new kr(tt.comparator),this.Bo=new Map,this.Uo=new G_,this.qo={},this.Ko=new Map,this.jo=Rd.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function QN(n,e){return iv.apply(this,arguments)}function iv(){return(iv=(0,Te.Z)(function*(n,e){const t=sv(n);let r,a;const l=t.Oo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.xo();else{const h=yield Rf(t.localStore,hs(e)),y=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,a=yield jT(t,e,r,"current"===y),t.isPrimaryClient&&K_(t.remoteStore,h)}return a})).apply(this,arguments)}function jT(n,e,t,r){return $T.apply(this,arguments)}function $T(){return($T=(0,Te.Z)(function*(n,e,t,r){n.Wo=(N,x,j)=>{return(H=(0,Te.Z)(function*(te,Ie,Fe,it){let ht=Ie.view.bo(Fe);ht.Ln&&(ht=yield $_(te.localStore,Ie.query,!1).then(({documents:vn})=>Ie.view.bo(vn,ht)));const kt=it&&it.targetChanges.get(Ie.targetId),ct=Ie.view.applyChanges(ht,te.isPrimaryClient,kt);return YT(te,Ie.targetId,ct.Do),ct.snapshot}),function(te,Ie,Fe,it){return H.apply(this,arguments)})(n,N,x,j);var H};const a=yield $_(n.localStore,e,!0),l=new Sb(e,a.Gn),h=l.bo(a.documents),y=Rg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(h,n.isPrimaryClient,y);YT(n,t,E.Do);const T=new BT(e,t,l);return n.Oo.set(e,T),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),E.snapshot})).apply(this,arguments)}function gM(n,e){return HT.apply(this,arguments)}function HT(){return(HT=(0,Te.Z)(function*(n,e){const t=$e(n),r=t.Oo.get(e),a=t.Fo.get(r.targetId);if(a.length>1)return t.Fo.set(r.targetId,a.filter(l=>!wd(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Vg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),zg(t.remoteStore,r.targetId),Vf(t,r.targetId)}).catch(ec))):(Vf(t,r.targetId),yield Vg(t.localStore,r.targetId,!0))})).apply(this,arguments)}function GT(){return(GT=(0,Te.Z)(function*(n,e,t){const r=iD(n);try{const a=yield function(l,h){const y=$e(l),E=Gr.now(),T=h.reduce((x,j)=>x.add(j.key),an());let N;return y.persistence.runTransaction("Locally write mutations","readwrite",x=>y.Qn.Pn(x,T).next(j=>{N=j;const H=[];for(const te of h){const Ie=iN(te,N.get(te.key));null!=Ie&&H.push(new Ga(te.key,Ie,bw(Ie.value.mapValue),Un.exists(!0)))}return y.In.addMutationBatch(x,E,H,h)})).then(x=>(x.applyToLocalDocumentSet(N),{batchId:x.batchId,changes:N}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,h,y){let E=l.qo[l.currentUser.toKey()];E||(E=new kr(Pt)),E=E.insert(h,y),l.qo[l.currentUser.toKey()]=E}(r,a.batchId,t),yield Hu(r,a.changes),yield qo(r.remoteStore)}catch(a){const l=Pd(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function JN(n,e){return qT.apply(this,arguments)}function qT(){return(qT=(0,Te.Z)(function*(n,e){const t=$e(n);try{const r=yield RN(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Bo.get(l);h&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.ko=!0:a.modifiedDocuments.size>0?mt(h.ko):a.removedDocuments.size>0&&(mt(h.ko),h.ko=!1))}),yield Hu(t,r,e)}catch(r){yield ec(r)}})).apply(this,arguments)}function XN(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.Oo.forEach((l,h)=>{const y=h.view.io(e);y.snapshot&&a.push(y.snapshot)}),function(l,h){const y=$e(l);y.onlineState=h;let E=!1;y.queries.forEach((T,N)=>{for(const x of N.listeners)x.io(h)&&(E=!0)}),E&&nv(y)}(r.eventManager,e),a.length&&r.$o.Rr(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yM(n,e,t){return zT.apply(this,arguments)}function zT(){return(zT=(0,Te.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Bo.get(e),l=a&&a.key;if(l){let h=new kr(tt.comparator);h=h.insert(l,Pn.newNoDocument(l,Ct.min()));const y=an().add(l),E=new Ng(Ct.min(),new Map,new Gn(Pt),h,y);yield JN(r,E),r.Lo=r.Lo.remove(l),r.Bo.delete(e),xb(r)}else yield Vg(r.localStore,e,!1).then(()=>Vf(r,e,t)).catch(ec)})).apply(this,arguments)}function _M(n,e){return WT.apply(this,arguments)}function WT(){return(WT=(0,Te.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const a=yield bT(t.localStore,e);Rb(t,r,null),Nb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Hu(t,a)}catch(a){yield ec(a)}})).apply(this,arguments)}function vM(n,e,t){return KT.apply(this,arguments)}function KT(){return(KT=(0,Te.Z)(function*(n,e,t){const r=$e(n);try{const a=yield function(l,h){const y=$e(l);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let T;return y.In.lookupMutationBatch(E,h).next(N=>(mt(null!==N),T=N.keys(),y.In.removeMutationBatch(E,N))).next(()=>y.In.performConsistencyCheck(E)).next(()=>y.Qn.Pn(E,T))})}(r.localStore,e);Rb(r,e,t),Nb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Hu(r,a)}catch(a){yield ec(a)}})).apply(this,arguments)}function ZT(){return(ZT=(0,Te.Z)(function*(n,e){const t=$e(n);rc(t.remoteStore)||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=$e(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>h.In.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Ko.get(r)||[];a.push(e),t.Ko.set(r,a)}catch(r){const a=Pd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Nb(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function Rb(n,e,t){const r=$e(n);let a=r.qo[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.qo[r.currentUser.toKey()]=a}}function Vf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||eR(n,r)})}function eR(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(zg(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),xb(n))}function YT(n,e,t){for(const r of t)r instanceof Db?(n.Uo.addReference(r.key,e),wM(n,r)):r instanceof Ab?(Ee("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||eR(n,r.key)):et()}function wM(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(Ee("SyncEngine","New document in limbo: "+t),n.Mo.add(r),xb(n))}function xb(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new tt(Bt.fromString(e)),r=n.jo.next();n.Bo.set(r,new ZN(t)),n.Lo=n.Lo.insert(t,r),K_(n.remoteStore,new Ql(hs(hf(t.path)),r,2,Ps.T))}}function Hu(n,e,t){return Mb.apply(this,arguments)}function Mb(){return(Mb=(0,Te.Z)(function*(n,e,t){const r=$e(n),a=[],l=[],h=[];var y;r.Oo.isEmpty()||(r.Oo.forEach((y,E)=>{h.push(r.Wo(E,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,T.fromCache?"not-current":"current"),a.push(T);const N=B_.kn(E.targetId,T);l.push(N)}}))}),yield Promise.all(h),r.$o.Rr(a),yield(y=(0,Te.Z)(function*(E,T){const N=$e(E);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Oe.forEach(T,j=>Oe.forEach(j.Nn,H=>N.persistence.referenceDelegate.addReference(x,j.targetId,H)).next(()=>Oe.forEach(j.xn,H=>N.persistence.referenceDelegate.removeReference(x,j.targetId,H)))))}catch(x){if(!Bu(x))throw x;Ee("LocalStore","Failed to update sequence numbers: "+x)}for(const x of T){const j=x.targetId;if(!x.fromCache){const H=N.Un.get(j),Ie=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);N.Un=N.Un.insert(j,Ie)}}}),function(E,T){return y.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function bM(n,e){return QT.apply(this,arguments)}function QT(){return(QT=(0,Te.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=yield nb(t.localStore,e);t.currentUser=e,(a=t).Ko.forEach(h=>{h.forEach(y=>{y.reject(new ke(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hu(t,r.Wn)}var a})).apply(this,arguments)}function CM(n,e){const t=$e(n),r=t.Bo.get(e);if(r&&r.ko)return an().add(r.key);{let a=an();const l=t.Fo.get(e);if(!l)return a;for(const h of l){const y=t.Oo.get(h);a=a.unionWith(y.view.Ro)}return a}}function IM(n,e){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,Te.Z)(function*(n,e){const t=$e(n),r=yield $_(t.localStore,e.query,!0),a=e.view.No(r);return t.isPrimaryClient&&YT(t,e.targetId,a.Do),a})).apply(this,arguments)}function TM(n){return Pb.apply(this,arguments)}function Pb(){return(Pb=(0,Te.Z)(function*(n){const e=$e(n);return xN(e.localStore).then(t=>Hu(e,t))})).apply(this,arguments)}function kb(n,e,t,r){return ic.apply(this,arguments)}function ic(){return(ic=(0,Te.Z)(function*(n,e,t,r){const a=$e(n),l=yield function(h,y){const E=$e(h),T=$e(E.In);return E.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Xt(N,y).next(x=>x?E.Qn.Pn(N,x):Oe.resolve(null)))}(a.localStore,e);var y;null!==l?("pending"===t?yield qo(a.remoteStore):"acknowledged"===t||"rejected"===t?(Rb(a,e,r||null),Nb(a,e),y=e,$e($e(a.localStore).In).te(y)):et(),yield Hu(a,l)):Ee("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Fb(){return(Fb=(0,Te.Z)(function*(n,e){const t=$e(n);if(sv(t),iD(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield XT(t,r.toArray());t.Qo=!0,yield Ff(t.remoteStore,!0);for(const l of a)K_(t.remoteStore,l)}else if(!1===e&&!1!==t.Qo){const r=[];let a=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):a=a.then(()=>(Vf(t,h),Vg(t.localStore,h,!0))),zg(t.remoteStore,h)}),yield a,yield XT(t,r),function(l){const h=$e(l);h.Bo.forEach((y,E)=>{zg(h.remoteStore,E)}),h.Uo.us(),h.Bo=new Map,h.Lo=new kr(tt.comparator)}(t),t.Qo=!1,yield Ff(t.remoteStore,!1)}})).apply(this,arguments)}function XT(n,e,t){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,Te.Z)(function*(n,e,t){const r=$e(n),a=[],l=[];for(const h of e){let y;const E=r.Fo.get(h);if(E&&0!==E.length){y=yield Rf(r.localStore,hs(E[0]));for(const T of E){const N=r.Oo.get(T),x=yield IM(r,N);x.snapshot&&l.push(x.snapshot)}}else{const T=yield Od(r.localStore,h);y=yield Rf(r.localStore,T),yield jT(r,Lb(T),h,!1)}a.push(y)}return r.$o.Rr(l),a})).apply(this,arguments)}function Lb(n){return Cw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eD(n){const e=$e(n);return $e($e(e.localStore).persistence).pn()}function tD(n,e,t,r){return nD.apply(this,arguments)}function nD(){return(nD=(0,Te.Z)(function*(n,e,t,r){const a=$e(n);if(a.Qo)Ee("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield xN(a.localStore),h=Ng.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Hu(a,l,h);break}case"rejected":yield Vg(a.localStore,e,!0),Vf(a,e,r);break;default:et()}})).apply(this,arguments)}function rD(n,e,t){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,Te.Z)(function*(n,e,t){const r=sv(n);if(r.Qo){for(const a of e){if(r.Fo.has(a)){Ee("SyncEngine","Adding an already active target "+a);continue}const l=yield Od(r.localStore,a),h=yield Rf(r.localStore,l);yield jT(r,Lb(l),h.targetId,!1),K_(r.remoteStore,h)}for(const a of t)r.Fo.has(a)&&(yield Vg(r.localStore,a,!1).then(()=>{zg(r.remoteStore,a),Vf(r,a)}).catch(ec))}})).apply(this,arguments)}function sv(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yM.bind(null,e),e.$o.Rr=FT.bind(null,e.eventManager),e.$o.Go=WN.bind(null,e.eventManager),e}function iD(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vM.bind(null,e),e}class tR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.N=gs(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return wT(this.persistence,new io,e.initialUser,this.N)}Jo(e){return new VN(sb.Ns,this.N)}Ho(e){return new AT}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sD extends tR{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield function(n){return ib.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield iD(r.Zo.syncEngine),yield qo(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return wT(this.persistence,new io,e.initialUser,this.N)}Yo(e){return new DN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=eb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new Xw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,NT(),Of(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new AT}}class AM extends sD{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const a=r.Zo.syncEngine;r.sharedClientState instanceof W_&&(r.sharedClientState.syncEngine={_i:kb.bind(null,a),mi:tD.bind(null,a),gi:rD.bind(null,a),pn:eD.bind(null,a),wi:TM.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var l=(0,Te.Z)(function*(h){yield function(n,e){return Fb.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Ho(e){const t=NT();if(!W_.bt(t))throw new ke(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new W_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Bf{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>XN(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=bM.bind(null,r.syncEngine),yield Ff(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cb}createDatastore(e){const t=gs(e.databaseInfo.databaseId),r=new Hg(e.databaseInfo);return new fM(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=y=>XN(this.syncEngine,y,0),h=ST.bt()?new ST:new BN,new cb(t,r,a,l,h);var t,r,a,l,h}createSyncEngine(e,t){return function(r,a,l,h,y,E,T){const N=new YN(r,a,l,h,y,E);return T&&(N.Qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=$e(t);Ee("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield nc(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oD(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SM{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Or,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,Te.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),a=Number(r);isNaN(a)&&e.oc(`length string (${r}) is not valid number`);const l=yield e.cc(a);return new KN(JSON.parse(l),t.length+a)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,Te.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Ub{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,Te.Z)(function*(l,h){const y=$e(l),E=Dd(y.N)+"/documents",T={documents:h.map(H=>Mg(y.N,H))},N=yield y.Ki("BatchGetDocuments",E,T),x=new Map;N.forEach(H=>{const te=function(n,e){return"found"in e?function(t,r){mt(!!r.found);const a=qa(t,r.found.name),l=ai(r.found.updateTime),h=new Di({mapValue:{fields:r.found.fields}});return Pn.newFoundDocument(a,l,h)}(n,e):"missing"in e?function(t,r){mt(!!r.missing),mt(!!r.readTime);const a=qa(t,r.missing),l=ai(r.readTime);return Pn.newNoDocument(a,l)}(n,e):et()}(y.N,H);x.set(te.key.toString(),te)});const j=[];return h.forEach(H=>{const te=x.get(H.toString());mt(!!te),j.push(te)}),j}),function(l,h){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const l=tt.fromPath(a);e.mutations.push(new Ow(l,e.precondition(l)))}),yield(r=(0,Te.Z)(function*(a,l){const h=$e(a),y=Dd(h.N)+"/documents",E={writes:l.map(T=>x_(h.N,T))};yield h.Li("Commit",y,E)}),function(a,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw et();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ke(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Un.updateTime(t):Un.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new ke(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Un.updateTime(t)}return Un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nR{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.hc=5,this.ar=new ub(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,Te.Z)(function*(){const t=new Ub(e.datastore),r=e.fc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.dc(l)}))}).catch(a=>{e.dc(a)})}))}fc(e){try{const t=this.updateFunction(e);return!af(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Pw(t)}return!1}}class NM{constructor(e,t,r){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Mr.UNAUTHENTICATED,this.clientId=kI.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,Te.Z)(function*(h){Ee("FirestoreClient","Received user=",h.uid),yield a.credentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const a=Pd(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function rR(n,e){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Te.Z)(function*(l){r.isEqual(l)||(yield nb(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function iR(n,e){return ov.apply(this,arguments)}function ov(){return(ov=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jb(n);Ee("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(l=(0,Te.Z)(function*(h,y){const E=$e(h);E.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const T=rc(E);E.Wr.add(3),yield nc(E),T&&E.Hr.set("Unknown"),yield E.remoteSyncer.handleCredentialChange(y),E.Wr.delete(3),yield Pf(E)}),function(h,y){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function jb(n){return aD.apply(this,arguments)}function aD(){return(aD=(0,Te.Z)(function*(n){return n.offlineComponents||(Ee("FirestoreClient","Using default OfflineComponentProvider"),yield rR(n,new tR)),n.offlineComponents})).apply(this,arguments)}function $b(n){return Hb.apply(this,arguments)}function Hb(){return(Hb=(0,Te.Z)(function*(n){return n.onlineComponents||(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield iR(n,new Bf)),n.onlineComponents})).apply(this,arguments)}function jf(n){return jb(n).then(e=>e.persistence)}function Gb(n){return jb(n).then(e=>e.localStore)}function uD(n){return $b(n).then(e=>e.remoteStore)}function qb(n){return $b(n).then(e=>e.syncEngine)}function sc(n){return zb.apply(this,arguments)}function zb(){return(zb=(0,Te.Z)(function*(n){const e=yield $b(n),t=e.eventManager;return t.onListen=QN.bind(null,e.syncEngine),t.onUnlisten=gM.bind(null,e.syncEngine),t})).apply(this,arguments)}function lD(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(a,l,h,y,E){const T=new Vb({next:x=>{l.enqueueAndForget(()=>ev(a,N));const j=x.docs.has(h);!j&&x.fromCache?E.reject(new ke(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&x.fromCache&&y&&"server"===y.source?E.reject(new ke(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(x)},error:x=>E.reject(x)}),N=new rv(hf(h.path),T,{includeMetadataChanges:!0,fo:!0});return Ib(a,N)}(yield sc(n),n.asyncQueue,e,t,r)})),r.promise}function av(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(a,l,h,y,E){const T=new Vb({next:x=>{l.enqueueAndForget(()=>ev(a,N)),x.fromCache&&"server"===y.source?E.reject(new ke(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(x)},error:x=>E.reject(x)}),N=new rv(h,T,{includeMetadataChanges:!0,fo:!0});return Ib(a,N)}(yield sc(n),n.asyncQueue,e,t,r)})),r.promise}class fD{constructor(e,t,r,a,l,h,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=y,this.useFetchStreams=E}}class $f{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $f&&e.projectId===this.projectId&&e.database===this.database}}const pD=new Map;function Jg(n,e,t){if(!t)throw new ke(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Kb(n,e,t,r){if(!0===e&&!0===r)throw new ke(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Zb(n){if(!tt.isDocumentKey(n))throw new ke(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uv(n){if(tt.isDocumentKey(n))throw new ke(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":et()}function Nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lv(n);throw new ke(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gD(n,e){if(e<=0)throw new ke(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class uR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Kb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uR({}),this._settingsFrozen=!1,e instanceof $f?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ke(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $f(r.options.projectId)}(e))}get app(){if(!this._app)throw new ke(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uR(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new GS;switch(t.type){case"gapi":const r=t.client;return mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new PI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ke(oe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=pD.get(e);t&&(Ee("ComponentProvider","Removing Datastore"),pD.delete(e),t.terminate())}(this),Promise.resolve()}}class Rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class Ka extends Ni{constructor(e,t,r){super(e,t,hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new tt(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function lR(n,e,...t){if(n=(0,Vt.m9)(n),Jg("collection","path",e),n instanceof Xg){const r=Bt.fromString(e,...t);return uv(r),new Ka(n,null,r)}{if(!(n instanceof Rn||n instanceof Ka))throw new ke(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return uv(r),new Ka(n.firestore,null,r)}}function em(n,e,...t){if(n=(0,Vt.m9)(n),1===arguments.length&&(e=kI.I()),Jg("doc","path",e),n instanceof Xg){const r=Bt.fromString(e,...t);return Zb(r),new Rn(n,null,new tt(r))}{if(!(n instanceof Rn||n instanceof Ka))throw new ke(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return Zb(r),new Rn(n.firestore,n instanceof Ka?n.converter:null,new tt(r))}}function mD(n,e){return n=(0,Vt.m9)(n),e=(0,Vt.m9)(e),(n instanceof Rn||n instanceof Ka)&&(e instanceof Rn||e instanceof Ka)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yD(n,e){return n=(0,Vt.m9)(n),e=(0,Vt.m9)(e),n instanceof Ni&&e instanceof Ni&&n.firestore===e.firestore&&wd(n._query,e._query)&&n.converter===e.converter}class _D{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new ub(this,"async_queue_retry"),this.Rc=()=>{const t=Of();t&&Ee("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=Of();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=Of();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Or;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,Te.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!Bu(t))throw t;Ee("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,pr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const a=Eb.createAndSchedule(this,e,t,r,l=>this.Vc(l));return this.yc.push(a),a}bc(){this.Tc&&et()}verifyOperationInProgress(){}Sc(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function Yb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class xM{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kn extends Xg{constructor(e,t){super(e,t),this.type="firestore",this._queue=new _D,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Hf(this),this._firestoreClient.terminate()}}function vr(n){return n._firestoreClient||Hf(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Hf(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new fD(n._databaseId,l,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var l,y;n._firestoreClient=new NM(n._credentials,n._queue,r)}function wD(n,e,t){const r=new Or;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield rR(n,t),yield iR(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===oe.FAILED_PRECONDITION||l.code===oe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var l})).then(()=>r.promise)}function CD(n){if(n._initialized||n._terminated)throw new ke(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Pr.fromBase64String(e))}catch(t){throw new ke(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zo(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gf{constructor(e){this._methodName=e}}class Jb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const pR=/^__.*__$/;class Xb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new pf(e,this.data,t,this.fieldTransforms)}}class Fr{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class tm{constructor(e,t,r,a,l,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=a,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:r,Fc:!1});return a.Mc(e),a}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:r,Fc:!1});return a.xc(),a}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return s0(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(gR(this.kc)&&pR.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class ID{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||gs(e)}jc(e,t,r,a=!1){return new tm({kc:e,methodName:t,Kc:r,path:oi.emptyPath(),Fc:!1,qc:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function kd(n){const e=n._freezeSettings(),t=gs(n._databaseId);return new ID(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fd(n,e,t,r,a,l={}){const h=n.jc(l.merge||l.mergeFields?2:0,e,t,a);Er("Data must be an object, but it was:",h,r);const y=dv(r,h);let E,T;if(l.merge)E=new of(h.fieldMask),T=h.fieldTransforms;else if(l.mergeFields){const N=[];for(const x of l.mergeFields){const j=AD(e,x,t);if(!h.contains(j))throw new ke(oe.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);sm(N,j)||N.push(j)}E=new of(N),T=h.fieldTransforms.filter(x=>E.covers(x.field))}else E=null,T=h.fieldTransforms;return new Xb(new Di(y),E,T)}class nm extends Gf{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nm}}function TD(n,e,t){return new tm({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class cv extends Gf{_toFieldTransform(e){return new fs(e.path,new Ig)}isEqual(e){return e instanceof cv}}class Ld extends Gf{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=TD(this,e,!0),r=this.Qc.map(l=>Vd(l,t)),a=new Fu(r);return new fs(e.path,a)}isEqual(e){return this===e}}class DD extends Gf{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=TD(this,e,!0),r=this.Qc.map(l=>Vd(l,t)),a=new Id(r);return new fs(e.path,a)}isEqual(e){return this===e}}class e0 extends Gf{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new ff(e.N,Rw(e.N,this.Wc));return new fs(e.path,t)}isEqual(e){return this===e}}function rm(n,e,t,r){const a=n.jc(1,e,t);Er("Data must be an object, but it was:",a,r);const l=[],h=Di.empty();Wl(r,(E,T)=>{const N=r0(e,E,t);T=(0,Vt.m9)(T);const x=a.Lc(N);if(T instanceof nm)l.push(N);else{const j=Vd(T,x);null!=j&&(l.push(N),h.set(N,j))}});const y=new of(l);return new Fr(h,y,a.fieldTransforms)}function t0(n,e,t,r,a,l){const h=n.jc(1,e,t),y=[AD(e,r,t)],E=[a];if(l.length%2!=0)throw new ke(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<l.length;j+=2)y.push(AD(e,l[j])),E.push(l[j+1]);const T=[],N=Di.empty();for(let j=y.length-1;j>=0;--j)if(!sm(T,y[j])){const H=y[j];let te=E[j];te=(0,Vt.m9)(te);const Ie=h.Lc(H);if(te instanceof nm)T.push(H);else{const Fe=Vd(te,Ie);null!=Fe&&(T.push(H),N.set(H,Fe))}}const x=new of(T);return new Fr(N,x,h.fieldTransforms)}function im(n,e,t,r=!1){return Vd(t,n.jc(r?4:3,e))}function Vd(n,e){if(n0(n=(0,Vt.m9)(n)))return Er("Unsupported field value:",e,n),dv(n,e);if(n instanceof Gf)return function(t,r){if(!gR(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const h of t){let y=Vd(h,r.Bc(l));null==y&&(y={nullValue:"NULL_VALUE"}),a.push(y),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,Vt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rw(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Gr.fromDate(t);return{timestampValue:Go(r.N,a)}}if(t instanceof Gr){const a=new Gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Go(r.N,a)}}if(t instanceof Jb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zo)return{bytesValue:Lw(r.N,t._byteString)};if(t instanceof Rn){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Vw(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${lv(t)}`)}(n,e)}function dv(n,e){const t={};return pw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(n,(r,a)=>{const l=Vd(a,e.Oc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function n0(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gr||n instanceof Jb||n instanceof zo||n instanceof Rn||n instanceof Gf)}function Er(n,e,t){if(!n0(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lv(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function AD(n,e,t){if((e=(0,Vt.m9)(e))instanceof Gu)return e._internalPath;if("string"==typeof e)return r0(n,e);throw s0("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const mR=new RegExp("[~\\*/\\[\\]]");function r0(n,e,t){if(e.search(mR)>=0)throw s0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gu(...e.split("."))._internalPath}catch(r){throw s0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function s0(n,e,t,r,a){const l=r&&!r.isEmpty(),h=void 0!==a;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(l||h)&&(E+=" (found",l&&(E+=` in field ${r}`),h&&(E+=` in document ${a}`),E+=")"),new ke(oe.INVALID_ARGUMENT,y+n+E)}function sm(n,e){return n.some(t=>t.isEqual(e))}class om{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new VM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(o0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class VM extends om{data(){return super.data()}}function o0(n,e){return"string"==typeof e?r0(n,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qu extends om{constructor(e,t,r,a,l,h){super(e,t,r,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(o0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class am extends qu{data(e={}){return super.data(e)}}class oc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new qf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new am(this._firestore,this._userDataWriter,r.key,r,new qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new am(r._firestore,r._userDataWriter,h.doc.key,h.doc,new qf(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const y=new am(r._firestore,r._userDataWriter,h.doc.key,h.doc,new qf(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,T=-1;return 0!==h.type&&(E=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:yR(h.type),doc:y,oldIndex:E,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function SD(n,e){return n instanceof qu&&e instanceof qu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof oc&&e instanceof oc&&n._firestore===e._firestore&&yD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function _R(n){if(bg(n)&&0===n.explicitOrderBy.length)throw new ke(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class um{}function ac(n,...e){for(const t of e)n=t._apply(n);return n}class vR extends um{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=kd(e.firestore),r=function(a,l,h,y,E,T,N){let x;if(E.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new ke(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){OD(N,T);const H=[];for(const te of N)H.push(MD(y,a,te));x={arrayValue:{values:H}}}else x=MD(y,a,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||OD(N,T),x=im(h,"where",N,"in"===T||"not-in"===T);const j=Ai.create(E,T,x);return function(H,te){if(te.v()){const Fe=Tw(H);if(null!==Fe&&!Fe.isEqual(te.field))throw new ke(oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${te.field.toString()}'`);const it=Iw(H);null!==it&&PD(0,te.field,it)}const Ie=function(Fe,it){for(const ht of Fe.filters)if(it.indexOf(ht.op)>=0)return ht.op;return null}(H,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==Ie)throw new ke(oe.INVALID_ARGUMENT,Ie===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${Ie.toString()}' filters.`)}(a,j),j}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Ni(e.firestore,e.converter,function(a,l){const h=a.filters.concat([l]);return new Ha(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class BM extends um{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,a,l){if(null!==r.startAt)throw new ke(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ke(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new df(a,l);return function(y,E){if(null===Iw(y)){const T=Tw(y);null!==T&&PD(0,T,E.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new Ni(e.firestore,e.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new Ha(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ND extends um{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new Ni(e.firestore,e.converter,Aw(e._query,this.Yc,this.Xc))}}class RD extends um{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=DR(e,this.type,this.Zc,this.ta);return new Ni(e.firestore,e.converter,(a=t,new Ha((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class xD extends um{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=DR(e,this.type,this.Zc,this.ta);return new Ni(e.firestore,e.converter,(a=t,new Ha((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function DR(n,e,t,r){if(t[0]=(0,Vt.m9)(t[0]),t[0]instanceof om)return function(a,l,h,y,E){if(!y)throw new ke(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const N of Kl(a))if(N.field.isKeyField())T.push(y_(l,y.key));else{const x=y.data.field(N.field);if(gw(x))throw new ke(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const j=N.field.canonicalString();throw new ke(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}T.push(x)}return new wg(T,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=kd(n.firestore);return function(l,h,y,E,T,N){const x=l.explicitOrderBy;if(T.length>x.length)throw new ke(oe.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let H=0;H<T.length;H++){const te=T[H];if(x[H].field.isKeyField()){if("string"!=typeof te)throw new ke(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof te}`);if(!Dw(l)&&-1!==te.indexOf("/"))throw new ke(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${E}() must be a plain document ID, but '${te}' contains a slash.`);const Ie=l.path.child(Bt.fromString(te));if(!tt.isDocumentKey(Ie))throw new ke(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${E}() must result in a valid document path, but '${Ie}' is not because it contains an odd number of segments.`);const Fe=new tt(Ie);j.push(y_(h,Fe))}else{const Ie=im(y,E,te);j.push(Ie)}}return new wg(j,N)}(n._query,n.firestore._databaseId,a,e,t,r)}}function MD(n,e,t){if("string"==typeof(t=(0,Vt.m9)(t))){if(""===t)throw new ke(oe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dw(e)&&-1!==t.indexOf("/"))throw new ke(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!tt.isDocumentKey(r))throw new ke(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return y_(n,new tt(r))}if(t instanceof Rn)return y_(n,t._key);throw new ke(oe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${lv(t)}.`)}function OD(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ke(oe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function PD(n,e,t){if(!t.isEqual(e))throw new ke(oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ud{convertValue(e,t="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw et()}}convertObject(e,t){const r={};return Wl(e.fields,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Jb(gr(e.latitude),gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=VI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(m_(e));default:return null}}convertTimestamp(e){const t=ku(e);return new Gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);mt(Hw(r));const a=new $f(r.get(1),r.get(3)),l=new tt(r.popFirst(5));return a.isEqual(t)||pr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function lm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class jM extends Ud{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}class kD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kd(e)}set(e,t,r){this._verifyNotCommitted();const a=Bd(e,this._firestore),l=lm(a.converter,t,r),h=Fd(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(h.toMutation(a._key,Un.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=Bd(e,this._firestore);let h;return h="string"==typeof(t=(0,Vt.m9)(t))||t instanceof Gu?t0(this._dataReader,"WriteBatch.update",l._key,t,r,a):rm(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Un.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bd(e,this._firestore);return this._mutations=this._mutations.concat(new Dg(t._key,Un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bd(n,e){if((n=(0,Vt.m9)(n)).firestore!==e)throw new ke(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zf extends Ud{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function FD(n,e,t){n=Nt(n,Rn);const r=Nt(n.firestore,kn),a=lm(n.converter,e,t);return Wf(r,[Fd(kd(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Un.none())])}function LD(n,e,t,...r){n=Nt(n,Rn);const a=Nt(n.firestore,kn),l=kd(a);let h;return h="string"==typeof(e=(0,Vt.m9)(e))||e instanceof Gu?t0(l,"updateDoc",n._key,e,t,r):rm(l,"updateDoc",n._key,e),Wf(a,[h.toMutation(n._key,Un.exists(!0))])}function xR(n,...e){var t,r,a;n=(0,Vt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Yb(e[h])||(l=e[h],h++);const y={includeMetadataChanges:l.includeMetadataChanges};if(Yb(e[h])){const x=e[h];e[h]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[h+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[h+2]=null===(a=x.complete)||void 0===a?void 0:a.bind(x)}let E,T,N;if(n instanceof Rn)T=Nt(n.firestore,kn),N=hf(n._key.path),E={next:x=>{e[h]&&e[h](hv(T,n,x))},error:e[h+1],complete:e[h+2]};else{const x=Nt(n,Ni);T=Nt(x.firestore,kn),N=x._query;const j=new zf(T);E={next:H=>{e[h]&&e[h](new oc(T,j,x,H))},error:e[h+1],complete:e[h+2]},_R(n._query)}return function(x,j,H,te){const Ie=new Vb(te),Fe=new rv(j,Ie,H);return x.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Ib(yield sc(x),Fe)})),()=>{Ie.ec(),x.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return ev(yield sc(x),Fe)}))}}(vr(T),N,y,E)}function Wf(n,e){return function(t,r){const a=new Or;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(n,e,t){return GT.apply(this,arguments)}(yield qb(t),r,a)})),a.promise}(vr(n),e)}function hv(n,e,t){const r=t.docs.get(e._key),a=new zf(n);return new qu(n,a,e._key,r,new qf(t.hasPendingWrites,t.fromCache),e.converter)}class UD extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=kd(e)}get(e){const t=Bd(e,this._firestore),r=new jM(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return et();const l=a[0];if(l.isFoundDocument())return new om(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new om(this._firestore,r,t._key,null,t.converter);throw et()})}set(e,t,r){const a=Bd(e,this._firestore),l=lm(a.converter,t,r),h=Fd(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,h),this}update(e,t,r,...a){const l=Bd(e,this._firestore);let h;return h="string"==typeof(t=(0,Vt.m9)(t))||t instanceof Gu?t0(this._dataReader,"Transaction.update",l._key,t,r,a):rm(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Bd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bd(e,this._firestore),r=new zf(this._firestore);return super.get(e).then(a=>new qu(this._firestore,r,t._key,a._document,new qf(!1,!1),t.converter))}}function d0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function h0(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function $D(){if("undefined"==typeof atob)throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){mg=Ul.SDK_VERSION,(0,Ul._registerComponent)(new Hp.wA("firestore",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),l=new kn(a,new MI(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Ul.registerVersion)(HS,"3.2.0",n),(0,Ul.registerVersion)(HS,"3.2.0","esm2017")}();class cm{constructor(e){this._delegate=e}static fromBase64String(e){return $D(),new cm(zo.fromBase64String(e))}static fromUint8Array(e){return h0(),new cm(zo.fromUint8Array(e))}toBase64(){return $D(),this._delegate.toBase64()}toUint8Array(){return h0(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function f0(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class PR{enableIndexedDbPersistence(e,t){return function(n,e){CD(n=Nt(n,kn));const t=vr(n),r=n._freezeSettings(),a=new Bf;return wD(t,a,new sD(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){CD(n=Nt(n,kn));const e=vr(n),t=n._freezeSettings(),r=new Bf;return wD(e,r,new AM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new ke(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!ro.bt())return Promise.resolve();const a=r+"main";yield ro.delete(a)}),function(r){return t.apply(this,arguments)})(eb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ri{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $f||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const l=(n=Nt(n,Xg))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&yg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,y;if("string"==typeof r.mockUserToken)h=r.mockUserToken,y=Mr.MOCK_USER;else{h=(0,Vt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ke(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mr(E)}n._credentials=new xI(new g_(h,y))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield jf(n),t=yield uD(n);return e.setNetworkEnabled(!0),function(r){const a=$e(r);return a.Wr.delete(0),Pf(a)}(t)}))}(vr(n=Nt(n,kn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield jf(n),t=yield uD(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(a){const l=$e(a);l.Wr.add(0),yield nc(l),l.Hr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(vr(n=Nt(n,kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Kb("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Or;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(n,e){return ZT.apply(this,arguments)}(yield qb(e),t)})),t.promise}(vr(n=Nt(n,kn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Vb(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield sc(n),a=t,$e(r).so.add(a),void a.next();var r,a})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield sc(n),a=t,void $e(r).so.delete(a);var r,a}))}}(vr(n=Nt(n,kn)),Yb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kf(this,lR(this._delegate,e))}catch(t){throw Kr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Vs(this,em(this._delegate,e))}catch(t){throw Kr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xi(this,function(n,e){if(n=Nt(n,Xg),Jg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ni(n,null,(t=e,new Ha(Bt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Kr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const r=yield(a=n,$b(a).then(l=>l.datastore));var a;new nR(n.asyncQueue,r,e,t).run()})),t.promise}(vr(n=Nt(n,kn)),t=>e(new UD(n,t)))}(this._delegate,t=>e(new g0(this,t)))}batch(){return vr(this._delegate),new dm(new kD(this._delegate,e=>Wf(this._delegate,e)))}loadBundle(e){return function(n,e){const t=vr(n=Nt(n,kn)),r=new xM;return function(n,e,t,r){const a=function(l,h){let y;return y="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,T){if(E instanceof Uint8Array)return oD(E,T);if(E instanceof ArrayBuffer)return oD(new Uint8Array(E),T);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new SM(E,h);var E}(t,gs(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function(n,e,t){const r=$e(n);var a;(a=(0,Te.Z)(function*(l,h,y){try{const E=yield h.getMetadata();if(yield function(j,H){const te=$e(j),Ie=ai(H.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",Fe=>te.Je.getBundleMetadata(Fe,H.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Ie)>=0)}(l.localStore,E))return yield h.close(),void y._completeWith((j=E,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));y._updateProgress(UT(E));const T=new VT(E,l.localStore,h.N);let N=yield h.zo();for(;N;){const j=yield T.mo(N);j&&y._updateProgress(j),N=yield h.zo()}const x=yield T.complete();yield Hu(l,x.En,void 0),yield function(j,H){const te=$e(j);return te.persistence.runTransaction("Save bundle","readwrite",Ie=>te.Je.saveBundleMetadata(Ie,H))}(l.localStore,E),y._completeWith(x.progress)}catch(E){yg("SyncEngine",`Loading bundle failed with ${E}`),y._failWith(E)}var j}),function(l,h,y){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield qb(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const a=$e(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,r))}(yield Gb(n),e)}))}(vr(n=Nt(n,kn)),e).then(t=>t?new Ni(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xi(this,t):null)}}class uc extends Ud{constructor(e){super(),this.firestore=e}convertBytes(e){return new cm(new zo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Vs.forKey(t,this.firestore,null)}}class g0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}get(e){const t=ms(e);return this._delegate.get(t).then(r=>new hm(this._firestore,new qu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=ms(e);return r?(d0("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ms(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ms(e);return this._delegate.delete(t),this}}class dm{constructor(e){this._delegate=e}set(e,t,r){const a=ms(e);return r?(d0("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=ms(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=ms(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new am(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fm(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zu.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new zu(e,new uc(e),t),a.set(t,l)),l}}zu.INSTANCES=new WeakMap;class Vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vs(t,new Rn(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new Vs(t,new Rn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Kf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kf(this.firestore,lR(this._delegate,e))}catch(t){throw Kr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Vt.m9)(e))instanceof Rn&&mD(this._delegate,e)}set(e,t){t=d0("DocumentReference.set",t);try{return t?FD(this._delegate,e,t):FD(this._delegate,e)}catch(r){throw Kr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LD(this._delegate,e):LD(this._delegate,e,t,...r)}catch(a){throw Kr(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Wf(Nt(n.firestore,kn),[new Dg(n._key,Un.none())])}(this._delegate)}onSnapshot(...e){const t=HD(e),r=GD(e,a=>new hm(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return xR(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Nt(n,Rn);const e=Nt(n.firestore,kn),t=vr(e),r=new zf(e);return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(a,l,h){try{const y=yield function(E,T){const N=$e(E);return N.persistence.runTransaction("read document","readonly",x=>N.Qn.An(x,T))}(a,l);y.isFoundDocument()?h.resolve(y):y.isNoDocument()?h.resolve(null):h.reject(new ke(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const E=Pd(y,`Failed to get document '${l} from cache`);h.reject(E)}}),function(a,l,h){return r.apply(this,arguments)})(yield Gb(n),e,t);var r})),t.promise}(t,n._key).then(a=>new qu(e,r,n._key,a,new qf(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Nt(n,Rn);const e=Nt(n.firestore,kn);return lD(vr(e),n._key,{source:"server"}).then(t=>hv(e,n,t))}(this._delegate):function(n){n=Nt(n,Rn);const e=Nt(n.firestore,kn);return lD(vr(e),n._key).then(t=>hv(e,n,t))}(this._delegate),t.then(r=>new hm(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Vs(this.firestore,this._delegate.withConverter(e?zu.getInstance(this.firestore,e):null))}}function Kr(n,e,t){return n.message=n.message.replace(e,t),n}function HD(n){for(const e of n)if("object"==typeof e&&!f0(e))return e;return{}}function GD(n,e){var t,r;let a;return a=f0(n[0])?n[0]:f0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class hm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Vs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return SD(this._delegate,e._delegate)}}class fm extends hm{data(e){const t=this._delegate.data(e);return function(n,e){n||et()}(void 0!==t),t}}class xi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}where(e,t,r){try{return new xi(this.firestore,ac(this._delegate,function(n,e,t){const r=e,a=o0("where",n);return new vR(a,r,t)}(e,t,r)))}catch(a){throw Kr(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xi(this.firestore,ac(this._delegate,function(n,e="asc"){const t=e,r=o0("orderBy",n);return new BM(r,t)}(e,t)))}catch(r){throw Kr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xi(this.firestore,ac(this._delegate,function(n){return gD("limit",n),new ND("limit",n,"F")}(e)))}catch(t){throw Kr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xi(this.firestore,ac(this._delegate,function(n){return gD("limitToLast",n),new ND("limitToLast",n,"L")}(e)))}catch(t){throw Kr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xi(this.firestore,ac(this._delegate,function(...n){return new RD("startAt",n,!0)}(...e)))}catch(t){throw Kr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xi(this.firestore,ac(this._delegate,function(...n){return new RD("startAfter",n,!1)}(...e)))}catch(t){throw Kr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xi(this.firestore,ac(this._delegate,function(...n){return new xD("endBefore",n,!0)}(...e)))}catch(t){throw Kr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xi(this.firestore,ac(this._delegate,function(...n){return new xD("endAt",n,!1)}(...e)))}catch(t){throw Kr(t,"endAt()","Query.endAt()")}}isEqual(e){return yD(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Nt(n,Ni);const e=Nt(n.firestore,kn),t=vr(e),r=new zf(e);return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(a,l,h){try{const y=yield $_(a,l,!0),E=new Sb(l,y.Gn),T=E.bo(y.documents),N=E.applyChanges(T,!1);h.resolve(N.snapshot)}catch(y){const E=Pd(y,`Failed to execute query '${l} against cache`);h.reject(E)}}),function(a,l,h){return r.apply(this,arguments)})(yield Gb(n),e,t);var r})),t.promise}(t,n._query).then(a=>new oc(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Nt(n,Ni);const e=Nt(n.firestore,kn),t=vr(e),r=new zf(e);return av(t,n._query,{source:"server"}).then(a=>new oc(e,r,n,a))}(this._delegate):function(n){n=Nt(n,Ni);const e=Nt(n.firestore,kn),t=vr(e),r=new zf(e);return _R(n._query),av(t,n._query).then(a=>new oc(e,r,n,a))}(this._delegate),t.then(r=>new m0(this.firestore,new oc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=HD(e),r=GD(e,a=>new m0(this.firestore,new oc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return xR(this._delegate,t,r)}withConverter(e){return new xi(this.firestore,this._delegate.withConverter(e?zu.getInstance(this.firestore,e):null))}}class kR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class m0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new fm(this._firestore,r))})}isEqual(e){return SD(this._delegate,e._delegate)}}class Kf extends xi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vs(this.firestore,e):null}doc(e){try{return new Vs(this.firestore,void 0===e?em(this._delegate):em(this._delegate,e))}catch(t){throw Kr(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Nt(n.firestore,kn),r=em(n),a=lm(n.converter,e);return Wf(t,[Fd(kd(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Un.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Vs(this.firestore,t))}isEqual(e){return mD(this._delegate,e._delegate)}withConverter(e){return new Kf(this.firestore,this._delegate.withConverter(e?zu.getInstance(this.firestore,e):null))}}function ms(n){return Nt(n,Rn)}class jd{constructor(...e){this._delegate=new Gu(...e)}static documentId(){return new jd(oi.keyField().canonicalString())}isEqual(e){return(e=(0,Vt.m9)(e))instanceof Gu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wu{constructor(e){this._delegate=e}static serverTimestamp(){const e=new cv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Wu(e)}static delete(){const e=new nm("deleteField");return e._methodName="FieldValue.delete",new Wu(e)}static arrayUnion(...e){const t=function(...n){return new Ld("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wu(t)}static arrayRemove(...e){const t=function(...n){return new DD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wu(t)}static increment(e){const t=function(n){return new e0("increment",n)}(e);return t._methodName="FieldValue.increment",new Wu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const FR={Firestore:Ri,GeoPoint:Jb,Timestamp:Gr,Blob:cm,Transaction:g0,WriteBatch:dm,DocumentReference:Vs,DocumentSnapshot:hm,Query:xi,QueryDocumentSnapshot:fm,QuerySnapshot:m0,CollectionReference:Kf,FieldPath:jd,FieldValue:Wu,setLogLevel:function(n){!function(n){Pu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Hp.wA("firestore-compat",t=>((e,t)=>new Ri(e,t,new PR))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},FR)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.5")}(TE.Z);var y0=V(6682),pm=V(309),qD=V(7771),zD=V(8858);class UR extends Jn.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new BR(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=r.length;let h;if(this.closed)throw new Ds.N;if(this.isStopped||this.hasError?h=dp.w.EMPTY:(this.observers.push(e),h=new zD.W(this,e)),a&&e.add(e=new pm.ht(e,a)),t)for(let y=0;y<l&&!e.closed;y++)e.next(r[y]);else for(let y=0;y<l&&!e.closed;y++)e.next(r[y].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||qD.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(e-a[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&a.splice(0,h),a}}class BR{constructor(e,t){this.time=e,this.value=t}}function WD(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let a,h,l=0,y=!1,E=!1;return function(N){let x;l++,!a||y?(y=!1,a=new UR(n,e,r),x=a.subscribe(this),h=N.subscribe({next(j){a.next(j)},error(j){y=!0,a.error(j)},complete(){E=!0,h=void 0,a.complete()}}),E&&(h=void 0)):x=a.subscribe(this),this.add(()=>{l--,x.unsubscribe(),x=void 0,h&&!E&&t&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(r))}function Zf(n,e){return e?Xn(()=>n,e):Xn(()=>n)}var lc=V(3101);V(2329);const zR=new Map,ZM={activated:!1,tokenObservers:[]},YM={initialized:!1,enabled:!1};function Ki(n){return zR.get(n)||ZM}function Za(n,e){zR.set(n,e)}function v0(){return YM}class XM{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Vt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Vt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const so=new Vt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function s(n){if(!Ki(n).activated)throw so.create("use-before-activation",{appName:n.name})}function u(n,e){return c.apply(this,arguments)}function c(){return(c=(0,Te.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,y;try{h=yield fetch(n,l)}catch(x){throw so.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==h.status)throw so.create("fetch-status-error",{httpStatus:h.status});try{y=yield h.json()}catch(x){throw so.create("fetch-parse-error",{originalErrorMessage:x.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw so.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const T=1e3*Number(E[1]),N=Date.now();return{token:y.attestationToken,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function m(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const I="firebase-app-check-store";let M=null;function P(){return M||(M=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(so.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(I,{keyPath:"compositeKey"})}}}catch(t){e(so.create("storage-open",{originalErrorMessage:t.message}))}}),M)}function De(){return(De=(0,Te.Z)(function*(n,e){const r=(yield P()).transaction(I,"readwrite"),l=r.objectStore(I).put({compositeKey:n,value:e});return new Promise((h,y)=>{l.onsuccess=E=>{h()},r.onerror=E=>{var T;y(so.create("storage-set",{originalErrorMessage:null===(T=E.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const qn=new Ru.Yd("@firebase/app-check");function Hd(n,e){return(0,Vt.hl)()?function(n,e){return function(n,e){return De.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yv(){return v0().enabled}function _v(){return mm.apply(this,arguments)}function mm(){return(mm=(0,Te.Z)(function*(){const n=v0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const w0={error:"UNKNOWN_ERROR"};function HP(n){return Vt.US.encodeString(JSON.stringify(n),!1)}function QD(n){return KR.apply(this,arguments)}function KR(){return(KR=(0,Te.Z)(function*(n,e=!1){const t=n.app;s(t);const r=Ki(t);let l,h,a=r.token;if(!a){const y=yield r.cachedTokenPromise;y&&b0(y)&&(a=y,Za(t,Object.assign(Object.assign({},r),{token:a})),rO(t,{token:a.token}))}if(!e&&a&&b0(a))return{token:a.token};if(yv()){const y=yield u(m(t,yield _v()),n.platformLoggerProvider);return yield Hd(t,y),Za(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{a=yield r.provider.getToken()}catch(y){qn.error(y),l=y}return a?(h={token:a.token},Za(t,Object.assign(Object.assign({},r),{token:a})),yield Hd(t,a)):h=qP(l),rO(t,h),h})).apply(this,arguments)}function ZR(n,e){const t=Ki(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Za(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function rO(n,e){const t=Ki(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function b0(n){return n.expireTimeMillis-Date.now()>0}function qP(n){return{token:HP(w0),error:n}}class zP{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ki(this.app);for(const t of e)ZR(this.app,t.next);return Promise.resolve()}}const aO="app-check-internal";(0,Ul._registerComponent)(new Hp.wA("app-check",n=>function(n,e){return new zP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aO).initialize()})),(0,Ul._registerComponent)(new Hp.wA(aO,n=>function(n){return{getToken:e=>QD(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,l=Ki(a),h={next:t,error:r,type:e},y=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]});if(!y.tokenRefresher){const E=function(n){const{app:e}=n;return new XM((0,Te.Z)(function*(){let r;if(r=Ki(e).token?yield QD(n,!0):yield QD(n),r.error)throw r.error}),()=>!0,()=>{const t=Ki(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);y.tokenRefresher=E}if(!y.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&y.tokenRefresher.start(),l.token&&b0(l.token)){const E=l.token;Promise.resolve().then(()=>t({token:E.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(E=>{E&&b0(E)&&t({token:E.token})}).catch(()=>{});Za(a,y)}(n,"INTERNAL",e),removeTokenListener:e=>ZR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ul.registerVersion)("@firebase/app-check","0.4.2");class XR{constructor(){return(0,ii.vb)("app-check")}}"undefined"!=typeof window&&window;var u1=V(7841);const lO=new f.OlP("angularfire2.auth.use-emulator"),cO=new f.OlP("angularfire2.auth.settings"),dO=new f.OlP("angularfire2.auth.tenant-id"),hO=new f.OlP("angularfire2.auth.langugage-code"),fO=new f.OlP("angularfire2.auth.use-device-language"),pO=new f.OlP("angularfire.auth.persistence"),gO=(n,e,t,r,a,l,h,y)=>(0,Lo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=a,l&&E.useDeviceLanguage(),h)for(const[T,N]of Object.entries(h))E.settings[T]=N;return y&&E.setPersistence(y),E},[t,r,a,l,h,y]);let mO=(()=>{class n{constructor(t,r,a,l,h,y,E,T,N,x,j,H){const te=new Jn.xQ,Ie=(0,Je.of)(void 0).pipe((0,pm.QV)(h.outsideAngular),Xn(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,6096)))),(0,vt.U)(()=>(0,Lo.on)(t,l,r)),(0,vt.U)(Fe=>gO(Fe,l,y,T,N,x,E,j)),WD({bufferSize:1,refCount:!1}));if(mo(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Je.of)(null);else{Ie.pipe(Js()).subscribe();const it=Ie.pipe(Xn(ct=>ct.getRedirectResult().then(vn=>vn,()=>null)),ii.iC,WD({bufferSize:1,refCount:!1})),ht=Ie.pipe(Xn(ct=>new yi.y(vn=>({unsubscribe:l.runOutsideAngular(()=>ct.onAuthStateChanged(sr=>vn.next(sr),sr=>vn.error(sr),()=>vn.complete()))})))),kt=Ie.pipe(Xn(ct=>new yi.y(vn=>({unsubscribe:l.runOutsideAngular(()=>ct.onIdTokenChanged(sr=>vn.next(sr),sr=>vn.error(sr),()=>vn.complete()))}))));this.authState=it.pipe(Zf(ht),(0,lc.R)(h.outsideAngular),(0,pm.QV)(h.insideAngular)),this.user=it.pipe(Zf(kt),(0,lc.R)(h.outsideAngular),(0,pm.QV)(h.insideAngular)),this.idToken=this.user.pipe(Xn(ct=>ct?(0,mn.D)(ct.getIdToken()):(0,Je.of)(null))),this.idTokenResult=this.user.pipe(Xn(ct=>ct?(0,mn.D)(ct.getIdTokenResult()):(0,Je.of)(null))),this.credential=(0,y0.T)(it,te,this.authState.pipe(ji(ct=>!ct))).pipe((0,vt.U)(ct=>(null==ct?void 0:ct.user)?ct:null),(0,lc.R)(h.outsideAngular),(0,pm.QV)(h.insideAngular))}return(0,Lo.pX)(this,Ie,l,{spy:{apply:(Fe,it,ht)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&ht.then(kt=>te.next(kt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Lo.Dh),f.LFG(Lo.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ii.HU),f.LFG(lO,8),f.LFG(cO,8),f.LFG(dO,8),f.LFG(hO,8),f.LFG(fO,8),f.LFG(pO,8),f.LFG(XR,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function yO(n,e){return function(n,e=Qx.z){return new yi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function tx(n,e){return yO(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function JD(n,e){return tx(n,e).pipe(ba(void 0),IE(),(0,vt.U)(([t,r])=>{const a=r.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,y)=>{const E=a.find(N=>N.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:h}})}),l}))}function _O(n,e,t){return JD(n,t).pipe(Ca((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(l=>l.payload),e),[]),t=>t.lift(new AC(void 0,void 0)),(0,vt.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function nx(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function vO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class EO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=JD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(ba(void 0),IE(),ji(([r,a])=>a.length>0||!r),(0,vt.U)(([r,a])=>a),ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ca((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vO(e);return _O(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return tx(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ii.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(ii.iC)}add(e){return this.ref.add(e)}doc(e){return new wO(this.ref.doc(e),this.afs)}}class wO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:l}=IO(r,t);return new EO(a,l,this.afs)}snapshotChanges(){return function(n,e){return yO(n,e).pipe(ba(void 0),IE(),(0,vt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mn.D)(this.ref.get(e)).pipe(ii.iC)}}class p1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?JD(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ji(t=>t.length>0),ii.iC):JD(this.query,this.afs.schedulers.outsideAngular).pipe(ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ca((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vO(e);return _O(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return tx(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ii.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(ii.iC)}}const bO=new f.OlP("angularfire2.enableFirestorePersistence"),CO=new f.OlP("angularfire2.firestore.persistenceSettings"),g1=new f.OlP("angularfire2.firestore.settings"),m1=new f.OlP("angularfire2.firestore.use-emulator");function IO(n,e=(t=>t)){return{query:e(n),ref:n}}let TO=(()=>{class n{constructor(t,r,a,l,h,y,E,T,N,x,j,H,te,Ie,Fe,it,ht){this.schedulers=E;const kt=(0,Lo.on)(t,y,r),ct=N;x&&gO(kt,y,j,te,Ie,Fe,H,it),[this.firestore,this.persistenceEnabled$]=(0,Lo.cc)(`${kt.name}.firestore`,"AngularFirestore",kt.name,()=>{const vn=y.runOutsideAngular(()=>kt.firestore());if(l&&vn.settings(l),ct&&vn.useEmulator(...ct),a&&!mo(h)){const sr=()=>{try{return(0,mn.D)(vn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Zi){return"undefined"!=typeof console&&console.warn(Zi),(0,Je.of)(!1)}};return[vn,y.runOutsideAngular(sr)]}return[vn,(0,Je.of)(!1)]},[l,ct,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=IO(a,r),y=this.schedulers.ngZone.run(()=>l);return new EO(y,h,this)}collectionGroup(t,r){const a=r||(h=>h),l=this.firestore.collectionGroup(t);return new p1(a(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new wO(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Lo.Dh),f.LFG(Lo.xv,8),f.LFG(bO,8),f.LFG(g1,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ii.HU),f.LFG(CO,8),f.LFG(m1,8),f.LFG(mO,8),f.LFG(lO,8),f.LFG(cO,8),f.LFG(dO,8),f.LFG(hO,8),f.LFG(fO,8),f.LFG(pO,8),f.LFG(XR,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),y1=(()=>{class n{constructor(){u1.Z.registerVersion("angularfire",ii.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:bO,useValue:!0},{provide:CO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[TO]}),n})(),DO=(()=>{class n{constructor(t){this.firestore=t}agregarEmpleado(t){return this.firestore.collection("empleados").add(t)}getEmpleados(){return this.firestore.collection("empleados",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(t){return this.firestore.collection("empleados").doc(t).delete()}getEmpleado(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,r){return this.firestore.collection("empleados").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(TO))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AO{}const Gd="*";function v1(n,e){return{type:7,name:n,definitions:e,options:{}}}function SO(n,e=null){return{type:4,styles:e,timings:n}}function NO(n,e=null){return{type:2,steps:n,options:e}}function C0(n){return{type:6,styles:n,offset:null}}function rx(n,e,t){return{type:0,name:n,styles:e,options:t}}function RO(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function xO(n){Promise.resolve(null).then(n)}class vv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class MO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,a=0;const l=this.players.length;0==l?xO(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,y)=>Math.max(h,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(a)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const OO=["toast-component",""];function E1(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().remove()}),f.TgZ(1,"span",6),f._uU(2,"\xd7"),f.qZA(),f.qZA()}}function w1(n,e){if(1&n&&(f.ynx(0),f._uU(1),f.BQk()),2&n){const t=f.oxw(2);f.xp6(1),f.hij("[",t.duplicatesCount+1,"]")}}function b1(n,e){if(1&n&&(f.TgZ(0,"div"),f._uU(1),f.YNc(2,w1,2,1,"ng-container",4),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.titleClass),f.uIk("aria-label",t.title),f.xp6(1),f.hij(" ",t.title," "),f.xp6(1),f.Q6J("ngIf",t.duplicatesCount)}}function C1(n,e){if(1&n&&f._UZ(0,"div",7),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.Q6J("innerHTML",t.message,f.oJD)}}function I1(n,e){if(1&n&&(f.TgZ(0,"div",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.uIk("aria-label",t.message),f.xp6(1),f.hij(" ",t.message," ")}}function T1(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"div",9),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Udp("width",t.width+"%")}}function D1(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().remove()}),f.TgZ(1,"span",6),f._uU(2,"\xd7"),f.qZA(),f.qZA()}}function A1(n,e){if(1&n&&(f.ynx(0),f._uU(1),f.BQk()),2&n){const t=f.oxw(2);f.xp6(1),f.hij("[",t.duplicatesCount+1,"]")}}function S1(n,e){if(1&n&&(f.TgZ(0,"div"),f._uU(1),f.YNc(2,A1,2,1,"ng-container",4),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.titleClass),f.uIk("aria-label",t.title),f.xp6(1),f.hij(" ",t.title," "),f.xp6(1),f.Q6J("ngIf",t.duplicatesCount)}}function N1(n,e){if(1&n&&f._UZ(0,"div",7),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.Q6J("innerHTML",t.message,f.oJD)}}function R1(n,e){if(1&n&&(f.TgZ(0,"div",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.uIk("aria-label",t.message),f.xp6(1),f.hij(" ",t.message," ")}}function x1(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"div",9),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Udp("width",t.width+"%")}}class XD{constructor(e,t,r,a,l,h){this.toastId=e,this.config=t,this.message=r,this.title=a,this.toastType=l,this.toastRef=h,this._onTap=new Jn.xQ,this._onAction=new Jn.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const sx={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},I0=new f.OlP("ToastConfig");class M1{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class P1 extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let a;return a=r.create(e.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let PO=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be))},n.\u0275prov=f.Yz7({factory:function(){return new n(f.LFG(be))},token:n,providedIn:"root"}),n})();class k1{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let kO=(()=>{class n{constructor(t,r,a,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=a,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(t),a.classList.add("toast-container"),r?r.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(t){return new P1(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new k1(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(PO),f.LFG(f._Vd),f.LFG(f.z2F),f.LFG(be))},n.\u0275prov=f.Yz7({factory:function(){return new n(f.LFG(PO),f.LFG(f._Vd),f.LFG(f.z2F),f.LFG(be))},token:n,providedIn:"root"}),n})();class F1{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Jn.xQ,this._activate=new Jn.xQ,this._manualClose=new Jn.xQ,this._resetTimeout=new Jn.xQ,this._countDuplicate=new Jn.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class L1{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===XD?this._toastPackage:this._parentInjector.get(e,t,r)}}let eA=(()=>{class n{constructor(t,r,a,l,h){this.overlay=r,this._injector=a,this.sanitizer=l,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,a={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(a))}success(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(a))}error(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(a))}info(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(a))}warning(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(a))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(t="",r="",a,l){const{includeTitleDuplicates:h}=this.toastrConfig;for(const y of this.toasts){const E=h&&y.title===t;if((!h||E)&&y.message===r)return y.toastRef.onDuplicate(a,l),y}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,a,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,a,l)):this._buildNotification(t,r,a,l)}_buildNotification(t,r,a,l){if(!l.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(a,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||r)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=r;let y=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(y=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const E=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let T=r;r&&l.enableHtml&&(T=this.sanitizer.sanitize(f.q3G.HTML,r));const N=new F1(E),x=new XD(this.index,l,T,a,t,N),j=new L1(x,this._injector),H=new M1(l.toastComponent,j),te=E.attach(H,this.toastrConfig.newestOnTop);N.componentInstance=te.instance;const Ie={toastId:this.index,title:a||"",message:r||"",toastRef:N,onShown:N.afterActivate(),onHidden:N.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:te};return y||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ie.toastRef.activate()})),this.toasts.push(Ie),Ie}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(I0),f.LFG(kO),f.LFG(f.zs3),f.LFG(Bi),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({factory:function(){return new n(f.LFG(I0),f.LFG(kO),f.LFG(f.gxx),f.LFG(Bi),f.LFG(f.R0b))},token:n,providedIn:"root"}),n})(),V1=(()=>{class n{constructor(t,r,a){this.toastrService=t,this.toastPackage=r,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(eA),f.Y36(XD),f.Y36(f.R0b))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(f.d8E("@flyInOut",r.state),f.Tol(r.toastClasses),f.Udp("display",r.displayStyle))},attrs:OO,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(f.YNc(0,E1,3,0,"button",0),f.YNc(1,b1,3,5,"div",1),f.YNc(2,C1,1,3,"div",2),f.YNc(3,I1,2,4,"div",3),f.YNc(4,T1,2,2,"div",4)),2&t&&(f.Q6J("ngIf",r.options.closeButton),f.xp6(1),f.Q6J("ngIf",r.title),f.xp6(1),f.Q6J("ngIf",r.message&&r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.message&&!r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.options.progressBar))},directives:[gi],encapsulation:2,data:{animation:[v1("flyInOut",[rx("inactive",C0({opacity:0})),rx("active",C0({opacity:1})),rx("removed",C0({opacity:0})),RO("inactive => active",SO("{{ easeTime }}ms {{ easing }}")),RO("active => removed",SO("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const U1=Object.assign(Object.assign({},sx),{toastComponent:V1});let FO=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:I0,useValue:{default:U1,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ec]]}),n})(),B1=(()=>{class n{constructor(t,r,a){this.toastrService=t,this.toastPackage=r,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(eA),f.Y36(XD),f.Y36(f.z2F))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(f.Tol(r.toastClasses),f.Udp("display",r.displayStyle))},attrs:OO,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(f.YNc(0,D1,3,0,"button",0),f.YNc(1,S1,3,5,"div",1),f.YNc(2,N1,1,3,"div",2),f.YNc(3,R1,2,4,"div",3),f.YNc(4,x1,2,2,"div",4)),2&t&&(f.Q6J("ngIf",r.options.closeButton),f.xp6(1),f.Q6J("ngIf",r.title),f.xp6(1),f.Q6J("ngIf",r.message&&r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.message&&!r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.options.progressBar))},directives:[gi],encapsulation:2}),n})();function $1(n,e){1&n&&(f.TgZ(0,"span",17),f._uU(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),f.qZA())}function H1(n,e){1&n&&(f.TgZ(0,"div",18),f.TgZ(1,"span",19),f._uU(2,"Loading..."),f.qZA(),f.qZA())}Object.assign(Object.assign({},sx),{toastComponent:B1});let LO=(()=>{class n{constructor(t,r,a,l,h){this.fb=t,this.empleadoService=r,this.router=a,this.toastr=l,this.aRoute=h,this.submitted=!1,this.loading=!1,this.titulo="Agregar Empleado",this.btnActualizarAgregar="Agregar",this.createEmpleado=this.fb.group({nombre:["",no.required],apellido:["",no.required],documento:["",no.required],salario:["",no.required]}),this.id=this.aRoute.snapshot.paramMap.get("id"),console.log(this.id)}ngOnInit(){this.esEditar()}agregarEditarEmpleado(){this.createEmpleado.invalid?this.submitted=!0:null===this.id?this.agregarEmpleado():this.editarEmpleado(this.id)}agregarEmpleado(){const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this.empleadoService.agregarEmpleado(t).then(()=>{this.toastr.success("El empleado fue registrado con exito","Empleado registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-empleados"])}).catch(r=>{console.log(r),this.loading=!1}),console.log(t)}editarEmpleado(t){this.loading=!0;const r={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.empleadoService.actualizarEmpleado(t,r).then(()=>{this.loading=!1,this.toastr.info("El empleado fue modificado con exito","Empleado modificado",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-empleados"])})}esEditar(){null!=this.id&&(this.titulo="Editar Empleado",this.btnActualizarAgregar="Actualizar",this.loading=!0,this.empleadoService.getEmpleado(this.id).subscribe(t=>{this.loading=!1,this.createEmpleado.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,documento:t.payload.data().documento,salario:t.payload.data().salario})}))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(CE),f.Y36(DO),f.Y36(Ii),f.Y36(eA),f.Y36(bu))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-create-empleado"]],decls:22,vars:5,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","badge badge-danger",4,"ngIf"],[1,"",3,"formGroup","ngSubmit"],[1,"row","pt-3"],[1,"col"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control","form-control-lg"],["type","text","placeholder","Apellido","formControlName","apellido",1,"form-control","form-control-lg"],["type","text","placeholder","Documento","formControlName","documento",1,"form-control","form-control-lg","mt-3"],["type","number","placeholder","Salario","formControlName","salario",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","text","routerLink","/list-empleados",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-dark","btn-lg","m-3"],["class","spinner-grow mt-3","style","width: 3rem; height: 3rem;","role","status",4,"ngIf"],[1,"badge","badge-danger"],["role","status",1,"spinner-grow","mt-3",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"div",4),f.TgZ(5,"h3"),f._uU(6),f.qZA(),f.YNc(7,$1,2,0,"span",5),f.TgZ(8,"form",6),f.NdJ("ngSubmit",function(){return r.agregarEditarEmpleado()}),f.TgZ(9,"div",7),f.TgZ(10,"div",8),f._UZ(11,"input",9),f.qZA(),f.TgZ(12,"div",8),f._UZ(13,"input",10),f.qZA(),f.qZA(),f._UZ(14,"input",11),f._UZ(15,"input",12),f.TgZ(16,"div",13),f.TgZ(17,"button",14),f._uU(18,"Volver"),f.qZA(),f.TgZ(19,"button",15),f._uU(20),f.qZA(),f.qZA(),f.qZA(),f.YNc(21,H1,3,0,"div",16),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(6),f.Oqu(r.titulo),f.xp6(1),f.Q6J("ngIf",r.submitted&&r.createEmpleado.invalid),f.xp6(1),f.Q6J("formGroup",r.createEmpleado),f.xp6(12),f.Oqu(r.btnActualizarAgregar),f.xp6(1),f.Q6J("ngIf",r.loading))},directives:[gi,fE,nC,Iy,Fp,yy,Dy,pE,kh],styles:[""]}),n})();function G1(n,e){1&n&&(f.TgZ(0,"h5",7),f._uU(1,"No hay datos para mostrar"),f.qZA())}const q1=function(n){return["/editar-empleado/",n]};function z1(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"tr"),f.TgZ(1,"th"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f._uU(6),f.qZA(),f.TgZ(7,"td"),f._uU(8),f.ALo(9,"currency"),f.qZA(),f.TgZ(10,"td"),f._UZ(11,"i",10),f.TgZ(12,"i",11),f.NdJ("click",function(){const l=f.CHM(t).$implicit;return f.oxw(2).eliminarEmpleado(l.id)}),f.qZA(),f.qZA(),f.qZA()}if(2&n){const t=e.$implicit;f.xp6(2),f.Oqu(t.nombre),f.xp6(2),f.Oqu(t.apellido),f.xp6(2),f.Oqu(t.documento),f.xp6(2),f.Oqu(f.lcZ(9,5,t.salario)),f.xp6(3),f.Q6J("routerLink",f.VKq(7,q1,t.id))}}function W1(n,e){if(1&n&&(f.TgZ(0,"table",8),f.TgZ(1,"thead"),f.TgZ(2,"tr"),f.TgZ(3,"th"),f._uU(4,"Nombre"),f.qZA(),f.TgZ(5,"th"),f._uU(6,"Apellido"),f.qZA(),f.TgZ(7,"th"),f._uU(8,"Documento"),f.qZA(),f.TgZ(9,"th"),f._uU(10,"Salario"),f.qZA(),f._UZ(11,"th"),f.qZA(),f.qZA(),f.TgZ(12,"tbody"),f.YNc(13,z1,13,9,"tr",9),f.qZA(),f.qZA()),2&n){const t=f.oxw();f.xp6(13),f.Q6J("ngForOf",t.empleados)}}const K1=[{path:"",redirectTo:"list-empleados",pathMatch:"full"},{path:"list-empleados",component:(()=>{class n{constructor(t,r){this.empleadoService=t,this.toastr=r,this.empleados=[]}ngOnInit(){this.getEmpleados()}getEmpleados(){this.empleadoService.getEmpleados().subscribe(t=>{this.empleados=[],t.forEach(r=>{this.empleados.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.empleados)})}eliminarEmpleado(t){this.empleadoService.eliminarEmpleado(t).then(()=>{this.toastr.error("El empleado fu\xe9 eliminado con exito","Registro eliminado",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(DO),f.Y36(eA))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/create-empleado",1,"btn","btn-dark","btn-lg","float-right"],["class","mt-5 text-center",4,"ngIf"],["class","table mt-5 table-dark table-striped",4,"ngIf"],[1,"mt-5","text-center"],[1,"table","mt-5","table-dark","table-striped"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","m-1",3,"routerLink"],[1,"fas","fa-trash","fa-lg","text-danger","m-1",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"span",3),f._uU(4,"Listado de Empleados"),f.qZA(),f.TgZ(5,"button",4),f._uU(6,"Agregar"),f.qZA(),f.YNc(7,G1,2,0,"h5",5),f.YNc(8,W1,14,1,"table",6),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(7),f.Q6J("ngIf",r.empleados.length<=0),f.xp6(1),f.Q6J("ngIf",r.empleados.length>0))},directives:[kh,gi,Fi],pipes:[ra],styles:[""]}),n})()},{path:"create-empleado",component:LO},{path:"editar-empleado/:id",component:LO},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let Z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Wv.forRoot(K1)],Wv]}),n})();function VO(){return"undefined"!=typeof window&&void 0!==window.document}function ox(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Jf(n){switch(n.length){case 0:return new vv;case 1:return n[0];default:return new MO(n)}}function UO(n,e,t,r,a={},l={}){const h=[],y=[];let E=-1,T=null;if(r.forEach(N=>{const x=N.offset,j=x==E,H=j&&T||{};Object.keys(N).forEach(te=>{let Ie=te,Fe=N[te];if("offset"!==te)switch(Ie=e.normalizePropertyName(Ie,h),Fe){case"!":Fe=a[te];break;case Gd:Fe=l[te];break;default:Fe=e.normalizeStyleValue(te,Ie,Fe,h)}H[Ie]=Fe}),j||y.push(H),T=H,E=x}),h.length){const N="\n - ";throw new Error(`Unable to animate due to the following errors:${N}${h.join(N)}`)}return y}function ax(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ux(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ux(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ux(t,"destroy",n)))}}function ux(n,e,t){const r=t.totalTime,l=lx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function lx(n,e,t,r,a="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:a,totalTime:l,disabled:!!h}}function Zo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function BO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let cx=(n,e)=>!1,dx=(n,e)=>!1,jO=(n,e,t)=>[];const $O=ox();($O||"undefined"!=typeof Element)&&(cx=VO()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),dx=(()=>{if($O||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):dx}})(),jO=(n,e,t)=>{let r=[];if(t){const a=n.querySelectorAll(e);for(let l=0;l<a.length;l++)r.push(a[l])}else{const a=n.querySelector(e);a&&r.push(a)}return r});let ym=null,HO=!1;function hx(n){ym||(ym=("undefined"!=typeof document?document.body:null)||{},HO=!!ym.style&&"WebkitAppearance"in ym.style);let e=!0;return ym.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ym.style,!e&&HO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ym.style)),e}const fx=dx,px=cx,gx=jO;function GO(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let qO=(()=>{class n{validateStyleProperty(t){return hx(t)}matchesElement(t,r){return fx(t,r)}containsElement(t,r){return px(t,r)}query(t,r,a){return gx(t,r,a)}computeStyle(t,r,a){return a||""}animate(t,r,a,l,h,y=[],E){return new vv(a,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),mx=(()=>{class n{}return n.NOOP=new qO,n})();const yx="ng-enter",tA="ng-leave",nA="ng-trigger",rA=".ng-trigger",WO="ng-animating",_x=".ng-animating";function _m(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vx(parseFloat(e[1]),e[2])}function vx(n,e){switch(e){case"s":return 1e3*n;default:return n}}function iA(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let a,l=0,h="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=vx(parseFloat(y[1]),y[2]);const E=y[3];null!=E&&(l=vx(parseFloat(E),y[4]));const T=y[5];T&&(h=T)}else a=n;if(!t){let y=!1,E=e.length;a<0&&(e.push("Duration values below 0 are not allowed for this animation step."),y=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&e.splice(E,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:l,easing:h}}(n,e,t)}function Ev(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Xf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Ev(n,t);return t}function ZO(n,e,t){return t?e+":"+t+";":""}function YO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ZO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ZO(0,rk(t),n.style[t]));n.setAttribute("style",e)}function dc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const a=wx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[a]),n.style[a]=e[r]}),ox()&&YO(n))}function vm(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=wx(t);n.style[r]=""}),ox()&&YO(n))}function T0(n){return Array.isArray(n)?1==n.length?n[0]:NO(n):n}const Ex=new RegExp("{{\\s*(.+?)\\s*}}","g");function QO(n){let e=[];if("string"==typeof n){let t;for(;t=Ex.exec(n);)e.push(t[1]);Ex.lastIndex=0}return e}function sA(n,e,t){const r=n.toString(),a=r.replace(Ex,(l,h)=>{let y=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),y=""),y.toString()});return a==r?n:a}function oA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const nk=/-+([a-z0-9])/g;function wx(n){return n.replace(nk,(...e)=>e[1].toUpperCase())}function rk(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function JO(n,e){return 0===n||0===e}function XO(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(y=>{l.hasOwnProperty(y)||h.push(y),l[y]=t[y]}),h.length)for(var a=1;a<e.length;a++){let y=e[a];h.forEach(function(E){y[E]=bx(n,E)})}}return e}function Yo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function bx(n,e){return window.getComputedStyle(n)[e]}function ik(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const E=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const a=r[1],l=r[2],h=r[3];e.push(eP(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&e.push(eP(h,a))}(r,t,e)):t.push(n),t}const uA=new Set(["true","1"]),lA=new Set(["false","0"]);function eP(n,e){const t=uA.has(n)||lA.has(n),r=uA.has(e)||lA.has(e);return(a,l)=>{let h="*"==n||n==a,y="*"==e||e==l;return!h&&t&&"boolean"==typeof a&&(h=a?uA.has(n):lA.has(n)),!y&&r&&"boolean"==typeof l&&(y=l?uA.has(e):lA.has(e)),h&&y}}const ak=new RegExp("s*:selfs*,?","g");function Cx(n,e,t){return new uk(n).build(e,t)}class uk{constructor(e){this._driver=e}build(e,t){const r=new dk(t);return this._resetContextStyleTimingState(r),Yo(this,T0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,a=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(y=>{if(this._resetContextStyleTimingState(t),0==y.type){const E=y,T=E.name;T.toString().split(/\s*,\s*/).forEach(N=>{E.name=N,l.push(this.visitState(E,t))}),E.name=T}else if(1==y.type){const E=this.visitTransition(y,t);r+=E.queryCount,a+=E.depCount,h.push(E)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:a,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=a||{};if(r.styles.forEach(y=>{if(cA(y)){const E=y;Object.keys(E).forEach(T=>{QO(E[T]).forEach(N=>{h.hasOwnProperty(N)||l.add(N)})})}}),l.size){const y=oA(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Yo(this,T0(e.animation),t);return{type:1,matchers:ik(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Em(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Yo(this,r,t)),options:Em(e.options)}}visitGroup(e,t){const r=t.currentTime;let a=0;const l=e.steps.map(h=>{t.currentTime=r;const y=Yo(this,h,t);return a=Math.max(a,t.currentTime),y});return t.currentTime=a,{type:3,steps:l,options:Em(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Ix(iA(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Ix(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||iA(r,e),Ix(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let a,l=e.styles?e.styles:C0({});if(5==l.type)a=this.visitKeyframes(l,t);else{let h=e.styles,y=!1;if(!h){y=!0;const T={};r.easing&&(T.easing=r.easing),h=C0(T)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(h,t);E.isEmptyStep=y,a=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==Gd?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let a=!1,l=null;return r.forEach(h=>{if(cA(h)){const y=h,E=y.easing;if(E&&(l=E,delete y.easing),!a)for(let T in y)if(y[T].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let a=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void t.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const E=t.collectedStyles[t.currentQuerySelector],T=E[y];let N=!0;T&&(l!=a&&l>=T.startTime&&a<=T.endTime&&(t.errors.push(`The CSS property "${y}" that exists between the times of "${T.startTime}ms" and "${T.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),N=!1),l=T.startTime),N&&(E[y]={startTime:l,endTime:a}),t.options&&function(n,e,t){const r=e.params||{},a=QO(n);a.length&&a.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[y],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let y=!1,E=!1,T=0;const N=e.steps.map(it=>{const ht=this._makeStyleAst(it,t);let kt=null!=ht.offset?ht.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(cA(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(cA(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ht.styles),ct=0;return null!=kt&&(l++,ct=ht.offset=kt),E=E||ct<0||ct>1,y=y||ct<T,T=ct,h.push(ct),ht});E&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&t.errors.push("Please ensure that all keyframe offsets are in order");const x=e.steps.length;let j=0;l>0&&l<x?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(j=1/(x-1));const H=x-1,te=t.currentTime,Ie=t.currentAnimateTimings,Fe=Ie.duration;return N.forEach((it,ht)=>{const kt=j>0?ht==H?1:j*ht:h[ht],ct=kt*Fe;t.currentTime=te+Ie.delay+ct,Ie.duration=ct,this._validateStyleAst(it,t),it.offset=kt,r.styles.push(it)}),r}visitReference(e,t){return{type:8,animation:Yo(this,T0(e.animation),t),options:Em(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Em(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Em(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ak,"")),[n=n.replace(/@\*/g,rA).replace(/@\w+/g,t=>rA+"-"+t.substr(1)).replace(/:animating/g,_x),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Zo(t.collectedStyles,t.currentQuerySelector,{});const y=Yo(this,T0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:y,originalSelector:e.selector,options:Em(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:iA(e.timings,t.errors,!0);return{type:12,animation:Yo(this,T0(e.animation),t),timings:r,options:null}}}class dk{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function cA(n){return!Array.isArray(n)&&"object"==typeof n}function Em(n){return n?(n=Ev(n)).params&&(n.params=function(n){return n?Ev(n):null}(n.params)):n={},n}function Ix(n,e,t){return{duration:n,delay:e,easing:t}}function Tx(n,e,t,r,a,l,h=null,y=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:y}}class dA{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const mk=new RegExp(":enter","g"),_k=new RegExp(":leave","g");function Dx(n,e,t,r,a,l={},h={},y,E,T=[]){return(new vk).buildKeyframes(n,e,t,r,a,l,h,y,E,T)}class vk{buildKeyframes(e,t,r,a,l,h,y,E,T,N=[]){T=T||new dA;const x=new Ax(e,t,T,a,l,N,[]);x.options=E,x.currentTimeline.setStyles([h],null,x.errors,E),Yo(this,r,x);const j=x.timelines.filter(H=>H.containsAnimation());if(j.length&&Object.keys(y).length){const H=j[j.length-1];H.allowOnlyTimelineStyles()||H.setStyles([y],null,x.errors,E)}return j.length?j.map(H=>H.buildKeyframes()):[Tx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const a=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,a,a.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?_m(r.duration):null,y=null!=r.delay?_m(r.delay):null;return 0!==h&&e.forEach(E=>{const T=t.appendInstructionToTimeline(E,h,y);l=Math.max(l,T.duration+T.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Yo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let a=t;const l=e.options;if(l&&(l.params||l.delay)&&(a=t.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=hA);const h=_m(l.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Yo(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let a=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?_m(e.options.delay):0;e.steps.forEach(h=>{const y=t.createSubContext(e.options);l&&y.delayNextStep(l),Yo(this,h,y),a=Math.max(a,y.currentTimeline.currentTime),r.push(y.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return iA(t.params?sA(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),a.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,a=t.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,a=t.currentTimeline.duration,l=r.duration,y=t.createSubContext().currentTimeline;y.easing=r.easing,e.styles.forEach(E=>{y.forwardTime((E.offset||0)*l),y.setStyles(E.styles,E.easing,t.errors,t.options),y.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(y),t.transformIntoNewTimeline(a+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,a=e.options||{},l=a.delay?_m(a.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hA);let h=r;const y=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=y.length;let E=null;y.forEach((T,N)=>{t.currentQueryIndex=N;const x=t.createSubContext(e.options,T);l&&x.delayNextStep(l),T===t.element&&(E=x.currentTimeline),Yo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,a=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),y=h*(t.currentQueryTotal-1);let E=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":E=y-E;break;case"full":E=r.currentStaggerTime}const N=t.currentTimeline;E&&N.delayNextStep(E);const x=N.currentTime;Yo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=a.currentTime-x+(a.startTime-r.currentTimeline.startTime)}}const hA={};class Ax{constructor(e,t,r,a,l,h,y,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new fA(this._driver,t,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=_m(r.duration)),null!=r.delay&&(a.delay=_m(r.delay));const l=r.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(y=>{(!t||!h.hasOwnProperty(y))&&(h[y]=sA(l[y],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(a=>{r[a]=t[a]})}}return e}createSubContext(e=null,t,r){const a=t||this.element,l=new Ax(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=hA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new Ek(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,a,l,h){let y=[];if(a&&y.push(this.element),e.length>0){e=(e=e.replace(mk,"."+this._enterClassName)).replace(_k,"."+this._leaveClassName);let T=this._driver.query(this.element,e,1!=r);0!==r&&(T=r<0?T.slice(T.length+r,T.length):T.slice(0,r)),y.push(...T)}return!l&&0==y.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),y}}class fA{constructor(e,t,r,a){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new fA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Gd,this._currentKeyframe[t]=Gd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,a){t&&(this._previousKeyframe.easing=t);const l=a&&a.params||{},h=function(n,e){const t={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Gd})):Xf(a,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(y=>{const E=sA(h[y],l,r);this._pendingStyles[y]=E,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:Gd),this._updateStyle(y,E)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],a=e._styleSummary[t];(!r||a.time>r.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,E)=>{const T=Xf(y,!0);Object.keys(T).forEach(N=>{const x=T[N];"!"==x?e.add(N):x==Gd&&t.add(N)}),r||(T.offset=E/this.duration),a.push(T)});const l=e.size?oA(e.values()):[],h=t.size?oA(t.values()):[];if(r){const y=a[0],E=Ev(y);y.offset=0,E.offset=1,a=[y,E]}return Tx(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class Ek extends fA{constructor(e,t,r,a,l,h,y=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=y,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,y=t/h,E=Xf(e[0],!1);E.offset=0,l.push(E);const T=Xf(e[0],!1);T.offset=rP(y),l.push(T);const N=e.length-1;for(let x=1;x<=N;x++){let j=Xf(e[x],!1);j.offset=rP((t+j.offset*r)/h),l.push(j)}r=h,t=0,a="",e=l}return Tx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,a,!0)}}function rP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Sx{}class bk extends Sx{normalizePropertyName(e,t){return wx(e)}normalizeStyleValue(e,t,r,a){let l="";const h=r.toString().trim();if(Ck[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const y=r.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const Ck=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iP(n,e,t,r,a,l,h,y,E,T,N,x,j){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:y,queriedElements:E,preStyleProps:T,postStyleProps:N,totalTime:x,errors:j}}const Nx={};class sP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,a){return function(n,e,t,r,a){return n.some(l=>l(e,t,r,a))}(this.ast.matchers,e,t,r,a)}buildStyles(e,t,r){const a=this._stateStyles["*"],l=this._stateStyles[e],h=a?a.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,a,l,h,y,E,T,N){const x=[],j=this.ast.options&&this.ast.options.params||Nx,te=this.buildStyles(r,y&&y.params||Nx,x),Ie=E&&E.params||Nx,Fe=this.buildStyles(a,Ie,x),it=new Set,ht=new Map,kt=new Map,ct="void"===a,vn={params:Object.assign(Object.assign({},j),Ie)},sr=N?[]:Dx(e,t,this.ast.animation,l,h,te,Fe,vn,T,x);let Zi=0;if(sr.forEach(zd=>{Zi=Math.max(zd.duration+zd.delay,Zi)}),x.length)return iP(t,this._triggerName,r,a,ct,te,Fe,[],[],ht,kt,Zi,x);sr.forEach(zd=>{const Wd=zd.element,FP=Zo(ht,Wd,{});zd.preStyleProps.forEach(wm=>FP[wm]=!0);const A0=Zo(kt,Wd,{});zd.postStyleProps.forEach(wm=>A0[wm]=!0),Wd!==t&&it.add(Wd)});const qd=oA(it.values());return iP(t,this._triggerName,r,a,ct,te,Fe,sr,qd,ht,kt,Zi)}}class Dk{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},a=Ev(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(y=>{let E=h[y];E.length>1&&(E=sA(E,a,t));const T=this.normalizer.normalizePropertyName(y,t);E=this.normalizer.normalizeStyleValue(y,T,E,t),r[T]=E})}}),r}}class Sk{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(a=>{this.states[a.name]=new Dk(a.style,a.options&&a.options.params||{},r)}),oP(this.states,"true","1"),oP(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new sP(e,a,this.states))}),this.fallbackTransition=function(n,e,t){return new sP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,y)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,a){return this.transitionFactories.find(h=>h.match(e,t,r,a))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function oP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Rk=new dA;class xk{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=Cx(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=a}_buildPlayer(e,t,r){const a=e.element,l=UO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(a,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const a=[],l=this._animations[e];let h;const y=new Map;if(l?(h=Dx(this._driver,t,l,yx,tA,{},{},r,Rk,a),h.forEach(N=>{const x=Zo(y,N.element,{});N.postStyleProps.forEach(j=>x[j]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);y.forEach((N,x)=>{Object.keys(N).forEach(j=>{N[j]=this._driver.computeStyle(x,j,Gd)})});const T=Jf(h.map(N=>{const x=y.get(N.element);return this._buildPlayer(N,{},x)}));return this._playersById[e]=T,T.onDestroy(()=>this.destroy(e)),this.players.push(T),T}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,a){const l=lx(t,"","","");return ax(this._getPlayer(e),r,l,a),()=>{}}command(e,t,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,t,a[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const aP="ng-animate-queued",uP="ng-animate-disabled",lP=".ng-animate-disabled",kk=[],cP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ya="__ng_removed";class Rx{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const l=Ev(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(a=>{null==r[a]&&(r[a]=t[a])})}}}const D0="void",xx=new Rx(D0);class Lk{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qa(t,this._hostClassName)}listen(e,t,r,a){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=Zo(this._elementListeners,e,[]),h={name:t,phase:r,callback:a};l.push(h);const y=Zo(this._engine.statesByElement,e,{});return y.hasOwnProperty(t)||(Qa(e,nA),Qa(e,nA+"-"+t),y[t]=xx),()=>{this._engine.afterFlush(()=>{const E=l.indexOf(h);E>=0&&l.splice(E,1),this._triggers[t]||delete y[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,a=!0){const l=this._getTrigger(t),h=new Mx(this.id,t,e);let y=this._engine.statesByElement.get(e);y||(Qa(e,nA),Qa(e,nA+"-"+t),this._engine.statesByElement.set(e,y={}));let E=y[t];const T=new Rx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&T.absorbOptions(E.options),y[t]=T,E||(E=xx),T.value!==D0&&E.value===T.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let a=0;a<t.length;a++){const l=t[a];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(E.params,T.params)){const Ie=[],Fe=l.matchStyles(E.value,E.params,Ie),it=l.matchStyles(T.value,T.params,Ie);Ie.length?this._engine.reportError(Ie):this._engine.afterFlush(()=>{vm(e,Fe),dc(e,it)})}return}const j=Zo(this._engine.playersByElement,e,[]);j.forEach(Ie=>{Ie.namespaceId==this.id&&Ie.triggerName==t&&Ie.queued&&Ie.destroy()});let H=l.matchTransition(E.value,T.value,e,T.params),te=!1;if(!H){if(!a)return;H=l.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:E,toState:T,player:h,isFallbackTransition:te}),te||(Qa(e,aP),h.onStart(()=>{wv(e,aP)})),h.onDone(()=>{let Ie=this.players.indexOf(h);Ie>=0&&this.players.splice(Ie,1);const Fe=this._engine.playersByElement.get(e);if(Fe){let it=Fe.indexOf(h);it>=0&&Fe.splice(it,1)}}),this.players.push(h),j.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rA,!0);r.forEach(a=>{if(a[Ya])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,a){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(y=>{if(this._triggers[y]){const E=this.trigger(e,y,D0,a);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Jf(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const a=new Set;t.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const E=this._triggers[h].fallbackTransition,T=r[h]||xx,N=new Rx(D0),x=new Mx(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:E,fromState:T,toState:N,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Ya];(!l||l===cP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Qa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(y=>{if(y.name==r.triggerName){const E=lx(l,r.triggerName,r.fromState.value,r.toState.value);E._data=e,ax(r.player,y.phase,E,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(r)}),this._queue=[],t.sort((r,a)=>{const l=r.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Vk{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Lk(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let a=this._namespaceLookup[e];a&&a.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const a=Object.keys(r);for(let l=0;l<a.length;l++){const h=r[a[l]].namespaceId;if(h){const y=this._fetchNamespace(h);y&&t.add(y)}}}return t}trigger(e,t,r,a){if(pA(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,a),!0}return!1}insertNode(e,t,r,a){if(!pA(t))return;const l=t[Ya];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qa(e,uP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),wv(e,uP))}removeNode(e,t,r,a){if(pA(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,r,a){this.collectedLeaveElements.push(t),t[Ya]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,a,l){return pA(t)?this._fetchNamespace(e).listen(t,r,a,l):()=>{}}_buildInstruction(e,t,r,a,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,rA,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_x,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ya];if(t&&t.setForRemoval){if(e[Ya]=cP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,lP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,lP,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Qa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Jf(t).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new dA,a=[],l=new Map,h=[],y=new Map,E=new Map,T=new Map,N=new Set;this.disabledNodes.forEach(nt=>{N.add(nt);const ft=this.driver.query(nt,".ng-animate-queued",!0);for(let Rt=0;Rt<ft.length;Rt++)N.add(ft[Rt])});const x=this.bodyNode,j=Array.from(this.statesByElement.keys()),H=fP(j,this.collectedEnterElements),te=new Map;let Ie=0;H.forEach((nt,ft)=>{const Rt=yx+Ie++;te.set(ft,Rt),nt.forEach(Jt=>Qa(Jt,Rt))});const Fe=[],it=new Set,ht=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const ft=this.collectedLeaveElements[nt],Rt=ft[Ya];Rt&&Rt.setForRemoval&&(Fe.push(ft),it.add(ft),Rt.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(Jt=>it.add(Jt)):ht.add(ft))}const kt=new Map,ct=fP(j,Array.from(it));ct.forEach((nt,ft)=>{const Rt=tA+Ie++;kt.set(ft,Rt),nt.forEach(Jt=>Qa(Jt,Rt))}),e.push(()=>{H.forEach((nt,ft)=>{const Rt=te.get(ft);nt.forEach(Jt=>wv(Jt,Rt))}),ct.forEach((nt,ft)=>{const Rt=kt.get(ft);nt.forEach(Jt=>wv(Jt,Rt))}),Fe.forEach(nt=>{this.processLeaveNode(nt)})});const vn=[],sr=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(Rt=>{const Jt=Rt.player,Mi=Rt.element;if(vn.push(Jt),this.collectedEnterElements.length){const fc=Mi[Ya];if(fc&&fc.setForMove)return void Jt.destroy()}const hc=!x||!this.driver.containsElement(x,Mi),Qo=kt.get(Mi),ep=te.get(Mi),wr=this._buildInstruction(Rt,r,ep,Qo,hc);if(wr.errors&&wr.errors.length)sr.push(wr);else{if(hc)return Jt.onStart(()=>vm(Mi,wr.fromStyles)),Jt.onDestroy(()=>dc(Mi,wr.toStyles)),void a.push(Jt);if(Rt.isFallbackTransition)return Jt.onStart(()=>vm(Mi,wr.fromStyles)),Jt.onDestroy(()=>dc(Mi,wr.toStyles)),void a.push(Jt);wr.timelines.forEach(fc=>fc.stretchStartingKeyframe=!0),r.append(Mi,wr.timelines),h.push({instruction:wr,player:Jt,element:Mi}),wr.queriedElements.forEach(fc=>Zo(y,fc,[]).push(Jt)),wr.preStyleProps.forEach((fc,S0)=>{const vA=Object.keys(fc);if(vA.length){let bm=E.get(S0);bm||E.set(S0,bm=new Set),vA.forEach(Fx=>bm.add(Fx))}}),wr.postStyleProps.forEach((fc,S0)=>{const vA=Object.keys(fc);let bm=T.get(S0);bm||T.set(S0,bm=new Set),vA.forEach(Fx=>bm.add(Fx))})}});if(sr.length){const nt=[];sr.forEach(ft=>{nt.push(`@${ft.triggerName} has failed due to:\n`),ft.errors.forEach(Rt=>nt.push(`- ${Rt}\n`))}),vn.forEach(ft=>ft.destroy()),this.reportError(nt)}const Zi=new Map,qd=new Map;h.forEach(nt=>{const ft=nt.element;r.has(ft)&&(qd.set(ft,ft),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,Zi))}),a.forEach(nt=>{const ft=nt.element;this._getPreviousPlayers(ft,!1,nt.namespaceId,nt.triggerName,null).forEach(Jt=>{Zo(Zi,ft,[]).push(Jt),Jt.destroy()})});const zd=Fe.filter(nt=>gP(nt,E,T)),Wd=new Map;hP(Wd,this.driver,ht,T,Gd).forEach(nt=>{gP(nt,E,T)&&zd.push(nt)});const A0=new Map;H.forEach((nt,ft)=>{hP(A0,this.driver,new Set(nt),E,"!")}),zd.forEach(nt=>{const ft=Wd.get(nt),Rt=A0.get(nt);Wd.set(nt,Object.assign(Object.assign({},ft),Rt))});const wm=[],LP=[],VP={};h.forEach(nt=>{const{element:ft,player:Rt,instruction:Jt}=nt;if(r.has(ft)){if(N.has(ft))return Rt.onDestroy(()=>dc(ft,Jt.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(Jt.totalTime),void a.push(Rt);let Mi=VP;if(qd.size>1){let Qo=ft;const ep=[];for(;Qo=Qo.parentNode;){const wr=qd.get(Qo);if(wr){Mi=wr;break}ep.push(Qo)}ep.forEach(wr=>qd.set(wr,Mi))}const hc=this._buildAnimation(Rt.namespaceId,Jt,Zi,l,A0,Wd);if(Rt.setRealPlayer(hc),Mi===VP)wm.push(Rt);else{const Qo=this.playersByElement.get(Mi);Qo&&Qo.length&&(Rt.parentPlayer=Jf(Qo)),a.push(Rt)}}else vm(ft,Jt.fromStyles),Rt.onDestroy(()=>dc(ft,Jt.toStyles)),LP.push(Rt),N.has(ft)&&a.push(Rt)}),LP.forEach(nt=>{const ft=l.get(nt.element);if(ft&&ft.length){const Rt=Jf(ft);nt.setRealPlayer(Rt)}}),a.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<Fe.length;nt++){const ft=Fe[nt],Rt=ft[Ya];if(wv(ft,tA),Rt&&Rt.hasAnimation)continue;let Jt=[];if(y.size){let hc=y.get(ft);hc&&hc.length&&Jt.push(...hc);let Qo=this.driver.query(ft,_x,!0);for(let ep=0;ep<Qo.length;ep++){let wr=y.get(Qo[ep]);wr&&wr.length&&Jt.push(...wr)}}const Mi=Jt.filter(hc=>!hc.destroyed);Mi.length?$k(this,ft,Mi):this.processLeaveNode(ft)}return Fe.length=0,wm.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const ft=this.players.indexOf(nt);this.players.splice(ft,1)}),nt.play()}),wm}elementContainsData(e,t){let r=!1;const a=t[Ya];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,a,l){let h=[];if(t){const y=this.playersByQueriedElement.get(e);y&&(h=y)}else{const y=this.playersByElement.get(e);if(y){const E=!l||l==D0;y.forEach(T=>{T.queued||!E&&T.triggerName!=a||h.push(T)})}}return(r||a)&&(h=h.filter(y=>!(r&&r!=y.namespaceId||a&&a!=y.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,y=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const T=E.element,N=T!==l,x=Zo(r,T,[]);this._getPreviousPlayers(T,N,h,y,t.toState).forEach(H=>{const te=H.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),H.destroy(),x.push(H)})}vm(l,t.fromStyles)}_buildAnimation(e,t,r,a,l,h){const y=t.triggerName,E=t.element,T=[],N=new Set,x=new Set,j=t.timelines.map(te=>{const Ie=te.element;N.add(Ie);const Fe=Ie[Ya];if(Fe&&Fe.removedBeforeQueried)return new vv(te.duration,te.delay);const it=Ie!==E,ht=function(n){const e=[];return pP(n,e),e}((r.get(Ie)||kk).map(Zi=>Zi.getRealPlayer())).filter(Zi=>!!Zi.element&&Zi.element===Ie),kt=l.get(Ie),ct=h.get(Ie),vn=UO(0,this._normalizer,0,te.keyframes,kt,ct),sr=this._buildPlayer(te,vn,ht);if(te.subTimeline&&a&&x.add(Ie),it){const Zi=new Mx(e,y,Ie);Zi.setRealPlayer(sr),T.push(Zi)}return sr});T.forEach(te=>{Zo(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,te.element,te))}),N.forEach(te=>Qa(te,WO));const H=Jf(j);return H.onDestroy(()=>{N.forEach(te=>wv(te,WO)),dc(E,t.toStyles)}),x.forEach(te=>{Zo(a,te,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new vv(e.duration,e.delay)}}class Mx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new vv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>ax(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Zo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pA(n){return n&&1===n.nodeType}function dP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function hP(n,e,t,r,a){const l=[];t.forEach(E=>l.push(dP(E)));const h=[];r.forEach((E,T)=>{const N={};E.forEach(x=>{const j=N[x]=e.computeStyle(T,x,a);(!j||0==j.length)&&(T[Ya]=Fk,h.push(T))}),n.set(T,N)});let y=0;return t.forEach(E=>dP(E,l[y++])),h}function fP(n,e){const t=new Map;if(n.forEach(y=>t.set(y,[])),0==e.length)return t;const a=new Set(e),l=new Map;function h(y){if(!y)return 1;let E=l.get(y);if(E)return E;const T=y.parentNode;return E=t.has(T)?T:a.has(T)?1:h(T),l.set(y,E),E}return e.forEach(y=>{const E=h(y);1!==E&&t.get(E).push(y)}),t}const gA="$$classes";function Qa(n,e){if(n.classList)n.classList.add(e);else{let t=n[gA];t||(t=n[gA]={}),t[e]=!0}}function wv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[gA];t&&delete t[e]}}function $k(n,e,t){Jf(t).onDone(()=>n.processLeaveNode(e))}function pP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof MO?pP(r.players,e):e.push(r)}}function gP(n,e,t){const r=t.get(n);if(!r)return!1;let a=e.get(n);return a?r.forEach(l=>a.add(l)):e.set(n,r),t.delete(n),!0}class mA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new Vk(e,t,r),this._timelineEngine=new xk(e,t,r),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(e,t,r,a,l){const h=e+"-"+a;let y=this._triggerCache[h];if(!y){const E=[],T=Cx(this._driver,l,E);if(E.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);y=function(n,e,t){return new Sk(n,e,t)}(a,T,this._normalizer),this._triggerCache[h]=y}this._transitionEngine.registerTrigger(t,a,y)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,a){this._transitionEngine.insertNode(e,t,r,a)}onRemove(e,t,r,a){this._transitionEngine.removeNode(e,t,a||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,a){if("@"==r.charAt(0)){const[l,h]=BO(r);this._timelineEngine.command(l,t,h,a)}else this._transitionEngine.trigger(e,t,r,a)}listen(e,t,r,a,l){if("@"==r.charAt(0)){const[h,y]=BO(r);return this._timelineEngine.listen(h,t,y,l)}return this._transitionEngine.listen(e,t,r,a,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mP(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Ox(e[0]),e.length>1&&(r=Ox(e[e.length-1]))):e&&(t=Ox(e)),t||r?new qk(n,t,r):null}let qk=(()=>{class n{constructor(t,r,a){this._element=t,this._startStyles=r,this._endStyles=a,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&dc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dc(this._element,this._initialStyles),this._endStyles&&(dc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(vm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vm(this._element,this._endStyles),this._endStyles=null),dc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ox(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const a=t[r];zk(a)&&(e=e||{},e[a]=n[a])}return e}function zk(n){return"display"===n||"position"===n}const yP="animation",_P="animationend";class Zk{constructor(e,t,r,a,l,h,y){this._element=e,this._name=t,this._duration=r,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=y,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=E=>this._handleCallback(E)}apply(){(function(n,e){const t=kx(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),yA(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),wP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){vP(this._element,this._name,"paused")}resume(){vP(this._element,this._name,"running")}setPosition(e){const t=EP(this._element,this._name);this._position=e*this._duration,yA(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),wP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=kx(n,"").split(","),a=Px(r,e);a>=0&&(r.splice(a,1),yA(n,"",r.join(",")))}(this._element,this._name))}}function vP(n,e,t){yA(n,"PlayState",t,EP(n,e))}function EP(n,e){const t=kx(n,"");return t.indexOf(",")>0?Px(t.split(","),e):Px([t],e)}function Px(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function wP(n,e,t){t?n.removeEventListener(_P,e):n.addEventListener(_P,e)}function yA(n,e,t,r){const a=yP+e;if(null!=r){const l=n.style[a];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[a]=t}function kx(n,e){return n.style[yP+e]||""}class bP{constructor(e,t,r,a,l,h,y,E){this.element=e,this.keyframes=t,this.animationName=r,this._duration=a,this._delay=l,this._finalStyles=y,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Zk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:bx(this.element,r))})}this.currentSnapshot=e}}class tF extends vv{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=GO(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class IP{constructor(){this._count=0}validateStyleProperty(e){return hx(e)}matchesElement(e,t){return fx(e,t)}containsElement(e,t){return px(e,t)}query(e,t,r){return gx(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(y=>GO(y));let a=`@keyframes ${t} {\n`,l="";r.forEach(y=>{l=" ";const E=parseFloat(y.offset);a+=`${l}${100*E}% {\n`,l+=" ",Object.keys(y).forEach(T=>{const N=y[T];switch(T){case"offset":return;case"easing":return void(N&&(a+=`${l}animation-timing-function: ${N};\n`));default:return void(a+=`${l}${T}: ${N};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(e,t,r,a,l,h=[],y){const E=h.filter(Fe=>Fe instanceof bP),T={};JO(r,a)&&E.forEach(Fe=>{let it=Fe.currentSnapshot;Object.keys(it).forEach(ht=>T[ht]=it[ht])});const N=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(e[a]=r[a])})}),e}(t=XO(e,t,T));if(0==r)return new tF(e,N);const x="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(e,x,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(j);const te=mP(e,t),Ie=new bP(e,t,x,r,a,l,N,te);return Ie.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(j)),Ie}}class DP{constructor(e,t,r,a){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:bx(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class oF{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(AP().toString()),this._cssKeyframesDriver=new IP}validateStyleProperty(e){return hx(e)}matchesElement(e,t){return fx(e,t)}containsElement(e,t){return px(e,t)}query(e,t,r){return gx(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,a,l,h=[],y){if(!y&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,a,l,h);const N={duration:r,delay:a,fill:0==a?"both":"forwards"};l&&(N.easing=l);const x={},j=h.filter(te=>te instanceof DP);JO(r,a)&&j.forEach(te=>{let Ie=te.currentSnapshot;Object.keys(Ie).forEach(Fe=>x[Fe]=Ie[Fe])});const H=mP(e,t=XO(e,t=t.map(te=>Xf(te,!1)),x));return new DP(e,t,N,H)}}function AP(){return VO()&&Element.prototype.animate||{}}let uF=(()=>{class n extends AO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?NO(t):t;return SP(this._renderer,null,r,"register",[a]),new lF(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(be))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class lF extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new cF(this._id,e,t||{},this._renderer)}}class cF{constructor(e,t,r,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return SP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function SP(n,e,t,r,a){return n.setProperty(e,`@@${t}:${r}`,a)}const NP="@.disabled";let dF=(()=>{class n{constructor(t,r,a){this.delegate=t,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let N=this._rendererCache.get(l);return N||(N=new RP("",l,this.engine),this._rendererCache.set(l,N)),N}const h=r.id,y=r.id+"-"+this._currentId;this._currentId++,this.engine.register(y,t);const E=N=>{Array.isArray(N)?N.forEach(E):this.engine.registerTrigger(h,y,t,N.name,N)};return r.data.animation.forEach(E),new hF(this,y,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,a){t>=0&&t<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,y]=l;h(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(mA),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class RP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,a=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,a){this.delegate.setAttribute(e,t,r,a)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,a){this.delegate.setStyle(e,t,r,a)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==NP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class hF extends RP{constructor(e,t,r,a){super(t,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==NP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,y=>{this.factory.scheduleListenerCallback(y._data||-1,r,y)})}return this.delegate.listen(e,t,r)}}let gF=(()=>{class n extends mA{constructor(t,r,a){super(t.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(be),f.LFG(mx),f.LFG(Sx))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const xP=new f.OlP("AnimationModuleType"),MP=[{provide:AO,useClass:uF},{provide:Sx,useFactory:function(){return new bk}},{provide:mA,useClass:gF},{provide:f.FYo,useFactory:function(n,e,t){return new dF(n,e,t)},deps:[bo,mA,f.R0b]}],OP=[{provide:mx,useFactory:function(){return"function"==typeof AP()?new oF:new IP}},{provide:xP,useValue:"BrowserAnimations"},...MP],PP=[{provide:mx,useClass:qO},{provide:xP,useValue:"NoopAnimations"},...MP];let vF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?PP:OP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:OP,imports:[Do]}),n})(),EF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-navbar"]],decls:3,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"navbar-brand","mb-0","h1"]],template:function(t,r){1&t&&(f.TgZ(0,"nav",0),f.TgZ(1,"span",1),f._uU(2,"App Empleados - Firebase"),f.qZA(),f.qZA())},styles:[""]}),n})(),wF=(()=>{class n{constructor(){this.title="empleados"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(f._UZ(0,"app-navbar"),f._UZ(1,"router-outlet"))},directives:[EF,ly],styles:[""]}),n})();const kP_firebase={apiKey:"AIzaSyBZMTZE1jNyMRv2VK-ZldqxIzs3f5mVWHs",authDomain:"empleados-78e30.firebaseapp.com",projectId:"empleados-78e30",storageBucket:"empleados-78e30.appspot.com",messagingSenderId:"369590696755",appId:"1:369590696755:web:a25d00045e8f3485089c46"};let bF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[wF]}),n.\u0275inj=f.cJS({providers:[],imports:[[Do,Z1,Lo.hO.initializeApp(kP_firebase),y1,ES,FO.forRoot(),vF]]}),n})();(0,f.G48)(),Rc().bootstrapModule(bF).catch(n=>console.error(n))},4762:(Xe,Ne,V)=>{"use strict";function de(re,ue){var ge={};for(var ce in re)Object.prototype.hasOwnProperty.call(re,ce)&&ue.indexOf(ce)<0&&(ge[ce]=re[ce]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ce=Object.getOwnPropertySymbols(re);Le<ce.length;Le++)ue.indexOf(ce[Le])<0&&Object.prototype.propertyIsEnumerable.call(re,ce[Le])&&(ge[ce[Le]]=re[ce[Le]])}return ge}function he(re,ue,ge,ce){return new(ge||(ge=Promise))(function(ye,st){function qt(Zt){try{wt(ce.next(Zt))}catch(Ln){st(Ln)}}function Fn(Zt){try{wt(ce.throw(Zt))}catch(Ln){st(Ln)}}function wt(Zt){Zt.done?ye(Zt.value):function(ye){return ye instanceof ge?ye:new ge(function(st){st(ye)})}(Zt.value).then(qt,Fn)}wt((ce=ce.apply(re,ue||[])).next())})}function K(re,ue){var ce,Le,ye,st,ge={label:0,sent:function(){if(1&ye[0])throw ye[1];return ye[1]},trys:[],ops:[]};return st={next:qt(0),throw:qt(1),return:qt(2)},"function"==typeof Symbol&&(st[Symbol.iterator]=function(){return this}),st;function qt(wt){return function(Zt){return function(wt){if(ce)throw new TypeError("Generator is already executing.");for(;ge;)try{if(ce=1,Le&&(ye=2&wt[0]?Le.return:wt[0]?Le.throw||((ye=Le.return)&&ye.call(Le),0):Le.next)&&!(ye=ye.call(Le,wt[1])).done)return ye;switch(Le=0,ye&&(wt=[2&wt[0],ye.value]),wt[0]){case 0:case 1:ye=wt;break;case 4:return ge.label++,{value:wt[1],done:!1};case 5:ge.label++,Le=wt[1],wt=[0];continue;case 7:wt=ge.ops.pop(),ge.trys.pop();continue;default:if(!(ye=(ye=ge.trys).length>0&&ye[ye.length-1])&&(6===wt[0]||2===wt[0])){ge=0;continue}if(3===wt[0]&&(!ye||wt[1]>ye[0]&&wt[1]<ye[3])){ge.label=wt[1];break}if(6===wt[0]&&ge.label<ye[1]){ge.label=ye[1],ye=wt;break}if(ye&&ge.label<ye[2]){ge.label=ye[2],ge.ops.push(wt);break}ye[2]&&ge.ops.pop(),ge.trys.pop();continue}wt=ue.call(re,ge)}catch(Zt){wt=[6,Zt],Le=0}finally{ce=ye=0}if(5&wt[0])throw wt[1];return{value:wt[0]?wt[1]:void 0,done:!0}}([wt,Zt])}}}function J(re){var ue="function"==typeof Symbol&&Symbol.iterator,ge=ue&&re[ue],ce=0;if(ge)return ge.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ce>=re.length&&(re=void 0),{value:re&&re[ce++],done:!re}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(re,ue){var ge="function"==typeof Symbol&&re[Symbol.iterator];if(!ge)return re;var Le,st,ce=ge.call(re),ye=[];try{for(;(void 0===ue||ue-- >0)&&!(Le=ce.next()).done;)ye.push(Le.value)}catch(qt){st={error:qt}}finally{try{Le&&!Le.done&&(ge=ce.return)&&ge.call(ce)}finally{if(st)throw st.error}}return ye}function fe(re,ue,ge){if(ge||2===arguments.length)for(var ye,ce=0,Le=ue.length;ce<Le;ce++)(ye||!(ce in ue))&&(ye||(ye=Array.prototype.slice.call(ue,0,ce)),ye[ce]=ue[ce]);return re.concat(ye||Array.prototype.slice.call(ue))}V.d(Ne,{_T:()=>de,mG:()=>he,Jh:()=>K,XA:()=>J,CR:()=>Y,ev:()=>fe})},8239:(Xe,Ne,V)=>{"use strict";function f(F,de,ne,se,be,he,K){try{var k=F[he](K),L=k.value}catch(J){return void ne(J)}k.done?de(L):Promise.resolve(L).then(se,be)}function ee(F){return function(){var de=this,ne=arguments;return new Promise(function(se,be){var he=F.apply(de,ne);function K(L){f(he,se,be,K,k,"next",L)}function k(L){f(he,se,be,K,k,"throw",L)}K(void 0)})}}V.d(Ne,{Z:()=>ee})}},Xe=>{Xe(Xe.s=4788)}]);